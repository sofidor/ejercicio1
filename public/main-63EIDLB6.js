var kS=Object.defineProperty,FS=Object.defineProperties;var LS=Object.getOwnPropertyDescriptors;var N_=Object.getOwnPropertySymbols,VS=Object.getPrototypeOf,jS=Object.prototype.hasOwnProperty,US=Object.prototype.propertyIsEnumerable,BS=Reflect.get;var P_=(t,e,n)=>e in t?kS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})jS.call(e,n)&&P_(t,n,e[n]);if(N_)for(var n of N_(e))US.call(e,n)&&P_(t,n,e[n]);return t},oe=(t,e)=>FS(t,LS(e));var Jn=(t,e,n)=>BS(VS(t),n,e);var I=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function O_(t,e){return Object.is(t,e)}var Le=null,Cc=!1,Tc=1,In=Symbol("SIGNAL");function fe(t){let e=Le;return Le=t,e}function k_(){return Le}var Ps={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Dh(t){if(Cc)throw new Error("");if(Le===null)return;Le.consumerOnSignalRead(t);let e=Le.nextProducerIndex++;if(xc(Le),e<Le.producerNode.length&&Le.producerNode[e]!==t&&Ns(Le)){let n=Le.producerNode[e];Mc(n,Le.producerIndexOfThis[e])}Le.producerNode[e]!==t&&(Le.producerNode[e]=t,Le.producerIndexOfThis[e]=Ns(Le)?j_(t,Le,e):0),Le.producerLastReadVersion[e]=t.version}function $S(){Tc++}function F_(t){if(!(Ns(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Tc)){if(!t.producerMustRecompute(t)&&!Ch(t)){t.dirty=!1,t.lastCleanEpoch=Tc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Tc}}function L_(t){if(t.liveConsumerNode===void 0)return;let e=Cc;Cc=!0;try{for(let n of t.liveConsumerNode)n.dirty||HS(n)}finally{Cc=e}}function V_(){return Le?.consumerAllowSignalWrites!==!1}function HS(t){t.dirty=!0,L_(t),t.consumerMarkedDirty?.(t)}function Ac(t){return t&&(t.nextProducerIndex=0),fe(t)}function bh(t,e){if(fe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Ns(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Mc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Ch(t){xc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(F_(n),r!==n.version))return!0}return!1}function Th(t){if(xc(t),Ns(t))for(let e=0;e<t.producerNode.length;e++)Mc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function j_(t,e,n){if(U_(t),t.liveConsumerNode.length===0&&B_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=j_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Mc(t,e){if(U_(t),t.liveConsumerNode.length===1&&B_(t))for(let r=0;r<t.producerNode.length;r++)Mc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];xc(i),i.producerIndexOfThis[r]=e}}function Ns(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function xc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function U_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function B_(t){return t.producerNode!==void 0}function $_(t){let e=Object.create(zS);e.computation=t;let n=()=>{if(F_(e),Dh(e),e.value===Sc)throw e.error;return e.value};return n[In]=e,n}var Ih=Symbol("UNSET"),Eh=Symbol("COMPUTING"),Sc=Symbol("ERRORED"),zS=oe(F({},Ps),{value:Ih,dirty:!0,error:null,equal:O_,producerMustRecompute(t){return t.value===Ih||t.value===Eh},producerRecomputeValue(t){if(t.value===Eh)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Eh;let n=Ac(t),r;try{r=t.computation()}catch(i){r=Sc,t.error=i}finally{bh(t,n)}if(e!==Ih&&e!==Sc&&r!==Sc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function qS(){throw new Error}var H_=qS;function z_(){H_()}function q_(t){H_=t}var GS=null;function G_(t){let e=Object.create(K_);e.value=t;let n=()=>(Dh(e),e.value);return n[In]=e,n}function Sh(t,e){V_()||z_(),t.equal(t.value,e)||(t.value=e,WS(t))}function W_(t,e){V_()||z_(),Sh(t,e(t.value))}var K_=oe(F({},Ps),{equal:O_,value:void 0});function WS(t){t.version++,$S(),L_(t),GS?.()}function K(t){return typeof t=="function"}function Vi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Rc=Vi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Vr(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(K(r))try{r()}catch(o){e=o instanceof Rc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Q_(o)}catch(s){e=e??[],s instanceof Rc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Rc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Q_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Vr(n,e)}remove(e){let{_finalizers:n}=this;n&&Vr(n,e),e instanceof t&&e._removeParent(this)}};Ae.EMPTY=(()=>{let t=new Ae;return t.closed=!0,t})();var Ah=Ae.EMPTY;function Nc(t){return t instanceof Ae||t&&"closed"in t&&K(t.remove)&&K(t.add)&&K(t.unsubscribe)}function Q_(t){K(t)?t():t.unsubscribe()}var $t={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ji={setTimeout(t,e,...n){let{delegate:r}=ji;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=ji;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Pc(t){ji.setTimeout(()=>{let{onUnhandledError:e}=$t;if(e)e(t);else throw t})}function Os(){}var Y_=Mh("C",void 0,void 0);function Z_(t){return Mh("E",void 0,t)}function J_(t){return Mh("N",t,void 0)}function Mh(t,e,n){return{kind:t,value:e,error:n}}var jr=null;function Ui(t){if($t.useDeprecatedSynchronousErrorHandling){let e=!jr;if(e&&(jr={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=jr;if(jr=null,n)throw r}}else t()}function X_(t){$t.useDeprecatedSynchronousErrorHandling&&jr&&(jr.errorThrown=!0,jr.error=t)}var Ur=class extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Nc(e)&&e.add(this)):this.destination=YS}static create(e,n,r){return new Bi(e,n,r)}next(e){this.isStopped?Rh(J_(e),this):this._next(e)}error(e){this.isStopped?Rh(Z_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rh(Y_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},KS=Function.prototype.bind;function xh(t,e){return KS.call(t,e)}var Nh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Oc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Oc(r)}else Oc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Oc(n)}}},Bi=class extends Ur{constructor(e,n,r){super();let i;if(K(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&$t.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&xh(e.next,o),error:e.error&&xh(e.error,o),complete:e.complete&&xh(e.complete,o)}):i=e}this.destination=new Nh(i)}};function Oc(t){$t.useDeprecatedSynchronousErrorHandling?X_(t):Pc(t)}function QS(t){throw t}function Rh(t,e){let{onStoppedNotification:n}=$t;n&&ji.setTimeout(()=>n(t,e))}var YS={closed:!0,next:Os,error:QS,complete:Os};var $i=typeof Symbol=="function"&&Symbol.observable||"@@observable";function wt(t){return t}function Ph(...t){return Oh(t)}function Oh(t){return t.length===0?wt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var le=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=JS(n)?n:new Bi(n,r,i);return Ui(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ew(r),new r((i,o)=>{let s=new Bi({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[$i](){return this}pipe(...n){return Oh(n)(this)}toPromise(n){return n=ew(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ew(t){var e;return(e=t??$t.Promise)!==null&&e!==void 0?e:Promise}function ZS(t){return t&&K(t.next)&&K(t.error)&&K(t.complete)}function JS(t){return t&&t instanceof Ur||ZS(t)&&Nc(t)}function kh(t){return K(t?.lift)}function de(t){return e=>{if(kh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function se(t,e,n,r,i){return new Fh(t,e,n,r,i)}var Fh=class extends Ur{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Hi(){return de((t,e)=>{let n=null;t._refCount++;let r=se(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var zi=class extends le{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,kh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;let n=this.getSubject();e.add(this.source.subscribe(se(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return Hi()(this)}};var tw=Vi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ze=(()=>{class t extends le{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new kc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new tw}next(n){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Ui(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Ah:(this.currentObservers=null,o.push(n),new Ae(()=>{this.currentObservers=null,Vr(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new le;return n.source=this,n}}return t.create=(e,n)=>new kc(e,n),t})(),kc=class extends ze{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:Ah}};var Ye=class extends ze{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Lh={now(){return(Lh.delegate||Date).now()},delegate:void 0};var Fc=class extends Ae{constructor(e,n){super()}schedule(e,n=0){return this}};var ks={setInterval(t,e,...n){let{delegate:r}=ks;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=ks;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var qi=class extends Fc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return ks.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&ks.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Vr(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Gi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Gi.now=Lh.now;var Wi=class extends Gi{constructor(e,n=Gi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Vh=new Wi(qi);var Lc=class extends qi{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Vc=class extends Wi{};var jh=new Vc(Lc);var It=new le(t=>t.complete());function nw(t){return t&&K(t.schedule)}function rw(t){return t[t.length-1]}function jc(t){return K(rw(t))?t.pop():void 0}function Xn(t){return nw(rw(t))?t.pop():void 0}function Uh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ow(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(g){s(g)}}function u(f){try{l(r.throw(f))}catch(g){s(g)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function iw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Br(t){return this instanceof Br?(this.v=t,this):new Br(t)}function sw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(A){return Promise.resolve(A).then(w,g)}}function c(w,A){r[w]&&(i[w]=function(P){return new Promise(function(N,j){o.push([w,P,N,j])>1||u(w,P)})},A&&(i[w]=A(i[w])))}function u(w,A){try{l(r[w](A))}catch(P){_(o[0][3],P)}}function l(w){w.value instanceof Br?Promise.resolve(w.value.v).then(f,g):_(o[0][2],w)}function f(w){u("next",w)}function g(w){u("throw",w)}function _(w,A){w(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function aw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof iw=="function"?iw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Uc=t=>t&&typeof t.length=="number"&&typeof t!="function";function Bc(t){return K(t?.then)}function $c(t){return K(t[$i])}function Hc(t){return Symbol.asyncIterator&&K(t?.[Symbol.asyncIterator])}function zc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function XS(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var qc=XS();function Gc(t){return K(t?.[qc])}function Wc(t){return sw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Br(n.read());if(i)return yield Br(void 0);yield yield Br(r)}}finally{n.releaseLock()}})}function Kc(t){return K(t?.getReader)}function Re(t){if(t instanceof le)return t;if(t!=null){if($c(t))return eA(t);if(Uc(t))return tA(t);if(Bc(t))return nA(t);if(Hc(t))return cw(t);if(Gc(t))return rA(t);if(Kc(t))return iA(t)}throw zc(t)}function eA(t){return new le(e=>{let n=t[$i]();if(K(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function tA(t){return new le(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function nA(t){return new le(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Pc)})}function rA(t){return new le(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function cw(t){return new le(e=>{oA(t,e).catch(n=>e.error(n))})}function iA(t){return cw(Wc(t))}function oA(t,e){var n,r,i,o;return ow(this,void 0,void 0,function*(){try{for(n=aw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function mt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function er(t,e=0){return de((n,r)=>{n.subscribe(se(r,i=>mt(r,t,()=>r.next(i),e),()=>mt(r,t,()=>r.complete(),e),i=>mt(r,t,()=>r.error(i),e)))})}function tr(t,e=0){return de((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function uw(t,e){return Re(t).pipe(tr(e),er(e))}function lw(t,e){return Re(t).pipe(tr(e),er(e))}function dw(t,e){return new le(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function hw(t,e){return new le(n=>{let r;return mt(n,e,()=>{r=t[qc](),mt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>K(r?.return)&&r.return()})}function Qc(t,e){if(!t)throw new Error("Iterable cannot be null");return new le(n=>{mt(n,e,()=>{let r=t[Symbol.asyncIterator]();mt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function fw(t,e){return Qc(Wc(t),e)}function pw(t,e){if(t!=null){if($c(t))return uw(t,e);if(Uc(t))return dw(t,e);if(Bc(t))return lw(t,e);if(Hc(t))return Qc(t,e);if(Gc(t))return hw(t,e);if(Kc(t))return fw(t,e)}throw zc(t)}function Me(t,e){return e?pw(t,e):Re(t)}function Q(...t){let e=Xn(t);return Me(t,e)}function Ki(t,e){let n=K(t)?t:()=>t,r=i=>i.error(n());return new le(e?i=>e.schedule(r,0,i):r)}function Bh(t){return!!t&&(t instanceof le||K(t.lift)&&K(t.subscribe))}var En=Vi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function ie(t,e){return de((n,r)=>{let i=0;n.subscribe(se(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:sA}=Array;function aA(t,e){return sA(e)?t(...e):t(e)}function Yc(t){return ie(e=>aA(t,e))}var{isArray:cA}=Array,{getPrototypeOf:uA,prototype:lA,keys:dA}=Object;function Zc(t){if(t.length===1){let e=t[0];if(cA(e))return{args:e,keys:null};if(hA(e)){let n=dA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function hA(t){return t&&typeof t=="object"&&uA(t)===lA}function Jc(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Xc(...t){let e=Xn(t),n=jc(t),{args:r,keys:i}=Zc(t);if(r.length===0)return Me([],e);let o=new le(fA(r,e,i?s=>Jc(i,s):wt));return n?o.pipe(Yc(n)):o}function fA(t,e,n=wt){return r=>{gw(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)gw(e,()=>{let l=Me(t[u],e),f=!1;l.subscribe(se(r,g=>{o[u]=g,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function gw(t,e,n){t?mt(n,t,e):e()}function mw(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,g=!1,_=()=>{g&&!u.length&&!l&&e.complete()},w=P=>l<r?A(P):u.push(P),A=P=>{o&&e.next(P),l++;let N=!1;Re(n(P,f++)).subscribe(se(e,j=>{i?.(j),o?w(j):e.next(j)},()=>{N=!0},void 0,()=>{if(N)try{for(l--;u.length&&l<r;){let j=u.shift();s?mt(e,s,()=>A(j)):A(j)}_()}catch(j){e.error(j)}}))};return t.subscribe(se(e,w,()=>{g=!0,_()})),()=>{c?.()}}function Ve(t,e,n=1/0){return K(e)?Ve((r,i)=>ie((o,s)=>e(r,o,i,s))(Re(t(r,i))),n):(typeof e=="number"&&(n=e),de((r,i)=>mw(r,i,t,n)))}function $h(t=1/0){return Ve(wt,t)}function yw(){return $h(1)}function Qi(...t){return yw()(Me(t,Xn(t)))}function eu(t){return new le(e=>{Re(t()).subscribe(e)})}function Hh(...t){let e=jc(t),{args:n,keys:r}=Zc(t),i=new le(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let g=!1;Re(n[f]).subscribe(se(o,_=>{g||(g=!0,l--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(l||o.next(r?Jc(r,c):c),o.complete())}))}});return e?i.pipe(Yc(e)):i}function Ht(t,e){return de((n,r)=>{let i=0;n.subscribe(se(r,o=>t.call(e,o,i++)&&r.next(o)))})}function nr(t){return de((e,n)=>{let r=null,i=!1,o;r=e.subscribe(se(n,void 0,void 0,s=>{o=Re(t(s,nr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function vw(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(se(s,f=>{let g=l++;u=c?t(u,f,g):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Yi(t,e){return K(e)?Ve(t,e,1):Ve(t,1)}function rr(t){return de((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Dn(t){return t<=0?()=>It:de((e,n)=>{let r=0;e.subscribe(se(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function zh(t){return ie(()=>t)}function tu(t=pA){return de((e,n)=>{let r=!1;e.subscribe(se(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function pA(){return new En}function Fs(t){return de((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Jt(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,o)=>t(i,o,r)):wt,Dn(1),n?rr(e):tu(()=>new En))}function Zi(t){return t<=0?()=>It:de((e,n)=>{let r=[];e.subscribe(se(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function qh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Ht((i,o)=>t(i,o,r)):wt,Zi(1),n?rr(e):tu(()=>new En))}function Gh(t,e){return de(vw(t,e,arguments.length>=2,!0))}function Wh(...t){let e=Xn(t);return de((n,r)=>{(e?Qi(t,n,e):Qi(t,n)).subscribe(r)})}function zt(t,e){return de((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(se(r,u=>{i?.unsubscribe();let l=0,f=o++;Re(t(u,f)).subscribe(i=se(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Kh(t){return de((e,n)=>{Re(t).subscribe(se(n,()=>n.complete(),Os)),!n.closed&&e.subscribe(n)})}function je(t,e,n){let r=K(t)||e||n?{next:t,error:e,complete:n}:t;return r?de((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(se(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):wt}var oI="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(Zf(e,n)),this.code=e}};function Zf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ws(t){return{toString:t}.toString()}var nu="__parameters__";function gA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function sI(t,e,n){return Ws(()=>{let r=gA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let g=u.hasOwnProperty(nu)?u[nu]:Object.defineProperty(u,nu,{value:[]})[nu];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var uf=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function mA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function dt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(dt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function _w(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var yA=Ee({__forward_ref__:Ee});function mo(t){return t.__forward_ref__=mo,t.toString=function(){return dt(this())},t}function lt(t){return aI(t)?t():t}function aI(t){return typeof t=="function"&&t.hasOwnProperty(yA)&&t.__forward_ref__===mo}function z(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Xr(t){return{providers:t.providers||[],imports:t.imports||[]}}function Fu(t){return ww(t,uI)||ww(t,lI)}function cI(t){return Fu(t)!==null}function ww(t,e){return t.hasOwnProperty(e)?t[e]:null}function vA(t){let e=t&&(t[uI]||t[lI]);return e||null}function Iw(t){return t&&(t.hasOwnProperty(Ew)||t.hasOwnProperty(_A))?t[Ew]:null}var uI=Ee({\u0275prov:Ee}),Ew=Ee({\u0275inj:Ee}),lI=Ee({ngInjectableDef:Ee}),_A=Ee({ngInjectorDef:Ee}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=z({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function dI(t){return t&&!!t.\u0275providers}var wA=Ee({\u0275cmp:Ee}),IA=Ee({\u0275dir:Ee}),EA=Ee({\u0275pipe:Ee}),DA=Ee({\u0275mod:Ee}),hu=Ee({\u0275fac:Ee}),js=Ee({__NG_ELEMENT_ID__:Ee}),Dw=Ee({__NG_ENV_ID__:Ee});function Lu(t){return typeof t=="string"?t:t==null?"":String(t)}function bA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Lu(t)}function CA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function Jf(t,e){throw new B(-201,!1)}var ee=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ee||{}),lf;function hI(){return lf}function Rt(t){let e=lf;return lf=t,e}function fI(t,e,n){let r=Fu(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ee.Optional)return null;if(e!==void 0)return e;Jf(t,"Injector")}var TA={},Us=TA,df="__NG_DI_FLAG__",fu="ngTempTokenPath",SA="ngTokenPath",AA=/\n/gm,MA="\u0275",bw="__source",to;function xA(){return to}function ir(t){let e=to;return to=t,e}function RA(t,e=ee.Default){if(to===void 0)throw new B(-203,!1);return to===null?fI(t,void 0,e):to.get(t,e&ee.Optional?null:void 0,e)}function ne(t,e=ee.Default){return(hI()||RA)(lt(t),e)}function L(t,e=ee.Default){return ne(t,Vu(e))}function Vu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function hf(t){let e=[];for(let n=0;n<t.length;n++){let r=lt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=ee.Default;for(let s=0;s<r.length;s++){let c=r[s],u=NA(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(ne(i,o))}else e.push(ne(r))}return e}function pI(t,e){return t[df]=e,t.prototype[df]=e,t}function NA(t){return t[df]}function PA(t,e,n,r){let i=t[fu];throw e[bw]&&i.unshift(e[bw]),t.message=OA(`
`+t.message,i,n,r),t[SA]=i,t[fu]=null,t}function OA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==MA?t.slice(2):t;let i=dt(e);if(Array.isArray(e))i=e.map(dt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):dt(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(AA,`
  `)}`}var ft=pI(sI("Optional"),8);var gI=pI(sI("SkipSelf"),4);function ro(t,e){let n=t.hasOwnProperty(hu);return n?t[hu]:null}function Xf(t,e){t.forEach(n=>Array.isArray(n)?Xf(n,e):e(n))}function mI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function pu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function kA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function FA(t,e,n){let r=Ks(t,e);return r>=0?t[r|1]=n:(r=~r,kA(t,r,e,n)),r}function Qh(t,e){let n=Ks(t,e);if(n>=0)return t[n|1]}function Ks(t,e){return LA(t,e,1)}function LA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var io={},Nt=[],oo=new $(""),yI=new $("",-1),vI=new $(""),gu=class{get(e,n=Us){if(n===Us){let r=new Error(`NullInjectorError: No provider for ${dt(e)}!`);throw r.name="NullInjectorError",r}return n}},_I=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(_I||{}),tn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(tn||{}),ar=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(ar||{});function VA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function ff(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];jA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function wI(t){return t===3||t===4||t===6}function jA(t){return t.charCodeAt(0)===64}function Bs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Cw(t,n,i,null,e[++r]):Cw(t,n,i,null,null))}}return t}function Cw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var II="ng-template";function UA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&VA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ep(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function ep(t){return t.type===4&&t.value!==II}function BA(t,e,n){let r=t.type===4&&!n?II:t.value;return e===r}function $A(t,e,n){let r=4,i=t.attrs,o=i!==null?qA(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!qt(r)&&!qt(u))return!1;if(s&&qt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!BA(t,u,n)||u===""&&e.length===1){if(qt(r))return!1;s=!0}}else if(r&8){if(i===null||!UA(t,i,u,n)){if(qt(r))return!1;s=!0}}else{let l=e[++c],f=HA(u,i,ep(t),n);if(f===-1){if(qt(r))return!1;s=!0;continue}if(l!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(qt(r))return!1;s=!0}}}}return qt(r)||s}function qt(t){return(t&1)===0}function HA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return GA(e,t)}function zA(t,e,n=!1){for(let r=0;r<e.length;r++)if($A(t,e[r],n))return!0;return!1}function qA(t){for(let e=0;e<t.length;e++){let n=t[e];if(wI(n))return e}return t.length}function GA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Tw(t,e){return t?":not("+e.trim()+")":e}function WA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!qt(s)&&(e+=Tw(o,i),i=""),r=s,o=o||!qt(r);n++}return i!==""&&(e+=Tw(o,i)),e}function KA(t){return t.map(WA).join(",")}function QA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!qt(i))break;i=o}r++}return{attrs:e,classes:n}}function nt(t){return Ws(()=>{let e=TI(t),n=oe(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===_I.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||tn.Emulated,styles:t.styles||Nt,_:null,schemas:t.schemas||null,tView:null,id:""});SI(n);let r=t.dependencies;return n.directiveDefs=Aw(r,!1),n.pipeDefs=Aw(r,!0),n.id=JA(n),n})}function YA(t){return qr(t)||EI(t)}function ZA(t){return t!==null}function ei(t){return Ws(()=>({type:t.type,bootstrap:t.bootstrap||Nt,declarations:t.declarations||Nt,imports:t.imports||Nt,exports:t.exports||Nt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Sw(t,e){if(t==null)return io;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=ar.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==ar.None?[r,c]:r,e[o]=s):n[o]=r}return n}function rt(t){return Ws(()=>{let e=TI(t);return SI(e),e})}function qr(t){return t[wA]||null}function EI(t){return t[IA]||null}function DI(t){return t[EA]||null}function bI(t){let e=qr(t)||EI(t)||DI(t);return e!==null?e.standalone:!1}function CI(t,e){let n=t[DA]||null;if(!n&&e===!0)throw new Error(`Type ${dt(t)} does not have '\u0275mod' property.`);return n}function TI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||io,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Nt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Sw(t.inputs,e),outputs:Sw(t.outputs),debugInfo:null}}function SI(t){t.features?.forEach(e=>e(t))}function Aw(t,e){if(!t)return null;let n=e?DI:YA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(ZA)}function JA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function sn(t){return{\u0275providers:t}}function XA(...t){return{\u0275providers:AI(!0,t),\u0275fromNgModule:!0}}function AI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Xf(e,s=>{let c=s;pf(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&MI(i,o),n}function MI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];tp(i,o=>{e(o,r)})}}function pf(t,e,n,r){if(t=lt(t),!t)return!1;let i=null,o=Iw(t),s=!o&&qr(t);if(!o&&!s){let u=t.ngModule;if(o=Iw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)pf(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{Xf(o.imports,f=>{pf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&MI(l,e)}if(!c){let l=ro(i)||(()=>new i);e({provide:i,useFactory:l,deps:Nt},i),e({provide:vI,useValue:i,multi:!0},i),e({provide:oo,useValue:()=>ne(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;tp(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function tp(t,e){for(let n of t)dI(n)&&(n=n.\u0275providers),Array.isArray(n)?tp(n,e):e(n)}var eM=Ee({provide:String,useValue:Ee});function xI(t){return t!==null&&typeof t=="object"&&eM in t}function tM(t){return!!(t&&t.useExisting)}function nM(t){return!!(t&&t.useFactory)}function so(t){return typeof t=="function"}function rM(t){return!!t.useClass}var ju=new $(""),au={},iM={},Yh;function np(){return Yh===void 0&&(Yh=new gu),Yh}var kt=class{},$s=class extends kt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,mf(e,s=>this.processProvider(s)),this.records.set(yI,Ji(void 0,this)),i.has("environment")&&this.records.set(kt,Ji(void 0,this));let o=this.records.get(ju);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(vI,Nt,ee.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=fe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),fe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=ir(this),r=Rt(void 0),i;try{return e()}finally{ir(n),Rt(r)}}get(e,n=Us,r=ee.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Dw))return e[Dw](this);r=Vu(r);let i,o=ir(this),s=Rt(void 0);try{if(!(r&ee.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=uM(e)&&Fu(e);l&&this.injectableDefInScope(l)?u=Ji(gf(e),au):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&ee.Self?np():this.parent;return n=r&ee.Optional&&n===Us?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[fu]=c[fu]||[]).unshift(dt(e)),o)throw c;return PA(c,e,"R3InjectorError",this.source)}else throw c}finally{Rt(s),ir(o)}}resolveInjectorInitializers(){let e=fe(null),n=ir(this),r=Rt(void 0),i;try{let o=this.get(oo,Nt,ee.Self);for(let s of o)s()}finally{ir(n),Rt(r),fe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(dt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=lt(e);let n=so(e)?e:lt(e&&e.provide),r=sM(e);if(!so(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ji(void 0,au,!0),i.factory=()=>hf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=fe(null);try{return n.value===au&&(n.value=iM,n.value=n.factory()),typeof n.value=="object"&&n.value&&cM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{fe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=lt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function gf(t){let e=Fu(t),n=e!==null?e.factory:ro(t);if(n!==null)return n;if(t instanceof $)throw new B(204,!1);if(t instanceof Function)return oM(t);throw new B(204,!1)}function oM(t){if(t.length>0)throw new B(204,!1);let n=vA(t);return n!==null?()=>n.factory(t):()=>new t}function sM(t){if(xI(t))return Ji(void 0,t.useValue);{let e=RI(t);return Ji(e,au)}}function RI(t,e,n){let r;if(so(t)){let i=lt(t);return ro(i)||gf(i)}else if(xI(t))r=()=>lt(t.useValue);else if(nM(t))r=()=>t.useFactory(...hf(t.deps||[]));else if(tM(t))r=()=>ne(lt(t.useExisting));else{let i=lt(t&&(t.useClass||t.provide));if(aM(t))r=()=>new i(...hf(t.deps));else return ro(i)||gf(i)}return r}function Ji(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function aM(t){return!!t.deps}function cM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function uM(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function mf(t,e){for(let n of t)Array.isArray(n)?mf(n,e):n&&dI(n)?mf(n.\u0275providers,e):e(n)}function Sn(t,e){t instanceof $s&&t.assertNotDestroyed();let n,r=ir(t),i=Rt(void 0);try{return e()}finally{ir(r),Rt(i)}}function lM(){return hI()!==void 0||xA()!=null}function dM(t){return typeof t=="function"}var An=0,ae=1,G=2,ht=3,Gt=4,Kt=5,mu=6,yu=7,Wt=8,ao=9,nn=10,Ue=11,Hs=12,Mw=13,yo=14,rn=15,co=16,Xi=17,uo=18,Uu=19,NI=20,or=21,Zh=22,Pt=23,cr=25,PI=1;var Gr=7,vu=8,_u=9,Ot=10,wu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(wu||{});function sr(t){return Array.isArray(t)&&typeof t[PI]=="object"}function Mn(t){return Array.isArray(t)&&t[PI]===!0}function OI(t){return(t.flags&4)!==0}function Bu(t){return t.componentOffset>-1}function rp(t){return(t.flags&1)===1}function ur(t){return!!t.template}function yf(t){return(t[G]&512)!==0}var vf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function kI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ti(){return FI}function FI(t){return t.type.prototype.ngOnChanges&&(t.setInput=fM),hM}ti.ngInherit=!0;function hM(){let t=VI(this),e=t?.current;if(e){let n=t.previous;if(n===io)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function fM(t,e,n,r,i){let o=this.declaredInputs[r],s=VI(t)||pM(t,{previous:io,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new vf(l&&l.currentValue,n,u===io),kI(t,e,i,n)}var LI="__ngSimpleChanges__";function VI(t){return t[LI]||null}function pM(t,e){return t[LI]=e}var xw=null;var Xt=function(t,e,n){xw?.(t,e,n)},jI="svg",gM="math";function on(t){for(;Array.isArray(t);)t=t[An];return t}function UI(t,e){return on(e[t])}function Ft(t,e){return on(e[t.index])}function BI(t,e){return t.data[e]}function dr(t,e){let n=e[t];return sr(n)?n:n[An]}function ip(t){return(t[G]&128)===128}function mM(t){return Mn(t[ht])}function Iu(t,e){return e==null?null:t[e]}function $I(t){t[Xi]=0}function HI(t){t[G]&1024||(t[G]|=1024,ip(t)&&Hu(t))}function yM(t,e){for(;t>0;)e=e[yo],t--;return e}function $u(t){return!!(t[G]&9216||t[Pt]?.dirty)}function _f(t){t[nn].changeDetectionScheduler?.notify(8),t[G]&64&&(t[G]|=1024),$u(t)&&Hu(t)}function Hu(t){t[nn].changeDetectionScheduler?.notify(0);let e=Wr(t);for(;e!==null&&!(e[G]&8192||(e[G]|=8192,!ip(e)));)e=Wr(e)}function zI(t,e){if((t[G]&256)===256)throw new B(911,!1);t[or]===null&&(t[or]=[]),t[or].push(e)}function vM(t,e){if(t[or]===null)return;let n=t[or].indexOf(e);n!==-1&&t[or].splice(n,1)}function Wr(t){let e=t[ht];return Mn(e)?e[ht]:e}var te={lFrame:XI(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var qI=!1;function _M(){return te.lFrame.elementDepthCount}function wM(){te.lFrame.elementDepthCount++}function IM(){te.lFrame.elementDepthCount--}function GI(){return te.bindingsEnabled}function EM(){return te.skipHydrationRootTNode!==null}function DM(t){return te.skipHydrationRootTNode===t}function bM(){te.skipHydrationRootTNode=null}function be(){return te.lFrame.lView}function Et(){return te.lFrame.tView}function vo(t){return te.lFrame.contextLView=t,t[Wt]}function _o(t){return te.lFrame.contextLView=null,t}function pt(){let t=WI();for(;t!==null&&t.type===64;)t=t.parent;return t}function WI(){return te.lFrame.currentTNode}function CM(){let t=te.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Qs(t,e){let n=te.lFrame;n.currentTNode=t,n.isParent=e}function KI(){return te.lFrame.isParent}function TM(){te.lFrame.isParent=!1}function QI(){return qI}function Rw(t){qI=t}function SM(){let t=te.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function AM(t){return te.lFrame.bindingIndex=t}function zu(){return te.lFrame.bindingIndex++}function MM(t){let e=te.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function xM(){return te.lFrame.inI18n}function RM(t,e){let n=te.lFrame;n.bindingIndex=n.bindingRootIndex=t,wf(e)}function NM(){return te.lFrame.currentDirectiveIndex}function wf(t){te.lFrame.currentDirectiveIndex=t}function PM(t){let e=te.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function YI(t){te.lFrame.currentQueryIndex=t}function OM(t){let e=t[ae];return e.type===2?e.declTNode:e.type===1?t[Kt]:null}function ZI(t,e,n){if(n&ee.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ee.Host);)if(i=OM(o),i===null||(o=o[yo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=te.lFrame=JI();return r.currentTNode=e,r.lView=t,!0}function op(t){let e=JI(),n=t[ae];te.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function JI(){let t=te.lFrame,e=t===null?null:t.child;return e===null?XI(t):e}function XI(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function eE(){let t=te.lFrame;return te.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var tE=eE;function sp(){let t=eE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function kM(t){return(te.lFrame.contextLView=yM(t,te.lFrame.contextLView))[Wt]}function wo(){return te.lFrame.selectedIndex}function Kr(t){te.lFrame.selectedIndex=t}function ap(){let t=te.lFrame;return BI(t.tView,t.selectedIndex)}function hr(){te.lFrame.currentNamespace=jI}function nE(){FM()}function FM(){te.lFrame.currentNamespace=null}function LM(){return te.lFrame.currentNamespace}var rE=!0;function cp(){return rE}function up(t){rE=t}function VM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=FI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function lp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function cu(t,e,n){iE(t,e,3,n)}function uu(t,e,n,r){(t[G]&3)===n&&iE(t,e,n,r)}function Jh(t,e){let n=t[G];(n&3)===e&&(n&=16383,n+=1,t[G]=n)}function iE(t,e,n,r){let i=r!==void 0?t[Xi]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[Xi]+=65536),(c<o||o==-1)&&(jM(t,n,e,u),t[Xi]=(t[Xi]&4294901760)+u+2),u++}function Nw(t,e){Xt(4,t,e);let n=fe(null);try{e.call(t)}finally{fe(n),Xt(5,t,e)}}function jM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[G]>>14<t[Xi]>>16&&(t[G]&3)===e&&(t[G]+=16384,Nw(c,o)):Nw(c,o)}var no=-1,Qr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function UM(t){return t instanceof Qr}function BM(t){return(t.flags&8)!==0}function $M(t){return(t.flags&16)!==0}var Xh={},If=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Vu(r);let i=this.injector.get(e,Xh,r);return i!==Xh||n===Xh?i:this.parentInjector.get(e,n,r)}};function oE(t){return t!==no}function Eu(t){return t&32767}function HM(t){return t>>16}function Du(t,e){let n=HM(t),r=e;for(;n>0;)r=r[yo],n--;return r}var Ef=!0;function Pw(t){let e=Ef;return Ef=t,e}var zM=256,sE=zM-1,aE=5,qM=0,en={};function GM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(js)&&(r=n[js]),r==null&&(r=n[js]=qM++);let i=r&sE,o=1<<i;e.data[t+(i>>aE)]|=o}function bu(t,e){let n=cE(t,e);if(n!==-1)return n;let r=e[ae];r.firstCreatePass&&(t.injectorIndex=e.length,ef(r.data,t),ef(e,null),ef(r.blueprint,null));let i=dp(t,e),o=t.injectorIndex;if(oE(i)){let s=Eu(i),c=Du(i,e),u=c[ae].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function ef(t,e){t.push(0,0,0,0,0,0,0,0,e)}function cE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function dp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=fE(i),r===null)return no;if(n++,i=i[yo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return no}function Df(t,e,n){GM(t,e,n)}function WM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(wI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function uE(t,e,n){if(n&ee.Optional||t!==void 0)return t;Jf(e,"NodeInjector")}function lE(t,e,n,r){if(n&ee.Optional&&r===void 0&&(r=null),!(n&(ee.Self|ee.Host))){let i=t[ao],o=Rt(void 0);try{return i?i.get(e,r,n&ee.Optional):fI(e,r,n&ee.Optional)}finally{Rt(o)}}return uE(r,e,n)}function dE(t,e,n,r=ee.Default,i){if(t!==null){if(e[G]&2048&&!(r&ee.Self)){let s=JM(t,e,n,r,en);if(s!==en)return s}let o=hE(t,e,n,r,en);if(o!==en)return o}return lE(e,n,r,i)}function hE(t,e,n,r,i){let o=YM(n);if(typeof o=="function"){if(!ZI(e,t,r))return r&ee.Host?uE(i,n,r):lE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ee.Optional))Jf(n);else return s}finally{tE()}}else if(typeof o=="number"){let s=null,c=cE(t,e),u=no,l=r&ee.Host?e[rn][Kt]:null;for((c===-1||r&ee.SkipSelf)&&(u=c===-1?dp(t,e):e[c+8],u===no||!kw(r,!1)?c=-1:(s=e[ae],c=Eu(u),e=Du(u,e)));c!==-1;){let f=e[ae];if(Ow(o,c,f.data)){let g=KM(c,e,n,s,r,l);if(g!==en)return g}u=e[c+8],u!==no&&kw(r,e[ae].data[c+8]===l)&&Ow(o,c,e)?(s=f,c=Eu(u),e=Du(u,e)):c=-1}}return i}function KM(t,e,n,r,i,o){let s=e[ae],c=s.data[t+8],u=r==null?Bu(c)&&Ef:r!=s&&(c.type&3)!==0,l=i&ee.Host&&o===c,f=QM(c,s,n,u,l);return f!==null?lo(e,s,f,c):en}function QM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,g=r?c:c+f,_=i?c+f:l;for(let w=g;w<_;w++){let A=s[w];if(w<u&&n===A||w>=u&&A.type===n)return w}if(i){let w=s[u];if(w&&ur(w)&&w.type===n)return u}return null}function lo(t,e,n,r){let i=t[n],o=e.data;if(UM(i)){let s=i;s.resolving&&CA(bA(o[n]));let c=Pw(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Rt(s.injectImpl):null,f=ZI(t,r,ee.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&VM(n,o[n],e)}finally{l!==null&&Rt(l),Pw(c),s.resolving=!1,tE()}}return i}function YM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(js)?t[js]:void 0;return typeof e=="number"?e>=0?e&sE:ZM:e}function Ow(t,e,n){let r=1<<t;return!!(n[e+(t>>aE)]&r)}function kw(t,e){return!(t&ee.Self)&&!(t&ee.Host&&e)}var zr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return dE(this._tNode,this._lView,e,Vu(r),n)}};function ZM(){return new zr(pt(),be())}function Ys(t){return Ws(()=>{let e=t.prototype.constructor,n=e[hu]||bf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[hu]||bf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function bf(t){return aI(t)?()=>{let e=bf(lt(t));return e&&e()}:ro(t)}function JM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[G]&2048&&!(s[G]&512);){let c=hE(o,s,n,r|ee.Self,en);if(c!==en)return c;let u=o.parent;if(!u){let l=s[NI];if(l){let f=l.get(n,en,r);if(f!==en)return f}u=fE(s),s=s[yo]}o=u}return i}function fE(t){let e=t[ae],n=e.type;return n===2?e.declTNode:n===1?t[Kt]:null}function hp(t){return WM(pt(),t)}function Fw(t,e=null,n=null,r){let i=pE(t,e,n,r);return i.resolveInjectorInitializers(),i}function pE(t,e=null,n=null,r,i=new Set){let o=[n||Nt,XA(t)];return r=r||(typeof t=="object"?void 0:dt(t)),new $s(o,e||np(),r||null,i)}var $r=class $r{static create(e,n){if(Array.isArray(e))return Fw({name:""},n,e,"");{let r=e.name??"";return Fw({name:r},e.parent,e.providers,r)}}};$r.THROW_IF_NOT_FOUND=Us,$r.NULL=new gu,$r.\u0275prov=z({token:$r,providedIn:"any",factory:()=>ne(yI)}),$r.__NG_ELEMENT_ID__=-1;var yt=$r;var XM=new $("");XM.__NG_ELEMENT_ID__=t=>{let e=pt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&ee.Optional)return null;throw new B(204,!1)};var ex="ngOriginalError";function tf(t){return t[ex]}var gE=!0,mE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=tx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Cf=class extends mE{constructor(e){super(),this._lView=e}onDestroy(e){return zI(this._lView,e),()=>vM(this._lView,e)}};function tx(){return new Cf(be())}var Io=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ye(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Tf=class extends ze{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,lM()&&(this.destroyRef=L(mE,{optional:!0})??void 0,this.pendingTasks=L(Io,{optional:!0})??void 0)}emit(e){let n=fe(null);try{super.next(e)}finally{fe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ae&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ne=Tf;function Cu(...t){}function yE(t){let e,n;function r(){t=Cu;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Lw(t){return queueMicrotask(()=>t()),()=>{t=Cu}}var fp="isAngularZone",Tu=fp+"_ID",nx=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ne(!1),this.onMicrotaskEmpty=new Ne(!1),this.onStable=new Ne(!1),this.onError=new Ne(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=gE}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,ox(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(fp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,rx,Cu,Cu);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},rx={};function pp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ix(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){yE(()=>{t.callbackScheduled=!1,Sf(t),t.isCheckStableRunning=!0,pp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Sf(t)}function ox(t){let e=()=>{ix(t)},n=nx++;t._inner=t._inner.fork({name:"angular",properties:{[fp]:!0,[Tu]:n,[Tu+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(sx(u))return r.invokeTask(o,s,c,u);try{return Vw(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),jw(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return Vw(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!ax(u)&&e(),jw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Sf(t),pp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Sf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Vw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jw(t){t._nesting--,pp(t)}var Af=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ne,this.onMicrotaskEmpty=new Ne,this.onStable=new Ne,this.onError=new Ne}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function sx(t){return vE(t,"__ignore_ng_zone__")}function ax(t){return vE(t,"__scheduler_tick__")}function vE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var bn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&tf(e);for(;n&&tf(n);)n=tf(n);return n||null}},cx=new $("",{providedIn:"root",factory:()=>{let t=L(we),e=L(bn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function ux(){return qu(pt(),be())}function qu(t,e){return new xn(Ft(t,e))}var xn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=ux;let t=e;return t})();function _E(t){return(t.flags&128)===128}var wE=new Map,lx=0;function dx(){return lx++}function hx(t){wE.set(t[Uu],t)}function Mf(t){wE.delete(t[Uu])}var Uw="__ngContext__";function Yr(t,e){sr(e)?(t[Uw]=e[Uu],hx(e)):t[Uw]=e}function IE(t){return DE(t[Hs])}function EE(t){return DE(t[Gt])}function DE(t){for(;t!==null&&!Mn(t);)t=t[Gt];return t}var xf;function bE(t){xf=t}function fx(){if(xf!==void 0)return xf;if(typeof document<"u")return document;throw new B(210,!1)}var gp=new $("",{providedIn:"root",factory:()=>px}),px="ng",mp=new $(""),fr=new $("",{providedIn:"platform",factory:()=>"unknown"});var yp=new $("",{providedIn:"root",factory:()=>fx().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var gx="h",mx="b";var yx=()=>null;function vp(t,e,n=!1){return yx(t,e,n)}var CE=!1,vx=new $("",{providedIn:"root",factory:()=>CE});var ru;function _x(){if(ru===void 0&&(ru=null,uf.trustedTypes))try{ru=uf.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return ru}function Bw(t){return _x()?.createScriptURL(t)||t}var Su=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${oI})`}};function Zs(t){return t instanceof Su?t.changingThisBreaksApplicationSecurity:t}function _p(t,e){let n=wx(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${oI})`)}return n===e}function wx(t){return t instanceof Su&&t.getTypeName()||null}var Ix=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function TE(t){return t=String(t),t.match(Ix)?t:"unsafe:"+t}var Gu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Gu||{});function Ex(t){let e=AE();return e?e.sanitize(Gu.URL,t)||"":_p(t,"URL")?Zs(t):TE(Lu(t))}function Dx(t){let e=AE();if(e)return Bw(e.sanitize(Gu.RESOURCE_URL,t)||"");if(_p(t,"ResourceURL"))return Bw(Zs(t));throw new B(904,!1)}function bx(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Dx:Ex}function SE(t,e,n){return bx(e,n)(t)}function AE(){let t=be();return t&&t[nn].sanitizer}function ME(t){return t.ownerDocument.defaultView}function xE(t){return t instanceof Function?t():t}var Cn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Cn||{}),Cx;function wp(t,e){return Cx(t,e)}function eo(t,e,n,r,i){if(r!=null){let o,s=!1;Mn(r)?o=r:sr(r)&&(s=!0,r=r[An]);let c=on(r);t===0&&n!==null?i==null?kE(e,n,c):Au(e,n,c,i||null,!0):t===1&&n!==null?Au(e,n,c,i||null,!0):t===2?Ux(e,c,s):t===3&&e.destroyNode(c),o!=null&&$x(e,t,o,n,i)}}function Tx(t,e){return t.createText(e)}function Sx(t,e,n){t.setValue(e,n)}function RE(t,e,n){return t.createElement(e,n)}function Ax(t,e){NE(t,e),e[An]=null,e[Kt]=null}function Mx(t,e,n,r,i,o){r[An]=i,r[Kt]=e,Wu(t,r,n,1,i,o)}function NE(t,e){e[nn].changeDetectionScheduler?.notify(9),Wu(t,e,e[Ue],2,null,null)}function xx(t){let e=t[Hs];if(!e)return nf(t[ae],t);for(;e;){let n=null;if(sr(e))n=e[Hs];else{let r=e[Ot];r&&(n=r)}if(!n){for(;e&&!e[Gt]&&e!==t;)sr(e)&&nf(e[ae],e),e=e[ht];e===null&&(e=t),sr(e)&&nf(e[ae],e),n=e&&e[Gt]}e=n}}function Rx(t,e,n,r){let i=Ot+r,o=n.length;r>0&&(n[i-1][Gt]=e),r<o-Ot?(e[Gt]=n[i],mI(n,Ot+r,e)):(n.push(e),e[Gt]=null),e[ht]=n;let s=e[co];s!==null&&n!==s&&PE(s,e);let c=e[uo];c!==null&&c.insertView(t),_f(e),e[G]|=128}function PE(t,e){let n=t[_u],r=e[ht];if(sr(r))t[G]|=wu.HasTransplantedViews;else{let i=r[ht][rn];e[rn]!==i&&(t[G]|=wu.HasTransplantedViews)}n===null?t[_u]=[e]:n.push(e)}function Ip(t,e){let n=t[_u],r=n.indexOf(e);n.splice(r,1)}function Rf(t,e){if(t.length<=Ot)return;let n=Ot+e,r=t[n];if(r){let i=r[co];i!==null&&i!==t&&Ip(i,r),e>0&&(t[n-1][Gt]=r[Gt]);let o=pu(t,Ot+e);Ax(r[ae],r);let s=o[uo];s!==null&&s.detachView(o[ae]),r[ht]=null,r[Gt]=null,r[G]&=-129}return r}function OE(t,e){if(!(e[G]&256)){let n=e[Ue];n.destroyNode&&Wu(t,e,n,3,null,null),xx(e)}}function nf(t,e){if(e[G]&256)return;let n=fe(null);try{e[G]&=-129,e[G]|=256,e[Pt]&&Th(e[Pt]),Px(t,e),Nx(t,e),e[ae].type===1&&e[Ue].destroy();let r=e[co];if(r!==null&&Mn(e[ht])){r!==e[ht]&&Ip(r,e);let i=e[uo];i!==null&&i.detachView(t)}Mf(e)}finally{fe(n)}}function Nx(t,e){let n=t.cleanup,r=e[yu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[yu]=null);let i=e[or];if(i!==null){e[or]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Px(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Qr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];Xt(4,c,u);try{u.call(c)}finally{Xt(5,c,u)}}else{Xt(4,i,o);try{o.call(i)}finally{Xt(5,i,o)}}}}}function Ox(t,e,n){return kx(t,e.parent,n)}function kx(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[An];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===tn.None||o===tn.Emulated)return null}return Ft(r,n)}}function Au(t,e,n,r,i){t.insertBefore(e,n,r,i)}function kE(t,e,n){t.appendChild(e,n)}function $w(t,e,n,r,i){r!==null?Au(t,e,n,r,i):kE(t,e,n)}function FE(t,e){return t.parentNode(e)}function Fx(t,e){return t.nextSibling(e)}function Lx(t,e,n){return jx(t,e,n)}function Vx(t,e,n){return t.type&40?Ft(t,n):null}var jx=Vx,Hw;function Ep(t,e,n,r){let i=Ox(t,r,e),o=e[Ue],s=r.parent||e[Kt],c=Lx(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)$w(o,i,n[u],c,!1);else $w(o,i,n,c,!1);Hw!==void 0&&Hw(o,r,e,n,i)}function Ls(t,e){if(e!==null){let n=e.type;if(n&3)return Ft(e,t);if(n&4)return Nf(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ls(t,r);{let i=t[e.index];return Mn(i)?Nf(-1,i):on(i)}}else{if(n&128)return Ls(t,e.next);if(n&32)return wp(e,t)()||on(t[e.index]);{let r=LE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Wr(t[rn]);return Ls(i,r)}else return Ls(t,e.next)}}}return null}function LE(t,e){if(e!==null){let r=t[rn][Kt],i=e.projection;return r.projection[i]}return null}function Nf(t,e){let n=Ot+t+1;if(n<e.length){let r=e[n],i=r[ae].firstChild;if(i!==null)return Ls(r,i)}return e[Gr]}function Ux(t,e,n){t.removeChild(null,e,n)}function Dp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Yr(on(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Dp(t,e,n.child,r,i,o,!1),eo(e,t,i,c,o);else if(u&32){let l=wp(n,r),f;for(;f=l();)eo(e,t,i,f,o);eo(e,t,i,c,o)}else u&16?Bx(t,e,r,n,i,o):eo(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Wu(t,e,n,r,i,o){Dp(n,r,t.firstChild,e,i,o,!1)}function Bx(t,e,n,r,i,o){let s=n[rn],u=s[Kt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];eo(e,t,i,f,o)}else{let l=u,f=s[ht];_E(r)&&(l.flags|=128),Dp(t,e,l,f,i,o,!0)}}function $x(t,e,n,r,i){let o=n[Gr],s=on(n);o!==s&&eo(e,t,r,o,i);for(let c=Ot;c<n.length;c++){let u=n[c];Wu(u[ae],u,t,e,r,o)}}function Hx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Cn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Cn.Important),t.setStyle(n,r,i,o))}}function zx(t,e,n){t.setAttribute(e,"style",n)}function VE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function jE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&ff(t,e,r),i!==null&&VE(t,e,i),o!==null&&zx(t,e,o)}var ni={};function Z(t=1){UE(Et(),be(),wo()+t,!1)}function UE(t,e,n,r){if(!r)if((e[G]&3)===3){let o=t.preOrderCheckHooks;o!==null&&cu(e,o,n)}else{let o=t.preOrderHooks;o!==null&&uu(e,o,0,n)}Kr(n)}function Y(t,e=ee.Default){let n=be();if(n===null)return ne(t,e);let r=pt();return dE(r,n,lt(t),e)}function BE(t,e,n,r,i,o){let s=fe(null);try{let c=null;i&ar.SignalBased&&(c=e[r][In]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&ar.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):kI(e,c,r,o)}finally{fe(s)}}function qx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Kr(~i);else{let o=i,s=n[++r],c=n[++r];RM(s,o);let u=e[o];c(2,u)}}}finally{Kr(-1)}}function Ku(t,e,n,r,i,o,s,c,u,l,f){let g=e.blueprint.slice();return g[An]=i,g[G]=r|4|128|8|64,(l!==null||t&&t[G]&2048)&&(g[G]|=2048),$I(g),g[ht]=g[yo]=t,g[Wt]=n,g[nn]=s||t&&t[nn],g[Ue]=c||t&&t[Ue],g[ao]=u||t&&t[ao]||null,g[Kt]=o,g[Uu]=dx(),g[mu]=f,g[NI]=l,g[rn]=e.type==2?t[rn]:g,g}function Qu(t,e,n,r,i){let o=t.data[e];if(o===null)o=Gx(t,e,n,r,i),xM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=CM();o.injectorIndex=s===null?-1:s.injectorIndex}return Qs(o,!0),o}function Gx(t,e,n,r,i){let o=WI(),s=KI(),c=s?o:o&&o.parent,u=t.data[e]=Zx(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function $E(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function HE(t,e,n,r,i){let o=wo(),s=r&2;try{Kr(-1),s&&e.length>cr&&UE(t,e,cr,!1),Xt(s?2:0,i),n(r,i)}finally{Kr(o),Xt(s?3:1,i)}}function zE(t,e,n){if(OI(e)){let r=fe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{fe(r)}}}function qE(t,e,n){GI()&&(rR(t,e,n,Ft(n,e)),(n.flags&64)===64&&ZE(t,e,n))}function GE(t,e,n=Ft){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function WE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=bp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function bp(t,e,n,r,i,o,s,c,u,l,f){let g=cr+r,_=g+i,w=Wx(g,_),A=typeof l=="function"?l():l;return w[ae]={type:t,blueprint:w,template:n,queries:null,viewQuery:c,declTNode:e,data:w.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function Wx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ni);return n}function Kx(t,e,n,r){let o=r.get(vx,CE)||n===tn.ShadowDom,s=t.selectRootElement(e,o);return Qx(s),s}function Qx(t){Yx(t)}var Yx=()=>null;function Zx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return EM()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=ar.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?qw(r,n,l,c,u):qw(r,n,l,c)}return r}function qw(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Jx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let g=o[f],_=n?n.get(g):null,w=_?_.inputs:null,A=_?_.outputs:null;u=zw(0,g.inputs,f,u,w),l=zw(1,g.outputs,f,l,A);let P=u!==null&&s!==null&&!ep(e)?pR(u,f,s):null;c.push(P)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function Xx(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function KE(t,e,n,r,i,o,s,c){let u=Ft(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Cp(t,n,f,r,i),Bu(e)&&eR(n,e.index)):e.type&3?(r=Xx(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function eR(t,e){let n=dr(e,t);n[G]&16||(n[G]|=64)}function QE(t,e,n,r){if(GI()){let i=r===null?null:{"":-1},o=oR(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&YE(t,e,n,s,i,c),i&&sR(n,r,i)}n.mergedAttrs=Bs(n.mergedAttrs,n.attrs)}function YE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Df(bu(n,e),t,r[l].type);cR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=$E(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=Bs(n.mergedAttrs,f.hostAttrs),uR(t,n,e,u,f),aR(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}Jx(t,n,o)}function tR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;nR(s)!=c&&s.push(c),s.push(n,r,o)}}function nR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function rR(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Bu(n)&&lR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||bu(n,e),Yr(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],l=lo(e,t,c,n);if(Yr(l,e),s!==null&&fR(e,c-i,l,u,n,s),ur(u)){let f=dr(n.index,e);f[Wt]=lo(e,t,c,n)}}}function ZE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=NM();try{Kr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];wf(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&iR(u,l)}}finally{Kr(-1),wf(s)}}function iR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function oR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(zA(e,s.selectors,!1))if(r||(r=[]),ur(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;Pf(t,e,u)}else r.unshift(s),Pf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Pf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function sR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}}function aR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;ur(e)&&(n[""]=t)}}function cR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function uR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=ro(i.type,!0)),s=new Qr(o,ur(i),Y);t.blueprint[r]=s,n[r]=s,tR(t,e,r,$E(t,n,i.hostVars,ni),i)}function lR(t,e,n){let r=Ft(e,t),i=WE(n),o=t[nn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=Yu(t,Ku(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function dR(t,e,n,r,i,o){let s=Ft(t,e);hR(e[Ue],s,o,t.value,n,r,i)}function hR(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?Lu(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function fR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],f=s[c++],g=s[c++];BE(r,n,u,l,f,g)}}function pR(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function JE(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function XE(t,e){let n=t.contentQueries;if(n!==null){let r=fe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];YI(o),c.contentQueries(2,e[s],s)}}}finally{fe(r)}}}function Yu(t,e){return t[Hs]?t[Mw][Gt]=e:t[Hs]=e,t[Mw]=e,e}function Of(t,e,n){YI(0);let r=fe(null);try{e(t,n)}finally{fe(r)}}function gR(t){return t[yu]??=[]}function mR(t){return t.cleanup??=[]}function e0(t,e){let n=t[ao],r=n?n.get(bn,null):null;r&&r.handleError(e)}function Cp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],l=e[s],f=t.data[s];BE(f,l,r,c,u,i)}}function yR(t,e,n){let r=UI(e,t);Sx(t[Ue],r,n)}function vR(t,e){let n=dr(e,t),r=n[ae];_R(r,n);let i=n[An];i!==null&&n[mu]===null&&(n[mu]=vp(i,n[ao])),Tp(r,n,n[Wt])}function _R(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Tp(t,e,n){op(e);try{let r=t.viewQuery;r!==null&&Of(1,r,n);let i=t.template;i!==null&&HE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[uo]?.finishViewCreation(t),t.staticContentQueries&&XE(t,e),t.staticViewQueries&&Of(2,t.viewQuery,n);let o=t.components;o!==null&&wR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[G]&=-5,sp()}}function wR(t,e){for(let n=0;n<e.length;n++)vR(t,e[n])}function IR(t,e,n,r){let i=fe(null);try{let o=e.tView,c=t[G]&4096?4096:16,u=Ku(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[co]=l;let f=t[uo];return f!==null&&(u[uo]=f.createEmbeddedView(o)),Tp(o,u,n),u}finally{fe(i)}}function Gw(t,e){return!e||e.firstChild===null||_E(t)}function ER(t,e,n,r=!0){let i=e[ae];if(Rx(i,e,t,n),r){let s=Nf(n,t),c=e[Ue],u=FE(c,t[Gr]);u!==null&&Mx(i,t[Kt],c,e,u,s)}let o=e[mu];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Mu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(on(o)),Mn(o)&&DR(o,r);let s=n.type;if(s&8)Mu(t,e,n.child,r);else if(s&32){let c=wp(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=LE(e,n);if(Array.isArray(c))r.push(...c);else{let u=Wr(e[rn]);Mu(u[ae],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function DR(t,e){for(let n=Ot;n<t.length;n++){let r=t[n],i=r[ae].firstChild;i!==null&&Mu(r[ae],r,i,e)}t[Gr]!==t[An]&&e.push(t[Gr])}var t0=[];function bR(t){return t[Pt]??CR(t)}function CR(t){let e=t0.pop()??Object.create(SR);return e.lView=t,e}function TR(t){t.lView[Pt]!==t&&(t.lView=null,t0.push(t))}var SR=oe(F({},Ps),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Hu(t.lView)},consumerOnSignalRead(){this.lView[Pt]=this}});function AR(t){let e=t[Pt]??Object.create(MR);return e.lView=t,e}var MR=oe(F({},Ps),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Wr(t.lView);for(;e&&!n0(e[ae]);)e=Wr(e);e&&HI(e)},consumerOnSignalRead(){this.lView[Pt]=this}});function n0(t){return t.type!==2}var xR=100;function r0(t,e=!0,n=0){let r=t[nn],i=r.rendererFactory,o=!1;o||i.begin?.();try{RR(t,n)}catch(s){throw e&&e0(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function RR(t,e){let n=QI();try{Rw(!0),kf(t,e);let r=0;for(;$u(t);){if(r===xR)throw new B(103,!1);r++,kf(t,1)}}finally{Rw(n)}}function NR(t,e,n,r){let i=e[G];if((i&256)===256)return;let o=!1,s=!1;!o&&e[nn].inlineEffectRunner?.flush(),op(e);let c=!0,u=null,l=null;o||(n0(t)?(l=bR(e),u=Ac(l)):k_()===null?(c=!1,l=AR(e),u=Ac(l)):e[Pt]&&(Th(e[Pt]),e[Pt]=null));try{$I(e),AM(t.bindingStartIndex),n!==null&&HE(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let w=t.preOrderCheckHooks;w!==null&&cu(e,w,null)}else{let w=t.preOrderHooks;w!==null&&uu(e,w,0,null),Jh(e,0)}if(s||PR(e),i0(e,0),t.contentQueries!==null&&XE(t,e),!o)if(f){let w=t.contentCheckHooks;w!==null&&cu(e,w)}else{let w=t.contentHooks;w!==null&&uu(e,w,1),Jh(e,1)}qx(t,e);let g=t.components;g!==null&&s0(e,g,0);let _=t.viewQuery;if(_!==null&&Of(2,_,r),!o)if(f){let w=t.viewCheckHooks;w!==null&&cu(e,w)}else{let w=t.viewHooks;w!==null&&uu(e,w,2),Jh(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Zh]){for(let w of e[Zh])w();e[Zh]=null}o||(e[G]&=-73)}catch(f){throw o||Hu(e),f}finally{l!==null&&(bh(l,u),c&&TR(l)),sp()}}function i0(t,e){for(let n=IE(t);n!==null;n=EE(n))for(let r=Ot;r<n.length;r++){let i=n[r];o0(i,e)}}function PR(t){for(let e=IE(t);e!==null;e=EE(e)){if(!(e[G]&wu.HasTransplantedViews))continue;let n=e[_u];for(let r=0;r<n.length;r++){let i=n[r];HI(i)}}}function OR(t,e,n){let r=dr(e,t);o0(r,n)}function o0(t,e){ip(t)&&kf(t,e)}function kf(t,e){let r=t[ae],i=t[G],o=t[Pt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Ch(o)),s||=!1,o&&(o.dirty=!1),t[G]&=-9217,s)NR(r,t,r.template,t[Wt]);else if(i&8192){i0(t,1);let c=r.components;c!==null&&s0(t,c,1)}}function s0(t,e,n){for(let r=0;r<e.length;r++)OR(t,e[r],n)}function Sp(t,e){let n=QI()?64:1088;for(t[nn].changeDetectionScheduler?.notify(e);t;){t[G]|=n;let r=Wr(t);if(yf(t)&&!r)return t;t=r}return null}var Zr=class{get rootNodes(){let e=this._lView,n=e[ae];return Mu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Wt]}set context(e){this._lView[Wt]=e}get destroyed(){return(this._lView[G]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ht];if(Mn(e)){let n=e[vu],r=n?n.indexOf(this):-1;r>-1&&(Rf(e,r),pu(n,r))}this._attachedToViewContainer=!1}OE(this._lView[ae],this._lView)}onDestroy(e){zI(this._lView,e)}markForCheck(){Sp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[G]&=-129}reattach(){_f(this._lView),this._lView[G]|=128}detectChanges(){this._lView[G]|=1024,r0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=yf(this._lView),n=this._lView[co];n!==null&&!e&&Ip(n,this._lView),NE(this._lView[ae],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=yf(this._lView),r=this._lView[co];r!==null&&!n&&PE(r,this._lView),_f(this._lView)}},Zu=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=LR;let t=e;return t})(),kR=Zu,FR=class extends kR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=IR(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Zr(i)}};function LR(){return VR(pt(),be())}function VR(t,e){return t.type&4?new FR(e,t,qu(t,e)):null}var Cq=new RegExp(`^(\\d+)*(${mx}|${gx})*(.*)`);var jR=()=>null;function Ww(t,e){return jR(t,e)}var ho=class{},Ap=new $("",{providedIn:"root",factory:()=>!1});var a0=new $(""),c0=new $(""),Ff=class{},xu=class{};function UR(t){let e=Error(`No component factory found for ${dt(t)}.`);return e[BR]=t,e}var BR="ngComponent";var Lf=class{resolveComponentFactory(e){throw UR(e)}},kp=class kp{};kp.NULL=new Lf;var fo=kp,po=class{},pr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>$R();let t=e;return t})();function $R(){let t=be(),e=pt(),n=dr(e.index,t);return(sr(n)?n:t)[Ue]}var HR=(()=>{let e=class e{};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Vf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=_w(i,c);else if(o==2){let u=c,l=e[++s];r=_w(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ru=class extends fo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=qr(e);return new zs(n,this.ngModule)}};function Kw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,c=o?i[1]:ar.None;e?n.push({propName:s,templateName:r,isSignal:(c&ar.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function zR(t){let e=t.toLowerCase();return e==="svg"?jI:e==="math"?gM:null}var zs=class extends xu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Kw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Kw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=KA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=fe(null);try{i=i||this.ngModule;let s=i instanceof kt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new If(e,s):e,u=c.get(po,null);if(u===null)throw new B(407,!1);let l=c.get(HR,null),f=c.get(ho,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",A=r?Kx(_,r,this.componentDef.encapsulation,c):RE(_,w,zR(w)),P=512;this.componentDef.signals?P|=4096:this.componentDef.onPush||(P|=16);let N=null;A!==null&&(N=vp(A,c,!0));let j=bp(0,null,null,1,0,null,null,null,null,null,null),W=Ku(null,j,null,P,null,null,g,_,c,null,N);op(W);let X,ve,Ke=null;try{let ge=this.componentDef,D,m=null;ge.findHostDirectiveDefs?(D=[],m=new Map,ge.findHostDirectiveDefs(ge,D,m),D.push(ge)):D=[ge];let y=qR(W,A);Ke=GR(y,A,ge,D,W,g,_),ve=BI(j,cr),A&&QR(_,ge,A,r),n!==void 0&&YR(ve,this.ngContentSelectors,n),X=KR(Ke,ge,D,m,W,[ZR]),Tp(j,W,null)}catch(ge){throw Ke!==null&&Mf(Ke),Mf(W),ge}finally{sp()}return new jf(this.componentType,X,qu(ve,W),W,ve)}finally{fe(o)}}},jf=class extends Ff{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Zr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Cp(o[ae],o,i,e,n),this.previousInputValues.set(e,n);let s=dr(this._tNode.index,o);Sp(s,1)}}get injector(){return new zr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function qR(t,e){let n=t[ae],r=cr;return t[r]=e,Qu(n,r,2,"#host",null)}function GR(t,e,n,r,i,o,s){let c=i[ae];WR(r,t,e,s);let u=null;e!==null&&(u=vp(e,i[ao]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=Ku(i,WE(n),null,f,i[t.index],t,o,l,null,null,u);return c.firstCreatePass&&Pf(c,t,r.length-1),Yu(i,g),i[t.index]=g}function WR(t,e,n,r){for(let i of t)e.mergedAttrs=Bs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Vf(e,e.mergedAttrs,!0),n!==null&&jE(r,n,e))}function KR(t,e,n,r,i,o){let s=pt(),c=i[ae],u=Ft(s,i);YE(c,i,s,n,null,r);for(let f=0;f<n.length;f++){let g=s.directiveStart+f,_=lo(i,c,g,s);Yr(_,i)}ZE(c,i,s),u&&Yr(u,i);let l=lo(i,c,s.directiveStart+s.componentOffset,s);if(t[Wt]=i[Wt]=l,o!==null)for(let f of o)f(l,e);return zE(c,s,i),l}function QR(t,e,n,r){if(r)ff(t,n,["ng-version","18.2.2"]);else{let{attrs:i,classes:o}=QA(e.selectors[0]);i&&ff(t,n,i),o&&o.length>0&&VE(t,n,o.join(" "))}}function YR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function ZR(){let t=pt();lp(be()[ae],t)}var Eo=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=JR;let t=e;return t})();function JR(){let t=pt();return eN(t,be())}var XR=Eo,u0=class extends XR{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return qu(this._hostTNode,this._hostLView)}get injector(){return new zr(this._hostTNode,this._hostLView)}get parentInjector(){let e=dp(this._hostTNode,this._hostLView);if(oE(e)){let n=Du(e,this._hostLView),r=Eu(e),i=n[ae].data[r+8];return new zr(i,n)}else return new zr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Qw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Ot}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Ww(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,Gw(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!dM(e),c;if(s)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new zs(qr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let P=(s?l:this.parentInjector).get(kt,null);P&&(o=P)}let f=qr(u.componentType??{}),g=Ww(this._lContainer,f?.id??null),_=g?.firstChild??null,w=u.create(l,i,_,o);return this.insertImpl(w.hostView,c,Gw(this._hostTNode,g)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(mM(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[ht],l=new u0(u,u[Kt],u[ht]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return ER(s,i,o,r),e.attachToViewContainerRef(),mI(rf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Qw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Rf(this._lContainer,n);r&&(pu(rf(this._lContainer),n),OE(r[ae],r))}detach(e){let n=this._adjustIndex(e,-1),r=Rf(this._lContainer,n);return r&&pu(rf(this._lContainer),n)!=null?new Zr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Qw(t){return t[vu]}function rf(t){return t[vu]||(t[vu]=[])}function eN(t,e){let n,r=e[t.index];return Mn(r)?n=r:(n=JE(r,e,null,t),e[t.index]=n,Yu(e,n)),nN(n,e,t,r),new u0(n,t,e)}function tN(t,e){let n=t[Ue],r=n.createComment(""),i=Ft(e,t),o=FE(n,i);return Au(n,o,r,Fx(n,i),!1),r}var nN=oN,rN=()=>!1;function iN(t,e,n){return rN(t,e,n)}function oN(t,e,n,r){if(t[Gr])return;let i;n.type&8?i=on(r):i=tN(e,n),t[Gr]=i}var Yw=new Set;function Js(t){Yw.has(t)||(Yw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function sN(t){return typeof t=="function"&&t[In]!==void 0}function Xs(t,e){Js("NgSignals");let n=G_(t),r=n[In];return e?.equal&&(r.equal=e.equal),n.set=i=>Sh(r,i),n.update=i=>W_(r,i),n.asReadonly=aN.bind(n),n}function aN(){let t=this[In];if(t.readonlyFn===void 0){let e=()=>this();e[In]=t,t.readonlyFn=e}return t.readonlyFn}function l0(t){return sN(t)&&typeof t.set=="function"}function cN(t){return Object.getPrototypeOf(t.prototype).constructor}function gr(t){let e=cN(t.type),n=!0,r=[t];for(;e;){let i;if(ur(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=iu(t.inputs),s.inputTransforms=iu(t.inputTransforms),s.declaredInputs=iu(t.declaredInputs),s.outputs=iu(t.outputs);let c=i.hostBindings;c&&fN(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&dN(t,u),l&&hN(t,l),uN(t,i),mA(t.outputs,i.outputs),ur(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===gr&&(n=!1)}}e=Object.getPrototypeOf(e)}lN(r)}function uN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function lN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Bs(i.hostAttrs,n=Bs(n,i.hostAttrs))}}function iu(t){return t===io?{}:t===Nt?[]:t}function dN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function hN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function fN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Mp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var lr=class{},qs=class{};var Uf=class extends lr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ru(this);let o=CI(e);this._bootstrapComponents=xE(o.bootstrap),this._r3Injector=pE(e,n,[{provide:lr,useValue:this},{provide:fo,useValue:this.componentFactoryResolver},...r],dt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Bf=class extends qs{constructor(e){super(),this.moduleType=e}create(e){return new Uf(this.moduleType,e,[])}};var Nu=class extends lr{constructor(e){super(),this.componentFactoryResolver=new Ru(this),this.instance=null;let n=new $s([...e.providers,{provide:lr,useValue:this},{provide:fo,useValue:this.componentFactoryResolver}],e.parent||np(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function xp(t,e,n=null){return new Nu({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function d0(t){return gN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function pN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function gN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function mN(t,e,n){return t[e]=n}function yN(t,e){return t[e]}function ea(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function vN(t){return(t.flags&32)===32}function _N(t,e,n,r,i,o,s,c,u){let l=e.consts,f=Qu(e,t,4,s||null,c||null);QE(e,n,f,Iu(l,u)),lp(e,f);let g=f.tView=bp(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function wN(t,e,n,r,i,o,s,c,u,l){let f=n+cr,g=e.firstCreatePass?_N(f,e,t,r,i,o,s,c,u):e.data[f];Qs(g,!1);let _=IN(e,t,g,n);cp()&&Ep(e,t,_,g),Yr(_,t);let w=JE(_,t,_,g);return t[f]=w,Yu(t,w),iN(w,g,t),rp(g)&&qE(e,t,g),u!=null&&GE(t,g,l),g}function Qt(t,e,n,r,i,o,s,c){let u=be(),l=Et(),f=Iu(l.consts,o);return wN(u,l,t,e,n,r,i,f,s,c),Qt}var IN=EN;function EN(t,e,n,r){return up(!0),e[Ue].createComment("")}var Vs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Vs||{}),DN=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=z({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),Hr=class Hr{constructor(){this.ngZone=L(we),this.scheduler=L(ho),this.errorHandler=L(bn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of Hr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};Hr.PHASES=[Vs.EarlyRead,Vs.Write,Vs.MixedReadWrite,Vs.Read],Hr.\u0275prov=z({token:Hr,providedIn:"root",factory:()=>new Hr});var Zw=Hr;function Ju(t,e,n,r){let i=be(),o=zu();if(ea(i,o,e)){let s=Et(),c=ap();dR(c,i,t,e,n,r)}return Ju}function bN(t,e,n,r){return ea(t,zu(),n)?e+Lu(n)+r:ni}function ou(t,e){return t<<17|e<<2}function Jr(t){return t>>17&32767}function CN(t){return(t&2)==2}function TN(t,e){return t&131071|e<<17}function $f(t){return t|2}function go(t){return(t&131068)>>2}function of(t,e){return t&-131069|e<<2}function SN(t){return(t&1)===1}function Hf(t){return t|1}function AN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=Jr(s),u=go(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Ks(g,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let _=Jr(t[c+1]);t[r+1]=ou(_,c),_!==0&&(t[_+1]=of(t[_+1],r)),t[c+1]=TN(t[c+1],r)}else t[r+1]=ou(c,0),c!==0&&(t[c+1]=of(t[c+1],r)),c=r;else t[r+1]=ou(u,0),c===0?c=r:t[u+1]=of(t[u+1],r),u=r;l&&(t[r+1]=$f(t[r+1])),Jw(t,f,r,!0),Jw(t,f,r,!1),MN(e,f,t,r,o),s=ou(c,u),o?e.classBindings=s:e.styleBindings=s}function MN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Ks(o,e)>=0&&(n[r+1]=Hf(n[r+1]))}function Jw(t,e,n,r){let i=t[n+1],o=e===null,s=r?Jr(i):go(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];xN(u,e)&&(c=!0,t[s+1]=r?Hf(l):$f(l)),s=r?Jr(l):go(l)}c&&(t[n+1]=r?$f(i):Hf(i))}function xN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Ks(t,e)>=0:!1}function pe(t,e,n){let r=be(),i=zu();if(ea(r,i,e)){let o=Et(),s=ap();KE(o,s,r,t,e,r[Ue],n,!1)}return pe}function Xw(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Cp(t,n,o[s],s,r)}function Xu(t,e){return RN(t,e,null,!0),Xu}function RN(t,e,n,r){let i=be(),o=Et(),s=MM(2);if(o.firstUpdatePass&&PN(o,t,s,r),e!==ni&&ea(i,s,e)){let c=o.data[wo()];VN(o,c,i,i[Ue],t,i[s+1]=jN(e,n),r,s)}}function NN(t,e){return e>=t.expandoStartIndex}function PN(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[wo()],s=NN(t,n);UN(o,r)&&e===null&&!s&&(e=!1),e=ON(i,o,e,r),AN(i,o,e,n,s,r)}}function ON(t,e,n,r){let i=PM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=sf(null,t,e,n,r),n=Gs(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=sf(i,t,e,n,r),o===null){let u=kN(t,e,r);u!==void 0&&Array.isArray(u)&&(u=sf(null,t,e,u[1],r),u=Gs(u,e.attrs,r),FN(t,e,r,u))}else o=LN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function kN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(go(r)!==0)return t[Jr(r)]}function FN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Jr(i)]=r}function LN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Gs(r,s,n)}return Gs(r,e.attrs,n)}function sf(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=Gs(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Gs(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),FA(t,s,n?!0:e[++o]))}return t===void 0?null:t}function VN(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=SN(l)?eI(u,e,n,i,go(l),s):void 0;if(!Pu(f)){Pu(o)||CN(l)&&(o=eI(u,null,n,i,c,s));let g=UI(wo(),n);Hx(r,s,g,i,o)}}function eI(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,_=n[i+1];_===ni&&(_=g?Nt:void 0);let w=g?Qh(_,r):f===r?_:void 0;if(l&&!Pu(w)&&(w=Qh(u,r)),Pu(w)&&(c=w,s))return c;let A=t[i+1];i=s?Jr(A):go(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Qh(u,r))}return c}function Pu(t){return t!==void 0}function jN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=dt(Zs(t)))),t}function UN(t,e){return(t.flags&(e?8:16))!==0}function BN(t,e,n,r,i,o){let s=e.consts,c=Iu(s,i),u=Qu(e,t,2,r,c);return QE(e,n,u,Iu(s,o)),u.attrs!==null&&Vf(u,u.attrs,!1),u.mergedAttrs!==null&&Vf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function x(t,e,n,r){let i=be(),o=Et(),s=cr+t,c=i[Ue],u=o.firstCreatePass?BN(s,o,i,e,n,r):o.data[s],l=$N(o,i,u,c,e,t);i[s]=l;let f=rp(u);return Qs(u,!0),jE(c,l,u),!vN(u)&&cp()&&Ep(o,i,l,u),_M()===0&&Yr(l,i),wM(),f&&(qE(o,i,u),zE(o,u,i)),r!==null&&GE(i,u),x}function k(){let t=pt();KI()?TM():(t=t.parent,Qs(t,!1));let e=t;DM(e)&&bM(),IM();let n=Et();return n.firstCreatePass&&(lp(n,t),OI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&BM(e)&&Xw(n,e,be(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&$M(e)&&Xw(n,e,be(),e.stylesWithoutHost,!1),k}function ye(t,e,n,r){return x(t,e,n,r),k(),ye}var $N=(t,e,n,r,i,o)=>(up(!0),RE(r,i,LM()));function Do(){return be()}var Ou="en-US";var HN=Ou;function zN(t){typeof t=="string"&&(HN=t.toLowerCase().replace(/_/g,"-"))}var qN=(t,e,n)=>{};function Be(t,e,n,r){let i=be(),o=Et(),s=pt();return h0(o,i,i[Ue],s,t,e,r),Be}function GN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[yu],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function h0(t,e,n,r,i,o,s){let c=rp(r),l=t.firstCreatePass&&mR(t),f=e[Wt],g=gR(e),_=!0;if(r.type&3||s){let P=Ft(r,e),N=s?s(P):P,j=g.length,W=s?ve=>s(on(ve[r.index])):r.index,X=null;if(!s&&c&&(X=GN(t,e,i,r.index)),X!==null){let ve=X.__ngLastListenerFn__||X;ve.__ngNextListenerFn__=o,X.__ngLastListenerFn__=o,_=!1}else{o=nI(r,e,f,o),qN(P,i,o);let ve=n.listen(N,i,o);g.push(o,ve),l&&l.push(i,W,j,j+1)}}else o=nI(r,e,f,o);let w=r.outputs,A;if(_&&w!==null&&(A=w[i])){let P=A.length;if(P)for(let N=0;N<P;N+=2){let j=A[N],W=A[N+1],Ke=e[j][W].subscribe(o),ge=g.length;g.push(o,Ke),l&&l.push(i,r.index,ge,-(ge+1))}}}function tI(t,e,n,r){let i=fe(null);try{return Xt(6,e,n),n(r)!==!1}catch(o){return e0(t,o),!1}finally{Xt(7,e,n),fe(i)}}function nI(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?dr(t.index,e):e;Sp(s,5);let c=tI(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)c=tI(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function Dt(t=1){return kM(t)}function V(t,e=""){let n=be(),r=Et(),i=t+cr,o=r.firstCreatePass?Qu(r,i,1,e,null):r.data[i],s=WN(r,n,o,e,t);n[i]=s,cp()&&Ep(r,n,s,o),Qs(o,!1)}var WN=(t,e,n,r,i)=>(up(!0),Tx(e[Ue],r));function ri(t){return mr("",t,""),ri}function mr(t,e,n){let r=be(),i=bN(r,t,e,n);return i!==ni&&yR(r,wo(),i),mr}function yr(t,e,n){l0(e)&&(e=e());let r=be(),i=zu();if(ea(r,i,e)){let o=Et(),s=ap();KE(o,s,r,t,e,r[Ue],n,!1)}return yr}function ii(t,e){let n=l0(t);return n&&t.set(e),n}function vr(t,e){let n=be(),r=Et(),i=pt();return h0(r,n,n[Ue],i,t,e),vr}function KN(t,e,n){let r=Et();if(r.firstCreatePass){let i=ur(t);zf(n,r.data,r.blueprint,i,!0),zf(e,r.data,r.blueprint,i,!1)}}function zf(t,e,n,r,i){if(t=lt(t),Array.isArray(t))for(let o=0;o<t.length;o++)zf(t[o],e,n,r,i);else{let o=Et(),s=be(),c=pt(),u=so(t)?t:lt(t.provide),l=RI(t),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(so(t)||!t.multi){let w=new Qr(l,i,Y),A=cf(u,e,i?f:f+_,g);A===-1?(Df(bu(c,s),o,u),af(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),s.push(w)):(n[A]=w,s[A]=w)}else{let w=cf(u,e,f+_,g),A=cf(u,e,f,f+_),P=w>=0&&n[w],N=A>=0&&n[A];if(i&&!N||!i&&!P){Df(bu(c,s),o,u);let j=ZN(i?YN:QN,n.length,i,r,l);!i&&N&&(n[A].providerFactory=j),af(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=f0(n[i?A:w],l,!i&&r);af(o,t,w>-1?w:A,j)}!i&&r&&N&&n[A].componentProviders++}}}function af(t,e,n,r){let i=so(e),o=rM(e);if(i||o){let u=(o?lt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function f0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function cf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function QN(t,e,n,r){return qf(this.multi,[])}function YN(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=lo(n,n[ae],this.providerFactory.index,r);o=c.slice(0,s),qf(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],qf(i,o);return o}function qf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function ZN(t,e,n,r,i){let o=new Qr(t,n,Y);return o.multi=[],o.index=e,o.componentProviders=0,f0(o,i,r&&!n),o}function el(t,e=[]){return n=>{n.providersResolver=(r,i)=>KN(r,i?i(t):t,e)}}var JN=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=AI(!1,r.type),o=i.length>0?xp([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=z({token:e,providedIn:"environment",factory:()=>new e(ne(kt))});let t=e;return t})();function it(t){Js("NgStandalone"),t.getStandaloneInjector=e=>e.get(JN).getOrCreateStandaloneInjector(t)}function Lt(t,e,n){let r=SM()+t,i=be();return i[r]===ni?mN(i,r,n?e.call(n):e()):yN(i,r)}var Tn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},p0=new Tn("18.2.2");var tl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var g0=new $("");function oi(t){return!!t&&typeof t.then=="function"}function m0(t){return!!t&&typeof t.subscribe=="function"}var y0=new $(""),v0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=L(y0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(oi(s))r.push(s);else if(m0(s)){let c=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Rp=new $("");function XN(){q_(()=>{throw new B(600,!1)})}function eP(t){return t.isBoundToModule}var tP=10;function nP(t,e,n){try{let r=n();return oi(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var si=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(cx),this.afterRenderManager=L(DN),this.zonelessEnabled=L(Ap),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ze,this.afterTick=new ze,this.componentTypes=[],this.components=[],this.isStable=L(Io).hasPendingTasks.pipe(ie(r=>!r)),this._injector=L(kt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof xu;if(!this._injector.get(v0).done){let w=!o&&bI(r),A=!1;throw new B(405,A)}let c;o?c=r:c=this._injector.get(fo).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=eP(c)?void 0:this._injector.get(lr),l=i||c.selector,f=c.create(yt.NULL,[],l,u),g=f.location.nativeElement,_=f.injector.get(g0,null);return _?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),lu(this.components,f),_?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let r=fe(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,fe(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(po,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<tP;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)rP(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>$u(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;lu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Rp,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>lu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new B(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function lu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function rP(t,e,n,r){if(!n&&!$u(t))return;r0(t,e,n&&!r?0:1)}var Gf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Np=(()=>{let e=class e{compileModuleSync(r){return new Bf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=CI(r),s=xE(o.declarations).reduce((c,u)=>{let l=qr(u);return l&&c.push(new zs(l)),c},[]);return new Gf(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var iP=(()=>{let e=class e{constructor(){this.zone=L(we),this.changeDetectionScheduler=L(ho),this.applicationRef=L(si)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),oP=new $("",{factory:()=>!1});function _0({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(oe(F({},I0()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:oo,multi:!0,useFactory:()=>{let r=L(iP,{optional:!0});return()=>r.initialize()}},{provide:oo,multi:!0,useFactory:()=>{let r=L(sP);return()=>{r.initialize()}}},e===!0?{provide:a0,useValue:!0}:[],{provide:c0,useValue:n??gE}]}function w0(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=_0({ngZoneFactory:()=>{let i=I0(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Js("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return sn([{provide:oP,useValue:!0},{provide:Ap,useValue:!1},r])}function I0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var sP=(()=>{let e=class e{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=L(we),this.pendingTasks=L(Io)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var aP=(()=>{let e=class e{constructor(){this.appRef=L(si),this.taskService=L(Io),this.ngZone=L(we),this.zonelessEnabled=L(Ap),this.disableScheduling=L(a0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ae,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Tu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(c0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Af||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?Lw:yE;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Tu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Lw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function cP(){return typeof $localize<"u"&&$localize.locale||Ou}var Pp=new $("",{providedIn:"root",factory:()=>L(Pp,ee.Optional|ee.SkipSelf)||cP()});var E0=new $("");function su(t){return!!t.platformInjector}function uP(t){let e=su(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{su(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(bn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),su(t)){let o=()=>e.destroy(),s=t.platformInjector.get(E0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{lu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return nP(r,n,()=>{let o=e.get(v0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Pp,Ou);if(zN(s||Ou),su(t)){let c=e.get(si);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return lP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function lP(t,e){let n=t.injector.get(si);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}var du=null;function dP(t=[],e){return yt.create({name:e,providers:[{provide:ju,useValue:"platform"},{provide:E0,useValue:new Set([()=>du=null])},...t]})}function hP(t=[]){if(du)return du;let e=dP(t);return du=e,XN(),fP(e),e}function fP(t){t.get(mp,null)?.forEach(n=>n())}var ai=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=pP;let t=e;return t})();function pP(t){return gP(pt(),be(),(t&16)===16)}function gP(t,e,n){if(Bu(t)&&!n){let r=dr(t.index,e);return new Zr(r,r)}else if(t.type&175){let r=e[rn];return new Zr(r,e)}return null}var Wf=class{constructor(){}supports(e){return d0(e)}create(e){return new Kf(e)}},mP=(t,e)=>e,Kf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||mP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<rI(r,i,o)?n:r,c=rI(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let _=0;_<l;_++){let w=_<o.length?o[_]:o[_]=0,A=w+_;f<=A&&A<l&&(o[_]=w+1)}let g=s.previousIndex;o[g]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!d0(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,pN(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Qf(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new ku),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new ku),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Qf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Yf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},ku=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Yf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function rI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function iI(){return new Op([new Wf])}var Op=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||iI()),deps:[[e,new gI,new ft]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new B(901,!1)}};e.\u0275prov=z({token:e,providedIn:"root",factory:iI});let t=e;return t})();function D0(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=hP(r),o=[_0({}),{provide:ho,useExisting:aP},...n||[]],s=new Nu({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return uP({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var b0=new $("");function ci(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function ta(t,e){Js("NgSignals");let n=$_(t);return e?.equal&&(n[In].equal=e.equal),n}function Rn(t){let e=fe(null);try{return t()}finally{fe(e)}}var x0=null;function Nn(){return x0}function R0(t){x0??=t}var nl=class{};var bt=new $(""),N0=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>L(yP),providedIn:"platform"});let t=e;return t})();var yP=(()=>{let e=class e extends N0{constructor(){super(),this._doc=L(bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Nn().getBaseHref(this._doc)}onPopState(r){let i=Nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Nn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function P0(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function C0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function ui(t){return t&&t[0]!=="?"?"?"+t:t}var bo=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>L(O0),providedIn:"root"});let t=e;return t})(),vP=new $(""),O0=(()=>{let e=class e extends bo{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??L(bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return P0(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+ui(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let c=this.prepareExternalUrl(o+ui(s));this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,s){let c=this.prepareExternalUrl(o+ui(s));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(ne(N0),ne(vP,8))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var na=(()=>{let e=class e{constructor(r){this._subject=new Ne,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=IP(C0(T0(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+ui(i))}normalize(r){return e.stripTrailingSlash(wP(this._basePath,T0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ui(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+ui(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=ui,e.joinWithSlash=P0,e.stripTrailingSlash=C0,e.\u0275fac=function(i){return new(i||e)(ne(bo))},e.\u0275prov=z({token:e,factory:()=>_P(),providedIn:"root"});let t=e;return t})();function _P(){return new na(ne(bo))}function wP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function T0(t){return t.replace(/\/index.html$/,"")}function IP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function k0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Fp=/\s+/,S0=[],F0=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=S0,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Fp):S0}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Fp):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Fp).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(Y(xn),Y(pr))},e.\u0275dir=rt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var Lp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},il=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,c)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new Lp(o.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,c),A0(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);A0(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Y(Eo),Y(Zu),Y(Op))},e.\u0275dir=rt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function A0(t,e){t.context.$implicit=e.item}var L0=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Vp,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){M0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){M0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Y(Eo),Y(Zu))},e.\u0275dir=rt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Vp=class{constructor(){this.$implicit=null,this.ngIf=null}};function M0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${dt(e)}'.`)}var Ct=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ei({type:e}),e.\u0275inj=Xr({});let t=e;return t})(),V0="browser",EP="server";function jp(t){return t===EP}var rl=class{};var Hp=class extends nl{constructor(){super(...arguments),this.supportsDOMEvents=!0}},zp=class t extends Hp{static makeCurrent(){R0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=DP();return n==null?null:bP(n)}resetBaseElement(){ra=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return k0(document.cookie,e)}},ra=null;function DP(){return ra=ra||document.querySelector("base"),ra?ra.getAttribute("href"):null}function bP(t){return new URL(t,document.baseURI).pathname}var CP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),ol=new $(""),$0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(ne(ol),ne(we))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),ia=class{constructor(e){this._doc=e}},Bp="ng-app-id",H0=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=jp(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${Bp}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(Bp),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute(Bp,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,c=s.get(i)?.elements;c?c.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(ne(bt),ne(gp),ne(yp,8),ne(fr))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),$p={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Gp=/%COMP%/g,z0="%COMP%",TP=`_nghost-${z0}`,SP=`_ngcontent-${z0}`,AP=!0,MP=new $("",{providedIn:"root",factory:()=>AP});function xP(t){return SP.replace(Gp,t)}function RP(t){return TP.replace(Gp,t)}function q0(t,e){return e.map(n=>n.replace(Gp,t))}var j0=(()=>{let e=class e{constructor(r,i,o,s,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=jp(u),this.defaultRenderer=new oa(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===tn.ShadowDom&&(i=oe(F({},i),{encapsulation:tn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof sl?o.applyToHost(r):o instanceof sa&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case tn.Emulated:s=new sl(l,f,i,this.appId,g,c,u,_);break;case tn.ShadowDom:return new qp(l,f,r,i,c,u,this.nonce,_);default:s=new sa(l,f,i,g,c,u,_);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(ne($0),ne(H0),ne(gp),ne(MP),ne(bt),ne(fr),ne(we),ne(yp))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),oa=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS($p[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(U0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(U0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=$p[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=$p[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Cn.DashCase|Cn.Important)?e.style.setProperty(n,r,i&Cn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Cn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Nn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function U0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var qp=class extends oa{constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=q0(i.id,i.styles);for(let f of l){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},sa=class extends oa{constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?q0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},sl=class extends sa{constructor(e,n,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,c,u,l),this.contentAttr=xP(l),this.hostAttr=RP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},NP=(()=>{let e=class e extends ia{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(ne(bt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),PP=(()=>{let e=class e extends ia{constructor(r){super(r),this.delegate=L(b0,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(ne(bt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})(),B0=["alt","control","meta","shift"],OP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},FP=(()=>{let e=class e extends ia{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Nn().onAndCancel(r,s.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),B0.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),c+=f+".")}),c+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let o=OP[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),B0.forEach(c=>{if(c!==o){let u=kP[c];u(r)&&(s+=c+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(ne(bt))},e.\u0275prov=z({token:e,factory:e.\u0275fac});let t=e;return t})();function G0(t,e){return D0(F({rootComponent:t},LP(e)))}function LP(t){return{appProviders:[...$P,...t?.providers??[]],platformProviders:BP}}function VP(){zp.makeCurrent()}function jP(){return new bn}function UP(){return bE(document),document}var BP=[{provide:fr,useValue:V0},{provide:mp,useValue:VP,multi:!0},{provide:bt,useFactory:UP,deps:[]}];var $P=[{provide:ju,useValue:"root"},{provide:bn,useFactory:jP,deps:[]},{provide:ol,useClass:NP,multi:!0,deps:[bt,we,fr]},{provide:ol,useClass:FP,multi:!0,deps:[bt]},{provide:ol,useClass:PP,multi:!0},j0,H0,$0,{provide:po,useExisting:j0},{provide:rl,useClass:CP,deps:[]},[]];var W0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(ne(bt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var J="primary",Ea=Symbol("RouteTitle"),Zp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function xo(t){return new Zp(t)}function zP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function qP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!an(t[n],e[n]))return!1;return!0}function an(t,e){let n=t?Jp(t):void 0,r=e?Jp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!tD(t[i],e[i]))return!1;return!0}function Jp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function tD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function nD(t){return t.length>0?t[t.length-1]:null}function wr(t){return Bh(t)?t:oi(t)?Me(Promise.resolve(t)):Q(t)}var GP={exact:iD,subset:oD},rD={exact:WP,subset:KP,ignored:()=>!0};function K0(t,e,n){return GP[n.paths](t.root,e.root,n.matrixParams)&&rD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function WP(t,e){return an(t,e)}function iD(t,e,n){if(!di(t.segments,e.segments)||!ul(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!iD(t.children[r],e.children[r],n))return!1;return!0}function KP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>tD(t[n],e[n]))}function oD(t,e,n){return sD(t,e,e.segments,n)}function sD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!di(i,n)||e.hasChildren()||!ul(i,n,r))}else if(t.segments.length===n.length){if(!di(t.segments,n)||!ul(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!oD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!di(t.segments,i)||!ul(t.segments,i,r)||!t.children[J]?!1:sD(t.children[J],e,o,r)}}function ul(t,e,n){return e.every((r,i)=>rD[n](t[i].parameters,r.parameters))}var On=class{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=xo(this.queryParams),this._queryParamMap}toString(){return ZP.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ll(this)}},li=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=xo(this.parameters),this._parameterMap}toString(){return cD(this)}};function QP(t,e){return di(t,e)&&t.every((n,r)=>an(n.parameters,e[r].parameters))}function di(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function YP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===J&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==J&&(n=n.concat(e(i,r)))}),n}var bg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>new fa,providedIn:"root"});let t=e;return t})(),fa=class{parse(e){let n=new eg(e);return new On(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${aa(e.root,!0)}`,r=e1(e.queryParams),i=typeof e.fragment=="string"?`#${JP(e.fragment)}`:"";return`${n}${r}${i}`}},ZP=new fa;function ll(t){return t.segments.map(e=>cD(e)).join("/")}function aa(t,e){if(!t.hasChildren())return ll(t);if(e){let n=t.children[J]?aa(t.children[J],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${aa(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=YP(t,(r,i)=>i===J?[aa(t.children[J],!1)]:[`${i}:${aa(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${ll(t)}/${n[0]}`:`${ll(t)}/(${n.join("//")})`}}function aD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function al(t){return aD(t).replace(/%3B/gi,";")}function JP(t){return encodeURI(t)}function Xp(t){return aD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function dl(t){return decodeURIComponent(t)}function Q0(t){return dl(t.replace(/\+/g,"%20"))}function cD(t){return`${Xp(t.path)}${XP(t.parameters)}`}function XP(t){return Object.entries(t).map(([e,n])=>`;${Xp(e)}=${Xp(n)}`).join("")}function e1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${al(n)}=${al(i)}`).join("&"):`${al(n)}=${al(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var t1=/^[^\/()?;#]+/;function Wp(t){let e=t.match(t1);return e?e[0]:""}var n1=/^[^\/()?;=#]+/;function r1(t){let e=t.match(n1);return e?e[0]:""}var i1=/^[^=?&#]+/;function o1(t){let e=t.match(i1);return e?e[0]:""}var s1=/^[^&#]+/;function a1(t){let e=t.match(s1);return e?e[0]:""}var eg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new _e(e,n)),r}parseSegment(){let e=Wp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new li(dl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=r1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Wp(this.remaining);i&&(r=i,this.capture(r))}e[dl(n)]=dl(r)}parseQueryParam(e){let n=o1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=a1(this.remaining);s&&(r=s,this.capture(r))}let i=Q0(n),o=Q0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Wp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=J);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[J]:new _e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function uD(t){return t.segments.length>0?new _e([],{[J]:t}):t}function lD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=lD(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new _e(t.segments,e);return c1(n)}function c1(t){if(t.numberOfChildren===1&&t.children[J]){let e=t.children[J];return new _e(t.segments.concat(e.segments),e.children)}return t}function hi(t){return t instanceof On}function u1(t,e,n=null,r=null){let i=dD(t);return hD(i,e,n,r)}function dD(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new _e(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=uD(r);return e??i}function hD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Kp(i,i,i,n,r);let o=l1(e);if(o.toRoot())return Kp(i,i,new _e([],{}),n,r);let s=d1(o,i,t),c=s.processChildren?la(s.segmentGroup,s.index,o.commands):pD(s.segmentGroup,s.index,o.commands);return Kp(i,s.segmentGroup,c,n,r)}function hl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function pa(t){return typeof t=="object"&&t!=null&&t.outlets}function Kp(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=fD(t,e,n);let c=uD(lD(s));return new On(c,o,i)}function fD(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=fD(o,e,n)}),new _e(t.segments,r)}var fl=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&hl(r[0]))throw new B(4003,!1);let i=r.find(pa);if(i&&i!==nD(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function l1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new fl(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new fl(n,e,r)}var So=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function d1(t,e,n){if(t.isAbsolute)return new So(e,!0,0);if(!n)return new So(e,!1,NaN);if(n.parent===null)return new So(n,!0,0);let r=hl(t.commands[0])?0:1,i=n.segments.length-1+r;return h1(n,i,t.numberOfDoubleDots)}function h1(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new So(r,!1,i-o)}function f1(t){return pa(t[0])?t[0].outlets:{[J]:t}}function pD(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return la(t,e,n);let r=p1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new _e(t.segments.slice(0,r.pathIndex),{});return o.children[J]=new _e(t.segments.slice(r.pathIndex),t.children),la(o,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?tg(t,e,n):r.match?la(t,0,i):tg(t,e,n)}function la(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=f1(n),i={};if(Object.keys(r).some(o=>o!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let o=la(t.children[J],e,n);return new _e(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=pD(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(t.segments,i)}}function p1(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(pa(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Z0(u,l,s))return o;r+=2}else{if(!Z0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function tg(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(pa(o)){let u=g1(o.outlets);return new _e(r,u)}if(i===0&&hl(n[0])){let u=t.segments[e];r.push(new li(u.path,Y0(n[0]))),i++;continue}let s=pa(o)?o.outlets[J]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&hl(c)?(r.push(new li(s,Y0(c))),i+=2):(r.push(new li(s,{})),i++)}return new _e(r,{})}function g1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=tg(new _e([],{}),0,r))}),e}function Y0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function Z0(t,e,n){return t==n.path&&an(e,n.parameters)}var da="imperative",Ze=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(Ze||{}),jt=class{constructor(e,n){this.id=e,this.url=n}},ga=class extends jt{constructor(e,n,r="imperative",i=null){super(e,n),this.type=Ze.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_r=class extends jt{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=Ze.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},St=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(St||{}),ng=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(ng||{}),Pn=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ze.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},fi=class extends jt{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=Ze.NavigationSkipped}},ma=class extends jt{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=Ze.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},pl=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},rg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ig=class extends jt{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=Ze.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},og=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},sg=class extends jt{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=Ze.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ag=class{constructor(e){this.route=e,this.type=Ze.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},cg=class{constructor(e){this.route=e,this.type=Ze.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},ug=class{constructor(e){this.snapshot=e,this.type=Ze.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},lg=class{constructor(e){this.snapshot=e,this.type=Ze.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dg=class{constructor(e){this.snapshot=e,this.type=Ze.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hg=class{constructor(e){this.snapshot=e,this.type=Ze.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ya=class{},Ro=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function m1(t,e){return t.providers&&!t._injector&&(t._injector=xp(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Yt(t){return t.outlet||J}function y1(t,e){let n=t.filter(r=>Yt(r)===e);return n.push(...t.filter(r=>Yt(r)!==e)),n}function Da(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var fg=class{get injector(){return Da(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Il(this.rootInjector),this.attachRef=null}},Il=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new fg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(ne(kt))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=pg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=pg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=gg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return gg(e,this._root).map(n=>n.value)}};function pg(t,e){if(t===e.value)return e;for(let n of e.children){let r=pg(t,n);if(r)return r}return null}function gg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=gg(t,n);if(r.length)return r.unshift(e),r}return[]}var Tt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function To(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var ml=class extends gl{constructor(e,n){super(e),this.snapshot=n,Cg(this,e)}toString(){return this.snapshot.toString()}};function gD(t){let e=v1(t),n=new Ye([new li("",{})]),r=new Ye({}),i=new Ye({}),o=new Ye({}),s=new Ye(""),c=new pi(n,r,o,s,i,J,t,e.root);return c.snapshot=e.root,new ml(new Tt(c,[]),e)}function v1(t){let e={},n={},r={},i="",o=new Ao([],e,r,i,n,J,t,null,{});return new vl("",new Tt(o,[]))}var pi=class{constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(ie(l=>l[Ea]))??Q(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(ie(e=>xo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(ie(e=>xo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function yl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&yD(i)&&(r.resolve[Ea]=i.title),r}var Ao=class{get title(){return this.data?.[Ea]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=xo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=xo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},vl=class extends gl{constructor(e,n){super(n),this.url=e,Cg(this,n)}toString(){return mD(this._root)}};function Cg(t,e){e.value._routerState=t,e.children.forEach(n=>Cg(t,n))}function mD(t){let e=t.children.length>0?` { ${t.children.map(mD).join(", ")} } `:"";return`${t.value}${e}`}function Qp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,an(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),an(e.params,n.params)||t.paramsSubject.next(n.params),qP(e.url,n.url)||t.urlSubject.next(n.url),an(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function mg(t,e){let n=an(t.params,e.params)&&QP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||mg(t.parent,e.parent))}function yD(t){return typeof t.title=="string"||t.title===null}var Tg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new Ne,this.deactivateEvents=new Ne,this.attachEvents=new Ne,this.detachEvents=new Ne,this.parentContexts=L(Il),this.location=L(Eo),this.changeDetector=L(ai),this.inputBinder=L(Sg,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=r;let o=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new yg(r,u,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ti]});let t=e;return t})(),yg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===pi?this.route:e===Il?this.childContexts:this.parent.get(e,n)}},Sg=new $("");function _1(t,e,n){let r=va(t,e._root,n?n._root:void 0);return new ml(r,e)}function va(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=w1(t,e,n);return new Tt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>va(t,c)),s}}let r=I1(e.value),i=e.children.map(o=>va(t,o));return new Tt(r,i)}}function w1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return va(t,r,i);return va(t,r)})}function I1(t){return new pi(new Ye(t.url),new Ye(t.params),new Ye(t.queryParams),new Ye(t.fragment),new Ye(t.data),t.outlet,t.component,t)}var _a=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},vD="ngNavigationCancelingError";function _l(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=hi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=_D(!1,St.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function _D(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[vD]=!0,n.cancellationCode=e,n}function E1(t){return wD(t)&&hi(t.url)}function wD(t){return!!t&&t[vD]}var D1=(t,e,n,r)=>ie(i=>(new vg(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),vg=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Qp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=To(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=To(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=To(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=To(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new hg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new lg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Qp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Qp(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},wl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Mo=class{constructor(e,n){this.component=e,this.route=n}};function b1(t,e,n){let r=t._root,i=e?e._root:null;return ca(r,i,n,[r.value])}function C1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Po(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!cI(t)?t:e.get(t):r}function ca(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=To(e);return t.children.forEach(s=>{T1(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ha(c,n.getContext(s),i)),i}function T1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=S1(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new wl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ca(t,e,c?c.children:null,r,i):ca(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Mo(c.outlet.component,s))}else s&&ha(e,c,i),i.canActivateChecks.push(new wl(r)),o.component?ca(t,null,c?c.children:null,r,i):ca(t,null,n,r,i);return i}function S1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!di(t.url,e.url);case"pathParamsOrQueryParamsChange":return!di(t.url,e.url)||!an(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!mg(t,e)||!an(t.queryParams,e.queryParams);case"paramsChange":default:return!mg(t,e)}}function ha(t,e,n){let r=To(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ha(s,e.children.getContext(o),n):ha(s,null,n):ha(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Mo(e.outlet.component,i)):n.canDeactivateChecks.push(new Mo(null,i)):n.canDeactivateChecks.push(new Mo(null,i))}function ba(t){return typeof t=="function"}function A1(t){return typeof t=="boolean"}function M1(t){return t&&ba(t.canLoad)}function x1(t){return t&&ba(t.canActivate)}function R1(t){return t&&ba(t.canActivateChild)}function N1(t){return t&&ba(t.canDeactivate)}function P1(t){return t&&ba(t.canMatch)}function ID(t){return t instanceof En||t?.name==="EmptyError"}var cl=Symbol("INITIAL_VALUE");function No(){return zt(t=>Xc(t.map(e=>e.pipe(Dn(1),Wh(cl)))).pipe(ie(e=>{for(let n of e)if(n!==!0){if(n===cl)return cl;if(n===!1||O1(n))return n}return!0}),Ht(e=>e!==cl),Dn(1)))}function O1(t){return hi(t)||t instanceof _a}function k1(t,e){return Ve(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Q(oe(F({},n),{guardsResult:!0})):F1(s,r,i,t).pipe(Ve(c=>c&&A1(c)?L1(r,o,t,e):Q(c)),ie(c=>oe(F({},n),{guardsResult:c})))})}function F1(t,e,n,r){return Me(t).pipe(Ve(i=>$1(i.component,i.route,n,e,r)),Jt(i=>i!==!0,!0))}function L1(t,e,n,r){return Me(e).pipe(Yi(i=>Qi(j1(i.route.parent,r),V1(i.route,r),B1(t,i.path,n),U1(t,i.route,n))),Jt(i=>i!==!0,!0))}function V1(t,e){return t!==null&&e&&e(new dg(t)),Q(!0)}function j1(t,e){return t!==null&&e&&e(new ug(t)),Q(!0)}function U1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Q(!0);let i=r.map(o=>eu(()=>{let s=Da(e)??n,c=Po(o,s),u=x1(c)?c.canActivate(e,t):Sn(s,()=>c(e,t));return wr(u).pipe(Jt())}));return Q(i).pipe(No())}function B1(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>C1(s)).filter(s=>s!==null).map(s=>eu(()=>{let c=s.guards.map(u=>{let l=Da(s.node)??n,f=Po(u,l),g=R1(f)?f.canActivateChild(r,t):Sn(l,()=>f(r,t));return wr(g).pipe(Jt())});return Q(c).pipe(No())}));return Q(o).pipe(No())}function $1(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Q(!0);let s=o.map(c=>{let u=Da(e)??i,l=Po(c,u),f=N1(l)?l.canDeactivate(t,e,n,r):Sn(u,()=>l(t,e,n,r));return wr(f).pipe(Jt())});return Q(s).pipe(No())}function H1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Q(!0);let o=i.map(s=>{let c=Po(s,t),u=M1(c)?c.canLoad(e,n):Sn(t,()=>c(e,n));return wr(u)});return Q(o).pipe(No(),ED(r))}function ED(t){return Ph(je(e=>{if(typeof e!="boolean")throw _l(t,e)}),ie(e=>e===!0))}function z1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Q(!0);let o=i.map(s=>{let c=Po(s,t),u=P1(c)?c.canMatch(e,n):Sn(t,()=>c(e,n));return wr(u)});return Q(o).pipe(No(),ED(r))}var wa=class{constructor(e){this.segmentGroup=e||null}},Ia=class extends Error{constructor(e){super(),this.urlTree=e}};function Co(t){return Ki(new wa(t))}function q1(t){return Ki(new B(4e3,!1))}function G1(t){return Ki(_D(!1,St.GuardRejected))}var _g=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Q(r);if(i.numberOfChildren>1||!i.children[J])return q1(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,params:w,data:A,title:P}=i,N=Sn(o,()=>c({params:w,data:A,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,title:P}));if(N instanceof On)throw new Ia(N);n=N}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ia(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new On(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new _e(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},wg={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function W1(t,e,n,r,i){let o=DD(t,e,n);return o.matched?(r=m1(e,r),z1(r,e,n,i).pipe(ie(s=>s===!0?o:F({},wg)))):Q(o)}function DD(t,e,n){if(e.path==="**")return K1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},wg):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||zP)(n,t,e);if(!i)return F({},wg);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function K1(t){return{matched:!0,parameters:t.length>0?nD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function J0(t,e,n,r){return n.length>0&&Z1(t,n,r)?{segmentGroup:new _e(e,Y1(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&J1(t,n,r)?{segmentGroup:new _e(t.segments,Q1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function Q1(t,e,n,r){let i={};for(let o of n)if(El(t,e,o)&&!r[Yt(o)]){let s=new _e([],{});i[Yt(o)]=s}return F(F({},r),i)}function Y1(t,e){let n={};n[J]=e;for(let r of t)if(r.path===""&&Yt(r)!==J){let i=new _e([],{});n[Yt(r)]=i}return n}function Z1(t,e,n){return n.some(r=>El(t,e,r)&&Yt(r)!==J)}function J1(t,e,n){return n.some(r=>El(t,e,r))}function El(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function X1(t,e,n){return e.length===0&&!t.children[n]}var Ig=class{};function eO(t,e,n,r,i,o,s="emptyOnly"){return new Eg(t,e,n,r,i,s,o).recognize()}var tO=31,Eg=class{constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new _g(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=J0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(ie(({children:n,rootSnapshot:r})=>{let i=new Tt(r,n),o=new vl("",i),s=u1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Ao([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,n).pipe(ie(r=>({children:r,rootSnapshot:n})),nr(r=>{if(r instanceof Ia)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof wa?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(ie(s=>s instanceof Tt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Me(o).pipe(Yi(s=>{let c=r.children[s],u=y1(n,s);return this.processSegmentGroup(e,u,c,s,i)}),Gh((s,c)=>(s.push(...c),s)),rr(null),qh(),Ve(s=>{if(s===null)return Co(r);let c=bD(s);return nO(c),Q(c)}))}processSegment(e,n,r,i,o,s,c){return Me(n).pipe(Yi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,c).pipe(nr(l=>{if(l instanceof wa)return Q(null);throw l}))),Jt(u=>!!u),nr(u=>{if(ID(u))return X1(r,i,o)?Q(new Ig):Co(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,c,u){return Yt(r)!==s&&(s===J||!El(i,o,r))?Co(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Co(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=DD(n,i,o);if(!u)return Co(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>tO&&(this.allowRedirects=!1));let w=new Ao(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,X0(i),Yt(i),i.component??i._loadedComponent??null,i,eD(i)),A=yl(w,c,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let P=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,w,e);return this.applyRedirects.lineralizeSegments(i,P).pipe(Ve(N=>this.processSegment(e,r,n,N.concat(_),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let c=W1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(zt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(zt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:w}=u,A=new Ao(_,g,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,X0(r),Yt(r),r.component??r._loadedComponent??null,r,eD(r)),P=yl(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(P.params),A.data=Object.freeze(P.data);let{segmentGroup:N,slicedSegments:j}=J0(n,_,w,l);if(j.length===0&&N.hasChildren())return this.processChildren(f,l,N,A).pipe(ie(X=>new Tt(A,X)));if(l.length===0&&j.length===0)return Q(new Tt(A,[]));let W=Yt(r)===o;return this.processSegment(f,l,N,j,W?J:o,!0,A).pipe(ie(X=>new Tt(A,X instanceof Tt?[X]:[])))}))):Co(n)))}getChildConfig(e,n,r){return n.children?Q({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Q({routes:n._loadedRoutes,injector:n._loadedInjector}):H1(e,n,r,this.urlSerializer).pipe(Ve(i=>i?this.configLoader.loadChildren(e,n).pipe(je(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):G1(n))):Q({routes:[],injector:e})}};function nO(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}function rO(t){let e=t.value.routeConfig;return e&&e.path===""}function bD(t){let e=[],n=new Set;for(let r of t){if(!rO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=bD(r.children);e.push(new Tt(r.value,i))}return e.filter(r=>!n.has(r))}function X0(t){return t.data||{}}function eD(t){return t.resolve||{}}function iO(t,e,n,r,i,o){return Ve(s=>eO(t,e,n,r,s.extractedUrl,i,o).pipe(ie(({state:c,tree:u})=>oe(F({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function oO(t,e){return Ve(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Q(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of CD(u))s.add(l);let c=0;return Me(s).pipe(Yi(u=>o.has(u)?sO(u,r,t,e):(u.data=yl(u,u.parent,t).resolve,Q(void 0))),je(()=>c++),Zi(1),Ve(u=>c===s.size?Q(n):It))})}function CD(t){let e=t.children.map(n=>CD(n)).flat();return[t,...e]}function sO(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!yD(i)&&(o[Ea]=i.title),aO(o,t,e,r).pipe(ie(s=>(t._resolvedData=s,t.data=yl(t,t.parent,n).resolve,null)))}function aO(t,e,n,r){let i=Jp(t);if(i.length===0)return Q({});let o={};return Me(i).pipe(Ve(s=>cO(t[s],e,n,r).pipe(Jt(),je(c=>{if(c instanceof _a)throw _l(new fa,c);o[s]=c}))),Zi(1),zh(o),nr(s=>ID(s)?It:Ki(s)))}function cO(t,e,n,r){let i=Da(e)??r,o=Po(t,i),s=o.resolve?o.resolve(e,n):Sn(i,()=>o(e,n));return wr(s)}function Yp(t){return zt(e=>{let n=t(e);return n?Me(n).pipe(ie(()=>e)):Q(e)})}var TD=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===J);return i}getResolvedTitleForRoute(r){return r.data[Ea]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>L(uO),providedIn:"root"});let t=e;return t})(),uO=(()=>{let e=class e extends TD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(ne(W0))},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ag=new $("",{providedIn:"root",factory:()=>({})}),lO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=nt({type:e,selectors:[["ng-component"]],standalone:!0,features:[it],decls:1,vars:0,template:function(i,o){i&1&&ye(0,"router-outlet")},dependencies:[Tg],encapsulation:2});let t=e;return t})();function Mg(t){let e=t.children&&t.children.map(Mg),n=e?oe(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=lO),n}var xg=new $(""),dO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(Np)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Q(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=wr(r.loadComponent()).pipe(ie(SD),je(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Fs(()=>{this.componentLoaders.delete(r)})),o=new zi(i,()=>new ze).pipe(Hi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Q({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=hO(i,this.compiler,r,this.onLoadEndListener).pipe(Fs(()=>{this.childrenLoaders.delete(i)})),c=new zi(s,()=>new ze).pipe(Hi());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function hO(t,e,n,r){return wr(t.loadChildren()).pipe(ie(SD),Ve(i=>i instanceof qs||Array.isArray(i)?Q(i):Me(e.compileModuleAsync(i))),ie(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(xg,[],{optional:!0,self:!0}).flat()),{routes:s.map(Mg),injector:o}}))}function fO(t){return t&&typeof t=="object"&&"default"in t}function SD(t){return fO(t)?t.default:t}var Rg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>L(pO),providedIn:"root"});let t=e;return t})(),pO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),gO=new $("");var mO=new $(""),yO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ze,this.transitionAbortSubject=new ze,this.configLoader=L(dO),this.environmentInjector=L(kt),this.urlSerializer=L(bg),this.rootContexts=L(Il),this.location=L(na),this.inputBindingEnabled=L(Sg,{optional:!0})!==null,this.titleStrategy=L(TD),this.options=L(Ag,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(Rg),this.createViewTransition=L(gO,{optional:!0}),this.navigationErrorHandler=L(mO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Q(void 0),this.rootComponentType=null;let r=o=>this.events.next(new ag(o)),i=o=>this.events.next(new cg(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(oe(F(F({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Ye({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:da,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Ht(s=>s.id!==0),ie(s=>oe(F({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),zt(s=>{let c=!1,u=!1;return Q(s).pipe(zt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",St.SupersededByNewNavigation),It;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?oe(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let _="";return this.events.next(new fi(l.id,this.urlSerializer.serialize(l.rawUrl),_,ng.IgnoredSameUrlNavigation)),l.resolve(!1),It}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Q(l).pipe(zt(_=>{let w=this.transitions?.getValue();return this.events.next(new ga(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),w!==this.transitions?.getValue()?It:Promise.resolve(_)}),iO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),je(_=>{s.targetSnapshot=_.targetSnapshot,s.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=oe(F({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let w=new pl(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(w)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:_,extractedUrl:w,source:A,restoredState:P,extras:N}=l,j=new ga(_,this.urlSerializer.serialize(w),A,P);this.events.next(j);let W=gD(this.rootComponentType).snapshot;return this.currentTransition=s=oe(F({},l),{targetSnapshot:W,urlAfterRedirects:w,extras:oe(F({},N),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,Q(s)}else{let _="";return this.events.next(new fi(l.id,this.urlSerializer.serialize(l.extractedUrl),_,ng.IgnoredByUrlHandlingStrategy)),l.resolve(!1),It}}),je(l=>{let f=new rg(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),ie(l=>(this.currentTransition=s=oe(F({},l),{guards:b1(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),k1(this.environmentInjector,l=>this.events.next(l)),je(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw _l(this.urlSerializer,l.guardsResult);let f=new ig(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),Ht(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",St.GuardRejected),!1)),Yp(l=>{if(l.guards.canActivateChecks.length)return Q(l).pipe(je(f=>{let g=new og(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),zt(f=>{let g=!1;return Q(f).pipe(oO(this.paramsInheritanceStrategy,this.environmentInjector),je({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",St.NoDataFromResolver)}}))}),je(f=>{let g=new sg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),Yp(l=>{let f=g=>{let _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe(je(w=>{g.component=w}),ie(()=>{})));for(let w of g.children)_.push(...f(w));return _};return Xc(f(l.targetSnapshot.root)).pipe(rr(null),Dn(1))}),Yp(()=>this.afterPreactivation()),zt(()=>{let{currentSnapshot:l,targetSnapshot:f}=s,g=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return g?Me(g).pipe(ie(()=>s)):Q(s)}),ie(l=>{let f=_1(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=oe(F({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),je(()=>{this.events.next(new ya)}),D1(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Dn(1),je({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _r(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Kh(this.transitionAbortSubject.pipe(je(l=>{throw l}))),Fs(()=>{!c&&!u&&this.cancelNavigationTransition(s,"",St.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),nr(l=>{if(u=!0,wD(l))this.events.next(new Pn(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),E1(l)?this.events.next(new Ro(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let f=new ma(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let g=Sn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(g instanceof _a){let{message:_,cancellationCode:w}=_l(this.urlSerializer,g);this.events.next(new Pn(s.id,this.urlSerializer.serialize(s.extractedUrl),_,w)),this.events.next(new Ro(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(f);let _=r.errorHandler(l);s.resolve(!!_)}}catch(g){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(g)}}return It}))}))}cancelNavigationTransition(r,i,o){let s=new Pn(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function vO(t){return t!==da}var _O=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>L(wO),providedIn:"root"});let t=e;return t})(),Dg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},wO=(()=>{let e=class e extends Dg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ys(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),AD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:()=>L(IO),providedIn:"root"});let t=e;return t})(),IO=(()=>{let e=class e extends AD{constructor(){super(...arguments),this.location=L(na),this.urlSerializer=L(bg),this.options=L(Ag,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(Rg),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new On,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=gD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof ga)this.stateMemento=this.createStateMemento();else if(r instanceof fi)this.rawUrlTree=i.initialUrl;else if(r instanceof pl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof ya?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Pn&&(r.code===St.GuardRejected||r.code===St.NoDataFromResolver)?this.restoreHistory(i):r instanceof ma?this.restoreHistory(i,!0):r instanceof _r&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof On?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,c=F(F({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",c)}else{let s=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ys(e)))(o||e)}})(),e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ua=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(ua||{});function EO(t,e){t.events.pipe(Ht(n=>n instanceof _r||n instanceof Pn||n instanceof ma||n instanceof fi),ie(n=>n instanceof _r||n instanceof fi?ua.COMPLETE:(n instanceof Pn?n.code===St.Redirect||n.code===St.SupersededByNewNavigation:!1)?ua.REDIRECTING:ua.FAILED),Ht(n=>n!==ua.REDIRECTING),Dn(1)).subscribe(()=>{e()})}function DO(t){throw t}var bO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},CO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},gi=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(tl),this.stateManager=L(AD),this.options=L(Ag,{optional:!0})||{},this.pendingTasks=L(Io),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(yO),this.urlSerializer=L(bg),this.location=L(na),this.urlHandlingStrategy=L(Rg),this._events=new ze,this.errorHandler=this.options.errorHandler||DO,this.navigated=!1,this.routeReuseStrategy=L(_O),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(xg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(Sg,{optional:!0}),this.eventsSubscription=new Ae,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Pn&&i.code!==St.Redirect&&i.code!==St.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof _r)this.navigated=!0;else if(i instanceof Ro){let c=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=F({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||vO(o.source)},c);this.scheduleNavigation(u,da,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}SO(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),da,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let l=F({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Mg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}g!==null&&(g=this.removeEmptyProps(g));let _;try{let w=o?o.snapshot:this.routerState.snapshot.root;_=dD(w)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),_=this.currentUrlTree.root}return hD(_,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=hi(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,da,null,i)}navigate(r,i={skipLocationChange:!1}){return TO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=F({},bO):i===!1?o=F({},CO):o=i,hi(r))return K0(this.currentUrlTree,r,o);let s=this.parseUrl(r);return K0(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((_,w)=>{u=_,l=w});let g=this.pendingTasks.add();return EO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=z({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function TO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function SO(t){return!(t instanceof ya)&&!(t instanceof Ro)}var cn=(()=>{let e=class e{constructor(r,i,o,s,c,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=c,this.locationStrategy=u,this.href=null,this.onChanges=new ze,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof _r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(hi(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:SE(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:hi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Y(gi),Y(pi),hp("tabindex"),Y(pr),Y(xn),Y(bo))},e.\u0275dir=rt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&Be("click",function(c){return o.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&Ju("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ci],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ci],replaceUrl:[2,"replaceUrl","replaceUrl",ci],routerLink:"routerLink"},standalone:!0,features:[Mp,ti]});let t=e;return t})();var AO=new $("");function MD(t,...e){return sn([{provide:xg,multi:!0,useValue:t},[],{provide:pi,useFactory:MO,deps:[gi]},{provide:Rp,multi:!0,useFactory:xO},e.map(n=>n.\u0275providers)])}function MO(t){return t.routerState.root}function xO(){let t=L(yt);return e=>{let n=t.get(si);if(e!==n.components[0])return;let r=t.get(gi),i=t.get(RO);t.get(NO)===1&&r.initialNavigation(),t.get(PO,null,ee.Optional)?.setUpPreloading(),t.get(AO,null,ee.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var RO=new $("",{factory:()=>new ze}),NO=new $("",{providedIn:"root",factory:()=>1});var PO=new $("");var OO=()=>["/login"],kO=()=>["/yo"],RD="*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-image:url(https://images.unsplash.com/photo-1556856425-366d6618905d?q=80&w=1864&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);background-repeat:no-repeat;background-size:cover;background-position:center;display:flex;justify-content:center;align-items:center;min-height:100vh}.container[_ngcontent-%COMP%]{text-align:center;padding:20px}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:25px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.game[_ngcontent-%COMP%]{background-color:#000;padding:10px;border-radius:8px;box-shadow:0 4px 8px #0000001a;transition:transform .3s ease;width:80%;max-width:250px;margin:0 auto;border:3px solid transparent}.games-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;max-width:800px;margin:90px auto 0;justify-items:center}.game[_ngcontent-%COMP%]:hover{transform:scale(1.05);border-color:#ff0}.game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px}.game[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:10px;font-size:1.5rem;color:#faf7f7}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}",Dl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-home"]],standalone:!0,features:[it],decls:44,vars:4,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"container"],[1,"games-grid"],[1,"game"],["routerLink","/pacman"],["src","pacman.jpg","alt","Pacman"],["routerLink","/ahorcado"],["src","ahorcado.png","alt","Ahorcado"],["href","juego3.html"],["src","mayormenor.jpg","alt","Mayor o menor"],["href","juego4.html"],["src","preguntados.png","alt","Preguntados"]],template:function(n,r){n&1&&(x(0,"html",0)(1,"head"),ye(2,"meta",1)(3,"meta",2),x(4,"title"),V(5,"Selecciona tu Juego"),k()(),x(6,"body")(7,"div",3)(8,"nav",4)(9,"ul")(10,"li")(11,"a",5),V(12,"Log in"),k()(),x(13,"li")(14,"a",6),V(15,"Chat"),k()(),x(16,"li")(17,"a",5),V(18,"Sobre Mi"),k()(),x(19,"li")(20,"a",6),V(21,"Log Out"),k()()()()(),x(22,"div",7)(23,"div",8)(24,"div",9)(25,"a",10),ye(26,"img",11),x(27,"h2"),V(28,"Pacman"),k()()(),x(29,"div",9)(30,"a",12),ye(31,"img",13),x(32,"h2"),V(33,"Ahorcado"),k()()(),x(34,"div",9)(35,"a",14),ye(36,"img",15),x(37,"h2"),V(38,"Mayor o Menor"),k()()(),x(39,"div",9)(40,"a",16),ye(41,"img",17),x(42,"h2"),V(43,"Preguntados"),k()()()()()()()),n&2&&(Z(11),pe("routerLink",Lt(2,OO)),Z(6),pe("routerLink",Lt(3,kO)))},dependencies:[cn,Ct],styles:[RD,RD]})};var jD=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Y(pr),Y(xn))},e.\u0275dir=rt({type:e});let t=e;return t})(),FO=(()=>{let e=class e extends jD{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Ys(e)))(o||e)}})(),e.\u0275dir=rt({type:e,features:[gr]});let t=e;return t})(),UD=new $("");var LO={provide:UD,useExisting:mo(()=>jo),multi:!0};function VO(){let t=Nn()?Nn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var jO=new $(""),jo=(()=>{let e=class e extends jD{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!VO())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Y(pr),Y(xn),Y(jO,8))},e.\u0275dir=rt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&Be("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[el([LO]),gr]});let t=e;return t})();var BD=new $(""),$D=new $("");function HD(t){return t!=null}function zD(t){return oi(t)?Me(t):t}function qD(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function GD(t,e){return e.map(n=>n(t))}function UO(t){return!t.validate}function WD(t){return t.map(e=>UO(e)?e:n=>e.validate(n))}function BO(t){if(!t)return null;let e=t.filter(HD);return e.length==0?null:function(n){return qD(GD(n,e))}}function Pg(t){return t!=null?BO(WD(t)):null}function $O(t){if(!t)return null;let e=t.filter(HD);return e.length==0?null:function(n){let r=GD(n,e).map(zD);return Hh(r).pipe(ie(qD))}}function Og(t){return t!=null?$O(WD(t)):null}function ND(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function HO(t){return t._rawValidators}function zO(t){return t._rawAsyncValidators}function Ng(t){return t?Array.isArray(t)?t:[t]:[]}function Cl(t,e){return Array.isArray(t)?t.includes(e):t===e}function PD(t,e){let n=Ng(e);return Ng(t).forEach(i=>{Cl(n,i)||n.push(i)}),n}function OD(t,e){return Ng(e).filter(n=>!Cl(t,n))}var Tl=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Pg(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Og(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Lo=class extends Tl{get formDirective(){return null}get path(){return null}},xa=class extends Tl{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Sl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},qO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},g3=oe(F({},qO),{"[class.ng-submitted]":"isSubmitted"}),Rl=(()=>{let e=class e extends Sl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(xa,2))},e.\u0275dir=rt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Xu("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[gr]});let t=e;return t})(),Nl=(()=>{let e=class e extends Sl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Y(Lo,10))},e.\u0275dir=rt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Xu("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[gr]});let t=e;return t})();var Ca="VALID",bl="INVALID",ko="PENDING",Ta="DISABLED",Vo=class{},Al=class extends Vo{constructor(e,n){super(),this.value=e,this.source=n}},Aa=class extends Vo{constructor(e,n){super(),this.pristine=e,this.source=n}},Ma=class extends Vo{constructor(e,n){super(),this.touched=e,this.source=n}},Fo=class extends Vo{constructor(e,n){super(),this.status=e,this.source=n}};function KD(t){return(Pl(t)?t.validators:t)||null}function GO(t){return Array.isArray(t)?Pg(t):t||null}function QD(t,e){return(Pl(e)?e.asyncValidators:t)||null}function WO(t){return Array.isArray(t)?Og(t):t||null}function Pl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function KO(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function QO(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Ml=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=ta(()=>this.statusReactive()),this.statusReactive=Xs(void 0),this._pristine=ta(()=>this.pristineReactive()),this.pristineReactive=Xs(!0),this._touched=ta(()=>this.touchedReactive()),this.touchedReactive=Xs(!1),this._events=new ze,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return Rn(this.statusReactive)}set status(e){Rn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ca}get invalid(){return this.status===bl}get pending(){return this.status==ko}get disabled(){return this.status===Ta}get enabled(){return this.status!==Ta}get pristine(){return Rn(this.pristineReactive)}set pristine(e){Rn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return Rn(this.touchedReactive)}set touched(e){Rn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(PD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(PD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(OD(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(OD(e,this._rawAsyncValidators))}hasValidator(e){return Cl(this._rawValidators,e)}hasAsyncValidator(e){return Cl(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(oe(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Ma(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Ma(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(oe(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Aa(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Aa(!0,r))}markAsPending(e={}){this.status=ko;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Fo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(oe(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ta,this.errors=null,this._forEachChild(i=>{i.disable(oe(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Al(this.value,r)),this._events.next(new Fo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(oe(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ca,this._forEachChild(r=>{r.enable(oe(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(oe(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ca||this.status===ko)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Al(this.value,n)),this._events.next(new Fo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(oe(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ta:Ca}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ko,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=zD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Fo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ne,this.statusChanges=new Ne}_calculateStatus(){return this._allControlsDisabled()?Ta:this.errors?bl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ko)?ko:this._anyControlsHaveStatus(bl)?bl:Ca}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Aa(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Ma(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Pl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=GO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=WO(this._rawAsyncValidators)}},xl=class extends Ml{constructor(e,n,r){super(KD(n),QD(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){QO(this,!0,e),Object.keys(e).forEach(r=>{KO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var kg=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Fg}),Fg="always";function YO(t,e){return[...e.path,t]}function YD(t,e,n=Fg){ZD(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),JO(t,e),ek(t,e),XO(t,e),ZO(t,e)}function kD(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function ZO(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function ZD(t,e){let n=HO(t);e.validator!==null?t.setValidators(ND(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=zO(t);e.asyncValidator!==null?t.setAsyncValidators(ND(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();kD(e._rawValidators,i),kD(e._rawAsyncValidators,i)}function JO(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&JD(t,e)})}function XO(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&JD(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function JD(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function ek(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function tk(t,e){t==null,ZD(t,e)}function nk(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function rk(t){return Object.getPrototypeOf(t.constructor)===FO}function ik(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ok(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===jo?n=o:rk(o)?r=o:i=o}),i||r||n||null}var sk={provide:Lo,useExisting:mo(()=>Ra)},Sa=Promise.resolve(),Ra=(()=>{let e=class e extends Lo{get submitted(){return Rn(this.submittedReactive)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=ta(()=>this.submittedReactive()),this.submittedReactive=Xs(!1),this._directives=new Set,this.ngSubmit=new Ne,this.form=new xl({},Pg(r),Og(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Sa.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),YD(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Sa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Sa.then(()=>{let i=this._findContainer(r.path),o=new xl({});tk(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Sa.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Sa.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),ik(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Y(BD,10),Y($D,10),Y(kg,8))},e.\u0275dir=rt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&Be("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[el([sk]),gr]});let t=e;return t})();function FD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function LD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var ak=class extends Ml{constructor(e=null,n,r){super(KD(n),QD(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Pl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(LD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){FD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){FD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){LD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var ck={provide:xa,useExisting:mo(()=>Na)},VD=Promise.resolve(),Na=(()=>{let e=class e extends xa{constructor(r,i,o,s,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new ak,this._registered=!1,this.name="",this.update=new Ne,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ok(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),nk(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){YD(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){VD.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&ci(i);VD.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?YO(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Y(Lo,9),Y(BD,10),Y($D,10),Y(UD,10),Y(ai,8),Y(kg,8))},e.\u0275dir=rt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[el([ck]),gr,ti]});let t=e;return t})(),Ol=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=rt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var uk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ei({type:e}),e.\u0275inj=Xr({});let t=e;return t})();var kl=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:kg,useValue:r.callSetDisabledState??Fg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ei({type:e}),e.\u0275inj=Xr({imports:[uk]});let t=e;return t})();var tb=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},lk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},nb={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,g=(o&3)<<4|c>>4,_=(c&15)<<2|l>>6,w=l&63;u||(w=64,s||(_=64)),r.push(n[f],n[g],n[_],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(tb(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):lk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||g==null)throw new Vg;let _=o<<2|c>>4;if(r.push(_),l!==64){let w=c<<4&240|l>>2;if(r.push(w),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Vg=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},dk=function(t){let e=tb(t);return nb.encodeByteArray(e,!0)},Pa=function(t){return dk(t).replace(/\./g,"")},Ug=function(t){try{return nb.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function hk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var fk=()=>hk().__FIREBASE_DEFAULTS__,pk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},gk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Ug(t[1]);return e&&JSON.parse(e)},Ll=()=>{try{return fk()||pk()||gk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Bg=t=>{var e,n;return(n=(e=Ll())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},rb=t=>{let e=Bg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},$g=()=>{var t;return(t=Ll())===null||t===void 0?void 0:t.config},Hg=t=>{var e;return(e=Ll())===null||e===void 0?void 0:e[`_${t}`]};var Fl=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ib(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Pa(JSON.stringify(n)),Pa(JSON.stringify(s)),""].join(".")}function qe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function ob(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qe())}function mk(){var t;let e=(t=Ll())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sb(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ab(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function cb(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ub(){let t=qe();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function lb(){return!mk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function zg(){try{return typeof indexedDB=="object"}catch{return!1}}function db(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var yk="FirebaseError",At=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=yk,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,kn.prototype.create)}},kn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?vk(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new At(i,c,r)}};function vk(t,e){return t.replace(_k,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var _k=/\{\$([^}]+)}/g;function hb(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function mi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(eb(o)&&eb(s)){if(!mi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function eb(t){return t!==null&&typeof t=="object"}function Oa(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Uo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Bo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function fb(t,e){let n=new jg(t,e);return n.subscribe.bind(n)}var jg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");wk(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Lg),i.error===void 0&&(i.error=Lg),i.complete===void 0&&(i.complete=Lg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function wk(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Lg(){}var v3=4*60*60*1e3;function vt(t){return t&&t._delegate?t._delegate:t}var Ut=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var yi="[DEFAULT]";var qg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Fl;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ek(e))try{this.getOrInitializeService({instanceIdentifier:yi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=yi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=yi){return this.instances.has(e)}getOptions(e=yi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Ik(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=yi){return this.component?this.component.multipleInstances?e:yi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Ik(t){return t===yi?void 0:t}function Ek(t){return t.instantiationMode==="EAGER"}var Vl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new qg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Dk=[],ce=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ce||{}),bk={debug:ce.DEBUG,verbose:ce.VERBOSE,info:ce.INFO,warn:ce.WARN,error:ce.ERROR,silent:ce.SILENT},Ck=ce.INFO,Tk={[ce.DEBUG]:"log",[ce.VERBOSE]:"log",[ce.INFO]:"info",[ce.WARN]:"warn",[ce.ERROR]:"error"},Sk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Tk[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Ir=class{constructor(e){this.name=e,this._logLevel=Ck,this._logHandler=Sk,this._userLogHandler=null,Dk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?bk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ce.DEBUG,...e),this._logHandler(this,ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ce.VERBOSE,...e),this._logHandler(this,ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ce.INFO,...e),this._logHandler(this,ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ce.WARN,...e),this._logHandler(this,ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ce.ERROR,...e),this._logHandler(this,ce.ERROR,...e)}};var Ak=(t,e)=>e.some(n=>t instanceof n),pb,gb;function Mk(){return pb||(pb=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xk(){return gb||(gb=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var mb=new WeakMap,Wg=new WeakMap,yb=new WeakMap,Gg=new WeakMap,Qg=new WeakMap;function Rk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(un(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&mb.set(n,t)}).catch(()=>{}),Qg.set(e,t),e}function Nk(t){if(Wg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Wg.set(t,e)}var Kg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Wg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||yb.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return un(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function vb(t){Kg=t(Kg)}function Pk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(jl(this),e,...n);return yb.set(r,e.sort?e.sort():[e]),un(r)}:xk().includes(t)?function(...e){return t.apply(jl(this),e),un(mb.get(this))}:function(...e){return un(t.apply(jl(this),e))}}function Ok(t){return typeof t=="function"?Pk(t):(t instanceof IDBTransaction&&Nk(t),Ak(t,Mk())?new Proxy(t,Kg):t)}function un(t){if(t instanceof IDBRequest)return Rk(t);if(Gg.has(t))return Gg.get(t);let e=Ok(t);return e!==t&&(Gg.set(t,e),Qg.set(e,t)),e}var jl=t=>Qg.get(t);function wb(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=un(s);return r&&s.addEventListener("upgradeneeded",u=>{r(un(s.result),u.oldVersion,u.newVersion,un(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var kk=["get","getKey","getAll","getAllKeys","count"],Fk=["put","add","delete","clear"],Yg=new Map;function _b(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Yg.get(e))return Yg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Fk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||kk.includes(n)))return;let o=function(s,...c){return I(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Yg.set(e,o),o}vb(t=>oe(F({},t),{get:(e,n,r)=>_b(e,n)||t.get(e,n,r),has:(e,n)=>!!_b(e,n)||t.has(e,n)}));var Jg=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(Lk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function Lk(t){let e=t.getComponent();return e?.type==="VERSION"}var Xg="@firebase/app",Ib="0.10.11";var Fn=new Ir("@firebase/app"),Vk="@firebase/app-compat",jk="@firebase/analytics-compat",Uk="@firebase/analytics",Bk="@firebase/app-check-compat",$k="@firebase/app-check",Hk="@firebase/auth",zk="@firebase/auth-compat",qk="@firebase/database",Gk="@firebase/database-compat",Wk="@firebase/functions",Kk="@firebase/functions-compat",Qk="@firebase/installations",Yk="@firebase/installations-compat",Zk="@firebase/messaging",Jk="@firebase/messaging-compat",Xk="@firebase/performance",eF="@firebase/performance-compat",tF="@firebase/remote-config",nF="@firebase/remote-config-compat",rF="@firebase/storage",iF="@firebase/storage-compat",oF="@firebase/firestore",sF="@firebase/vertexai-preview",aF="@firebase/firestore-compat",cF="firebase",uF="10.13.2";var em="[DEFAULT]",lF={[Xg]:"fire-core",[Vk]:"fire-core-compat",[Uk]:"fire-analytics",[jk]:"fire-analytics-compat",[$k]:"fire-app-check",[Bk]:"fire-app-check-compat",[Hk]:"fire-auth",[zk]:"fire-auth-compat",[qk]:"fire-rtdb",[Gk]:"fire-rtdb-compat",[Wk]:"fire-fn",[Kk]:"fire-fn-compat",[Qk]:"fire-iid",[Yk]:"fire-iid-compat",[Zk]:"fire-fcm",[Jk]:"fire-fcm-compat",[Xk]:"fire-perf",[eF]:"fire-perf-compat",[tF]:"fire-rc",[nF]:"fire-rc-compat",[rF]:"fire-gcs",[iF]:"fire-gcs-compat",[oF]:"fire-fst",[aF]:"fire-fst-compat",[sF]:"fire-vertex","fire-js":"fire-js",[cF]:"fire-js-all"};var ka=new Map,dF=new Map,tm=new Map;function Eb(t,e){try{t.container.addComponent(e)}catch(n){Fn.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dr(t){let e=t.name;if(tm.has(e))return Fn.debug(`There were multiple attempts to register component ${e}.`),!1;tm.set(e,t);for(let n of ka.values())Eb(n,t);for(let n of dF.values())Eb(n,t);return!0}function La(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zt(t){return t.settings!==void 0}var hF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Er=new kn("app","Firebase",hF);var nm=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ut("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Er.create("app-deleted",{appName:this._name})}};var br=uF;function om(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:em,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Er.create("bad-app-name",{appName:String(i)});if(n||(n=$g()),!n)throw Er.create("no-options");let o=ka.get(i);if(o){if(mi(n,o.options)&&mi(r,o.config))return o;throw Er.create("duplicate-app",{appName:i})}let s=new Vl(i);for(let u of tm.values())s.addComponent(u);let c=new nm(n,r,s);return ka.set(i,c),c}function $o(t=em){let e=ka.get(t);if(!e&&t===em&&$g())return om();if(!e)throw Er.create("no-app",{appName:t});return e}function Ul(){return Array.from(ka.values())}function $e(t,e,n){var r;let i=(r=lF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fn.warn(c.join(" "));return}Dr(new Ut(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var fF="firebase-heartbeat-database",pF=1,Fa="firebase-heartbeat-store",Zg=null;function Tb(){return Zg||(Zg=wb(fF,pF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fa)}catch(n){console.warn(n)}}}}).catch(t=>{throw Er.create("idb-open",{originalErrorMessage:t.message})})),Zg}function gF(t){return I(this,null,function*(){try{let n=(yield Tb()).transaction(Fa),r=yield n.objectStore(Fa).get(Sb(t));return yield n.done,r}catch(e){if(e instanceof At)Fn.warn(e.message);else{let n=Er.create("idb-get",{originalErrorMessage:e?.message});Fn.warn(n.message)}}})}function Db(t,e){return I(this,null,function*(){try{let r=(yield Tb()).transaction(Fa,"readwrite");yield r.objectStore(Fa).put(e,Sb(t)),yield r.done}catch(n){if(n instanceof At)Fn.warn(n.message);else{let r=Er.create("idb-set",{originalErrorMessage:n?.message});Fn.warn(r.message)}}})}function Sb(t){return`${t.name}!${t.options.appId}`}var mF=1024,yF=30*24*60*60*1e3,rm=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new im(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=bb();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=yF}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Fn.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=bb(),{heartbeatsToSend:r,unsentEntries:i}=vF(this._heartbeatsCache.heartbeats),o=Pa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Fn.warn(n),""}})}};function bb(){return new Date().toISOString().substring(0,10)}function vF(t,e=mF){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),Cb(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Cb(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var im=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return zg()?db().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield gF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Db(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Db(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Cb(t){return Pa(JSON.stringify({version:2,heartbeats:t})).length}function _F(t){Dr(new Ut("platform-logger",e=>new Jg(e),"PRIVATE")),Dr(new Ut("heartbeat",e=>new rm(e),"PRIVATE")),$e(Xg,Ib,t),$e(Xg,Ib,"esm2017"),$e("fire-js","")}_F("");var wF="firebase",IF="10.13.2";$e(wF,IF,"app");var _i=new Tn("ANGULARFIRE2_VERSION");function $l(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Va=(t,e)=>{let n=e?[e]:Ul(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},zo=class{constructor(){return Va(EF)}},EF="app-check";function Ho(){}var Bl=class{zone;delegate;constructor(e,n=jh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},sm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ho,{},Ho,Ho)),n.pipe(je({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},qo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Bl(Zone.current)),this.insideAngular=n.run(()=>new Bl(Zone.current,Vh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ne(we))};static \u0275prov=z({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Hl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function DF(t){return Hl().ngZone.runOutsideAngular(()=>t())}function vi(t){return Hl().ngZone.run(()=>t())}function bF(t){return CF(Hl())(t)}function CF(t){return function(n){return n=n.lift(new sm(t.ngZone)),n.pipe(tr(t.outsideAngular),er(t.insideAngular))}}var TF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),vi(()=>t.apply(void 0,r))},ln=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=vi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ho,{},Ho,Ho))),r[o]=TF(r[o],n));let i=DF(()=>t.apply(this,r));if(!e)if(i instanceof le){let o=Hl();return i.pipe(tr(o.outsideAngular),er(o.insideAngular))}else return vi(()=>i);return i instanceof le?i.pipe(bF):i instanceof Promise?vi(()=>new Promise((o,s)=>i.then(c=>vi(()=>o(c)),c=>vi(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:vi(()=>i)};var Ln=class{constructor(e){return e}},wi=class{constructor(){return Ul()}};function SF(t){return t&&t.length===1?t[0]:new Ln($o())}var am=new $("angularfire2._apps"),AF={provide:Ln,useFactory:SF,deps:[[new ft,am]]},MF={provide:wi,deps:[[new ft,am]]};function xF(t){return(e,n)=>{let r=n.get(fr);$e("angularfire",_i.full,"core"),$e("angularfire",_i.full,"app"),$e("angular",p0.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Ln(i)}}function Ab(t,...e){return sn([AF,MF,{provide:am,useFactory:xF(t),multi:!0,deps:[we,yt,qo,...e]}])}var Mb=ln(om,!0);function Gb(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Wb=Gb,Kb=new kn("auth","Firebase",Gb());var Ql=new Ir("@firebase/auth");function RF(t,...e){Ql.logLevel<=ce.WARN&&Ql.warn(`Auth (${br}): ${t}`,...e)}function ql(t,...e){Ql.logLevel<=ce.ERROR&&Ql.error(`Auth (${br}): ${t}`,...e)}function hn(t,...e){throw xm(t,...e)}function Ii(t,...e){return xm(t,...e)}function Qb(t,e,n){let r=Object.assign(Object.assign({},Wb()),{[e]:n});return new kn("auth","Firebase",r).create(e,{appName:t.name})}function Un(t){return Qb(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function xm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return Kb.create(t,...e)}function q(t,e,...n){if(!t)throw xm(e,...n)}function Vn(t){let e="INTERNAL ASSERTION FAILED: "+t;throw ql(e),new Error(e)}function Tr(t,e){t||Vn(e)}function dm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function NF(){return xb()==="http:"||xb()==="https:"}function xb(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function PF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(NF()||ab()||"connection"in navigator)?navigator.onLine:!0}function OF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Ei=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Tr(n>e,"Short delay should be less than long delay!"),this.isMobile=ob()||cb()}get(){return PF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Rm(t,e){Tr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Yl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Vn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Vn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Vn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var kF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var FF=new Ei(3e4,6e4);function Sr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Ar(o,s,c,u){return I(this,arguments,function*(t,e,n,r,i={}){return Yb(t,i,()=>I(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=Oa(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:_},l);return sb()||(w.referrerPolicy="no-referrer"),Yl.fetch()(Zb(t,t.config.apiHost,n,g),w)}))})}function Yb(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},kF),e);try{let i=new hm(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw zl(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw zl(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw zl(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw zl(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw Qb(t,f,l);hn(t,f)}}catch(i){if(i instanceof At)throw i;hn(t,"network-request-failed",{message:String(i)})}})}function Ga(o,s,c,u){return I(this,arguments,function*(t,e,n,r,i={}){let l=yield Ar(t,e,n,r,i);return"mfaPendingCredential"in l&&hn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function Zb(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Rm(t.config,i):`${t.config.apiScheme}://${i}`}function LF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var hm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ii(this.auth,"network-request-failed")),FF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function zl(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ii(t,e,r);return i.customData._tokenResponse=n,i}function Rb(t){return t!==void 0&&t.enterprise!==void 0}var fm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return LF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function VF(t,e){return I(this,null,function*(){return Ar(t,"GET","/v2/recaptchaConfig",Sr(t,e))})}function jF(t,e){return I(this,null,function*(){return Ar(t,"POST","/v1/accounts:delete",e)})}function Jb(t,e){return I(this,null,function*(){return Ar(t,"POST","/v1/accounts:lookup",e)})}function ja(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Nm(t,e=!1){return I(this,null,function*(){let n=vt(t),r=yield n.getIdToken(e),i=Pm(r);q(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:ja(cm(i.auth_time)),issuedAtTime:ja(cm(i.iat)),expirationTime:ja(cm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function cm(t){return Number(t)*1e3}function Pm(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return ql("JWT malformed, contained fewer than 3 sections"),null;try{let i=Ug(n);return i?JSON.parse(i):(ql("Failed to decode base64 JWT payload"),null)}catch(i){return ql("Caught error parsing JWT payload as JSON",i?.toString()),null}}function Nb(t){let e=Pm(t);return q(e,"internal-error"),q(typeof e.exp<"u","internal-error"),q(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Ba(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof At&&UF(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function UF({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var pm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var $a=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=ja(this.lastLoginAt),this.creationTime=ja(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Zl(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Ba(t,Jb(n,{idToken:r}));q(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?Xb(o.providerUserInfo):[],c=BF(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new $a(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function Om(t){return I(this,null,function*(){let e=vt(t);yield Zl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function BF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function Xb(t){return t.map(e=>{var{providerId:n}=e,r=Uh(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function $F(t,e){return I(this,null,function*(){let n=yield Yb(t,{},()=>I(this,null,function*(){let r=Oa({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=Zb(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Yl.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function HF(t,e){return I(this,null,function*(){return Ar(t,"POST","/v2/accounts:revokeToken",Sr(t,e))})}var Ua=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){q(e.idToken,"internal-error"),q(typeof e.idToken<"u","internal-error"),q(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Nb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){q(e.length!==0,"internal-error");let n=Nb(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(q(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield $F(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(q(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(q(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(q(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Vn("not implemented")}};function Cr(t,e){q(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Go=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=Uh(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new pm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new $a(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield Ba(this,this.stsTokenManager.getToken(this.auth,e));return q(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Nm(this,e)}reload(){return Om(this)}_assign(e){this!==e&&(q(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){q(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Zl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Zt(this.auth.app))return Promise.reject(Un(this.auth));let e=yield this.getIdToken();return yield Ba(this,jF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,P=(c=n.tenantId)!==null&&c!==void 0?c:void 0,N=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,W=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:X,emailVerified:ve,isAnonymous:Ke,providerData:ge,stsTokenManager:D}=n;q(X&&D,e,"internal-error");let m=Ua.fromJSON(this.name,D);q(typeof X=="string",e,"internal-error"),Cr(g,e.name),Cr(_,e.name),q(typeof ve=="boolean",e,"internal-error"),q(typeof Ke=="boolean",e,"internal-error"),Cr(w,e.name),Cr(A,e.name),Cr(P,e.name),Cr(N,e.name),Cr(j,e.name),Cr(W,e.name);let y=new t({uid:X,auth:e,email:_,emailVerified:ve,displayName:g,isAnonymous:Ke,photoURL:A,phoneNumber:w,tenantId:P,stsTokenManager:m,createdAt:j,lastLoginAt:W});return ge&&Array.isArray(ge)&&(y.providerData=ge.map(E=>Object.assign({},E))),N&&(y._redirectEventId=N),y}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new Ua;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Zl(o),o})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];q(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?Xb(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Ua;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new $a(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var Pb=new Map;function jn(t){Tr(t instanceof Function,"Expected a class definition");let e=Pb.get(t);return e?(Tr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Pb.set(t,e),e)}var zF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),gm=zF;function Gl(t,e,n){return`firebase:${t}:${e}:${n}`}var Jl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Gl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Gl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Go._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(jn(gm),e,r);let i=(yield Promise.all(n.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||jn(gm),s=Gl(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let g=Go._fromJSON(e,f);l!==o&&(c=g),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>I(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function Ob(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(rC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(eC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(oC(e))return"Blackberry";if(sC(e))return"Webos";if(tC(e))return"Safari";if((e.includes("chrome/")||nC(e))&&!e.includes("edge/"))return"Chrome";if(iC(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function eC(t=qe()){return/firefox\//i.test(t)}function tC(t=qe()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function nC(t=qe()){return/crios\//i.test(t)}function rC(t=qe()){return/iemobile/i.test(t)}function iC(t=qe()){return/android/i.test(t)}function oC(t=qe()){return/blackberry/i.test(t)}function sC(t=qe()){return/webos/i.test(t)}function km(t=qe()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qF(t=qe()){var e;return km(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function GF(){return ub()&&document.documentMode===10}function aC(t=qe()){return km(t)||iC(t)||sC(t)||oC(t)||/windows phone/i.test(t)||rC(t)}function cC(t,e=[]){let n;switch(t){case"Browser":n=Ob(qe());break;case"Worker":n=`${Ob(qe())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${br}/${r}`}var mm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function WF(n){return I(this,arguments,function*(t,e={}){return Ar(t,"GET","/v2/passwordPolicy",Sr(t,e))})}var KF=6,ym=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:KF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var vm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Xl(this),this.idTokenSubscription=new Xl(this),this.beforeStateQueue=new mm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Kb,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=jn(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Jl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield Jb(this,{idToken:e}),r=yield Go._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(Zt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return q(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Zl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=OF()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Zt(this.app))return Promise.reject(Un(this));let n=e?vt(e):null;return n&&q(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&q(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Zt(this.app)?Promise.reject(Un(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Zt(this.app)?Promise.reject(Un(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(jn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield WF(this),n=new ym(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new kn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield HF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&jn(e)||this._popupRedirectResolver;q(n,this,"argument-error"),this.redirectPersistenceManager=yield Jl.create(this,[jn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(q(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return q(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=cC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&RF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function bi(t){return vt(t)}var Xl=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=fb(n=>this.observer=n)}get next(){return q(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var sd={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function QF(t){sd=t}function uC(t){return sd.loadJS(t)}function YF(){return sd.recaptchaEnterpriseScript}function ZF(){return sd.gapiScript}function lC(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var JF="recaptcha-enterprise",XF="NO_RECAPTCHA",_m=class{constructor(e){this.type=JF,this.auth=bi(e)}verify(e="verify",n=!1){return I(this,null,function*(){function r(o){return I(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,c)=>I(this,null,function*(){VF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new fm(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(o,s,c){let u=window.grecaptcha;Rb(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(XF)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(c=>{if(!n&&Rb(window.grecaptcha))i(c,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=YF();u.length!==0&&(u+=c),uC(u).then(()=>{i(c,o,s)}).catch(l=>{s(l)})}}).catch(c=>{s(c)})})})}};function kb(t,e,n,r=!1){return I(this,null,function*(){let i=new _m(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function wm(t,e,n,r){return I(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield kb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>I(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield kb(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function Fm(t,e){let n=La(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(mi(o,e??{}))return i;hn(i,"already-initialized")}return n.initialize({options:e})}function eL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(jn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function Lm(t,e,n){let r=bi(t);q(r._canInitEmulator,r,"emulator-config-failed"),q(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=dC(e),{host:s,port:c}=tL(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||nL()}function dC(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function tL(t){let e=dC(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:Fb(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:Fb(s)}}}function Fb(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function nL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ha=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Vn("not implemented")}_getIdTokenResponse(e){return Vn("not implemented")}_linkToIdToken(e,n){return Vn("not implemented")}_getReauthenticationResolver(e){return Vn("not implemented")}};function rL(t,e){return I(this,null,function*(){return Ar(t,"POST","/v1/accounts:signUp",e)})}function iL(t,e){return I(this,null,function*(){return Ga(t,"POST","/v1/accounts:signInWithPassword",Sr(t,e))})}function oL(t,e){return I(this,null,function*(){return Ga(t,"POST","/v1/accounts:signInWithEmailLink",Sr(t,e))})}function sL(t,e){return I(this,null,function*(){return Ga(t,"POST","/v1/accounts:signInWithEmailLink",Sr(t,e))})}var za=class t extends Ha{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(e,n,"signInWithPassword",iL);case"emailLink":return oL(e,{email:this._email,oobCode:this._password});default:hn(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return wm(e,r,"signUpPassword",rL);case"emailLink":return sL(e,{idToken:n,email:this._email,oobCode:this._password});default:hn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function um(t,e){return I(this,null,function*(){return Ga(t,"POST","/v1/accounts:signInWithIdp",Sr(t,e))})}function aL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function cL(t){let e=Uo(Bo(t)).link,n=e?Uo(Bo(e)).deep_link_id:null,r=Uo(Bo(t)).deep_link_id;return(r?Uo(Bo(r)).link:null)||r||n||e||t}var ed=class t{constructor(e){var n,r,i,o,s,c;let u=Uo(Bo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=aL((i=u.mode)!==null&&i!==void 0?i:null);q(l&&f&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=f,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=cL(e);try{return new t(n)}catch{return null}}};var hC=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return za._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=ed.parseLink(r);return q(i,"argument-error"),za._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),td=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Im=class extends td{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function uL(t,e){return I(this,null,function*(){return Ga(t,"POST","/v1/accounts:signUp",Sr(t,e))})}var Wo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let o=yield Go._fromIdTokenResponse(e,r,i),s=Lb(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=Lb(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function Lb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Em=class t extends At{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function fC(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Em._fromErrorAndOperation(t,o,e,r):o})}function lL(t,e,n=!1){return I(this,null,function*(){let r=yield Ba(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Wo._forOperation(t,"link",r)})}function dL(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(Zt(r.app))return Promise.reject(Un(r));let i="reauthenticate";try{let o=yield Ba(t,fC(r,i,e,t),n);q(o.idToken,r,"internal-error");let s=Pm(o.idToken);q(s,r,"internal-error");let{sub:c}=s;return q(t.uid===c,r,"user-mismatch"),Wo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&hn(r,"user-mismatch"),o}})}function pC(t,e,n=!1){return I(this,null,function*(){if(Zt(t.app))return Promise.reject(Un(t));let r="signIn",i=yield fC(t,r,e),o=yield Wo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Vm(t,e){return I(this,null,function*(){return pC(bi(t),e)})}function gC(t){return I(this,null,function*(){let e=bi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function jm(t,e,n){return I(this,null,function*(){if(Zt(t.app))return Promise.reject(Un(t));let r=bi(t),s=yield wm(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",uL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&gC(t),u}),c=yield Wo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(c.user),c})}function Um(t,e,n){return Zt(t.app)?Promise.reject(Un(t)):Vm(vt(t),hC.credential(e,n)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&gC(t),r}))}function Bm(t,e,n,r){return vt(t).onIdTokenChanged(e,n,r)}function $m(t,e,n){return vt(t).beforeAuthStateChanged(e,n)}var nd="__sak";var rd=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(nd,"1"),this.storage.removeItem(nd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var hL=1e3,fL=10,pL=(()=>{class t extends rd{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=aC(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);GF()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,fL):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},hL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield Jn(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield Jn(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield Jn(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),mC=pL;var gL=(()=>{class t extends rd{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Hm=gL;function mL(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var yL=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(f=>I(this,null,function*(){return f(r.origin,s)})),l=yield mL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function yC(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Dm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=yC("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===l)switch(_.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function dn(){return window}function vL(t){dn().location.href=t}function vC(){return typeof dn().WorkerGlobalScope<"u"&&typeof dn().importScripts=="function"}function _L(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function wL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function IL(){return vC()?self:null}var _C="firebaseLocalStorageDb",EL=1,id="firebaseLocalStorage",wC="fbase_key",Di=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function ad(t,e){return t.transaction([id],e?"readwrite":"readonly").objectStore(id)}function DL(){let t=indexedDB.deleteDatabase(_C);return new Di(t).toPromise()}function bm(){let t=indexedDB.open(_C,EL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(id,{keyPath:wC})}catch(i){n(i)}}),t.addEventListener("success",()=>I(this,null,function*(){let r=t.result;r.objectStoreNames.contains(id)?e(r):(r.close(),yield DL(),e(yield bm()))}))})}function Vb(t,e,n){return I(this,null,function*(){let r=ad(t,!0).put({[wC]:e,value:n});return new Di(r).toPromise()})}function bL(t,e){return I(this,null,function*(){let n=ad(t,!1).get(e),r=yield new Di(n).toPromise();return r===void 0?null:r.value})}function jb(t,e){let n=ad(t,!0).delete(e);return new Di(n).toPromise()}var CL=800,TL=3,SL=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield bm(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>TL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return vC()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=yL._getInstance(IL()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield _L(),!this.activeServiceWorker)return;this.sender=new Dm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||wL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield bm();return yield Vb(n,nd,"1"),yield jb(n,nd),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>Vb(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>bL(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>jb(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(o=>{let s=ad(o,!1).getAll();return new Di(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),CL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),IC=SL;var d5=lC("rcb"),h5=new Ei(3e4,6e4);function AL(t,e){return e?jn(e):(q(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var qa=class extends Ha{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return um(e,this._buildIdpRequest())}_linkToIdToken(e,n){return um(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return um(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function ML(t){return pC(t.auth,new qa(t),t.bypassAuthState)}function xL(t){let{auth:e,user:n}=t;return q(n,e,"internal-error"),dL(n,new qa(t),t.bypassAuthState)}function RL(t){return I(this,null,function*(){let{auth:e,user:n}=t;return q(n,e,"internal-error"),lL(n,new qa(t),t.bypassAuthState)})}var Cm=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ML;case"linkViaPopup":case"linkViaRedirect":return RL;case"reauthViaPopup":case"reauthViaRedirect":return xL;default:hn(this.auth,"internal-error")}}resolve(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Tr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var f5=new Ei(2e3,1e4);var NL="pendingRedirect",Wl=new Map,Tm=class t extends Cm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=Wl.get(this.auth._key());if(!e){try{let r=(yield PL(this.resolver,this.auth))?yield Jn(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Wl.set(this.auth._key(),e)}return this.bypassAuthState||Wl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Jn(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Jn(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function PL(t,e){return I(this,null,function*(){let n=FL(e),r=kL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function OL(t,e){Wl.set(t._key(),e)}function kL(t){return jn(t._redirectPersistence)}function FL(t){return Gl(NL,t.config.apiKey,t.name)}function LL(t,e,n=!1){return I(this,null,function*(){if(Zt(t.app))return Promise.reject(Un(t));let r=bi(t),i=AL(r,e),s=yield new Tm(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var VL=10*60*1e3,Sm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!jL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!EC(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ii(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=VL&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ub(e))}saveEventToCache(e){this.cachedEventUids.add(Ub(e)),this.lastProcessedEventTime=Date.now()}};function Ub(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function EC({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function jL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return EC(t);default:return!1}}function UL(n){return I(this,arguments,function*(t,e={}){return Ar(t,"GET","/v1/projects",e)})}var BL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$L=/^https?/;function HL(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield UL(t);for(let n of e)try{if(zL(n))return}catch{}hn(t,"unauthorized-domain")})}function zL(t){let e=dm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!$L.test(n))return!1;if(BL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var qL=new Ei(3e4,6e4);function Bb(){let t=dn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function GL(t){return new Promise((e,n)=>{var r,i,o;function s(){Bb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Bb(),n(Ii(t,"network-request-failed"))},timeout:qL.get()})}if(!((i=(r=dn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=dn().gapi)===null||o===void 0)&&o.load)s();else{let c=lC("iframefcb");return dn()[c]=()=>{gapi.load?s():n(Ii(t,"network-request-failed"))},uC(`${ZF()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Kl=null,e})}var Kl=null;function WL(t){return Kl=Kl||GL(t),Kl}var KL=new Ei(5e3,15e3),QL="__/auth/iframe",YL="emulator/auth/iframe",ZL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},JL=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function XL(t){let e=t.config;q(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Rm(e,YL):`https://${t.config.authDomain}/${QL}`,r={apiKey:e.apiKey,appName:t.name,v:br},i=JL.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${Oa(r).slice(1)}`}function eV(t){return I(this,null,function*(){let e=yield WL(t),n=dn().gapi;return q(n,t,"internal-error"),e.open({where:document.body,url:XL(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ZL,dontclear:!0},r=>new Promise((i,o)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ii(t,"network-request-failed"),c=dn().setTimeout(()=>{o(s)},KL.get());function u(){dn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var tV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nV=500,rV=600,iV="_blank",oV="http://localhost",od=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function sV(t,e,n,r=nV,i=rV){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},tV),{width:r.toString(),height:i.toString(),top:o,left:s}),l=qe().toLowerCase();n&&(c=nC(l)?iV:n),eC(l)&&(e=e||oV,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[w,A])=>`${_}${w}=${A},`,"");if(qF(l)&&c!=="_self")return aV(e||"",c),new od(null);let g=window.open(e||"",c,f);q(g,t,"popup-blocked");try{g.focus()}catch{}return new od(g)}function aV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var cV="__/auth/handler",uV="emulator/auth/handler",lV=encodeURIComponent("fac");function $b(t,e,n,r,i,o){return I(this,null,function*(){q(t.config.authDomain,t,"auth-domain-config-required"),q(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:br,eventId:i};if(e instanceof td){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",hb(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(o||{}))s[f]=g}if(e instanceof Im){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${lV}=${encodeURIComponent(u)}`:"";return`${dV(t)}?${Oa(c).slice(1)}${l}`})}function dV({config:t}){return t.emulator?Rm(t,uV):`https://${t.authDomain}/${cV}`}var lm="webStorageSupport",Am=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Hm,this._completeRedirectFn=LL,this._overrideRedirectResult=OL}_openPopup(e,n,r,i){return I(this,null,function*(){var o;Tr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield $b(e,n,r,dm(),i);return sV(e,s,yC())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let o=yield $b(e,n,r,dm(),i);return vL(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Tr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield eV(e),r=new Sm(e);return n.register("authEvent",i=>(q(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(lm,{type:lm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[lm];s!==void 0&&n(!!s),hn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=HL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return aC()||tC()||km()}},DC=Am;var Hb="@firebase/auth",zb="1.7.9";var Mm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){q(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function hV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function fV(t){Dr(new Ut("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;q(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:cC(t)},l=new vm(r,i,o,u);return eL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dr(new Ut("auth-internal",e=>{let n=bi(e.getProvider("auth").getImmediate());return(r=>new Mm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(Hb,zb,hV(t)),$e(Hb,zb,"esm2017")}var pV=5*60,gV=Hg("authIdTokenMaxAge")||pV,qb=null,mV=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>gV)return;let i=n?.token;qb!==i&&(qb=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function zm(t=$o()){let e=La(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Fm(t,{popupRedirectResolver:DC,persistence:[IC,mC,Hm]}),r=Hg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=mV(o.toString());$m(n,s,()=>s(n.currentUser)),Bm(n,c=>s(c))}}let i=Bg("auth");return i&&Lm(n,`http://${i}`),n}function yV(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}QF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ii("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",yV().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});fV("Browser");var bC="auth",Bn=class{constructor(e){return e}},Wa=class{constructor(){return Va(bC)}};var qm=new $("angularfire2.auth-instances");function c2(t,e){let n=$l(bC,t,e);return n&&new Bn(n)}function u2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Bn(r)}}var l2={provide:Wa,deps:[[new ft,qm]]},d2={provide:Bn,useFactory:c2,deps:[[new ft,qm],Ln]};function CC(t,...e){return $e("angularfire",_i.full,"auth"),sn([d2,l2,{provide:qm,useFactory:u2(t),multi:!0,deps:[we,yt,qo,wi,[new ft,zo],...e]}])}var TC=ln(jm,!0);var SC=ln(zm,!0);var AC=ln(Um,!0);var xC=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},RC={};var Gm,NC;(function(){var t;function e(D,m){function y(){}y.prototype=m.prototype,D.D=m.prototype,D.prototype=new y,D.prototype.constructor=D,D.C=function(E,b,T){for(var v=Array(arguments.length-2),vn=2;vn<arguments.length;vn++)v[vn-2]=arguments[vn];return m.prototype[b].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(D,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var b=0;16>b;++b)E[b]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(b=0;16>b;++b)E[b]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=D.g[0],y=D.g[1],b=D.g[2];var T=D.g[3],v=m+(T^y&(b^T))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=T+(b^m&(y^b))+E[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=b+(y^T&(m^y))+E[2]+606105819&4294967295,b=T+(v<<17&4294967295|v>>>15),v=y+(m^b&(T^m))+E[3]+3250441966&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(T^y&(b^T))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(b^m&(y^b))+E[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=b+(y^T&(m^y))+E[6]+2821735955&4294967295,b=T+(v<<17&4294967295|v>>>15),v=y+(m^b&(T^m))+E[7]+4249261313&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(T^y&(b^T))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(b^m&(y^b))+E[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=b+(y^T&(m^y))+E[10]+4294925233&4294967295,b=T+(v<<17&4294967295|v>>>15),v=y+(m^b&(T^m))+E[11]+2304563134&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(T^y&(b^T))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(b^m&(y^b))+E[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=b+(y^T&(m^y))+E[14]+2792965006&4294967295,b=T+(v<<17&4294967295|v>>>15),v=y+(m^b&(T^m))+E[15]+1236535329&4294967295,y=b+(v<<22&4294967295|v>>>10),v=m+(b^T&(y^b))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^b&(m^y))+E[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(T^m))+E[11]+643717713&4294967295,b=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(b^T))+E[0]+3921069994&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^T&(y^b))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^b&(m^y))+E[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(T^m))+E[15]+3634488961&4294967295,b=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(b^T))+E[4]+3889429448&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^T&(y^b))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^b&(m^y))+E[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(T^m))+E[3]+4107603335&4294967295,b=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(b^T))+E[8]+1163531501&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(b^T&(y^b))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^b&(m^y))+E[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=b+(m^y&(T^m))+E[7]+1735328473&4294967295,b=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(b^T))+E[12]+2368359562&4294967295,y=b+(v<<20&4294967295|v>>>12),v=m+(y^b^T)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^b)+E[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=b+(T^m^y)+E[11]+1839030562&4294967295,b=T+(v<<16&4294967295|v>>>16),v=y+(b^T^m)+E[14]+4259657740&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^T)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^b)+E[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=b+(T^m^y)+E[7]+4139469664&4294967295,b=T+(v<<16&4294967295|v>>>16),v=y+(b^T^m)+E[10]+3200236656&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^T)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^b)+E[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=b+(T^m^y)+E[3]+3572445317&4294967295,b=T+(v<<16&4294967295|v>>>16),v=y+(b^T^m)+E[6]+76029189&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(y^b^T)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^b)+E[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=b+(T^m^y)+E[15]+530742520&4294967295,b=T+(v<<16&4294967295|v>>>16),v=y+(b^T^m)+E[2]+3299628645&4294967295,y=b+(v<<23&4294967295|v>>>9),v=m+(b^(y|~T))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~b))+E[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=b+(m^(T|~y))+E[14]+2878612391&4294967295,b=T+(v<<15&4294967295|v>>>17),v=y+(T^(b|~m))+E[5]+4237533241&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~T))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~b))+E[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=b+(m^(T|~y))+E[10]+4293915773&4294967295,b=T+(v<<15&4294967295|v>>>17),v=y+(T^(b|~m))+E[1]+2240044497&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~T))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~b))+E[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=b+(m^(T|~y))+E[6]+2734768916&4294967295,b=T+(v<<15&4294967295|v>>>17),v=y+(T^(b|~m))+E[13]+1309151649&4294967295,y=b+(v<<21&4294967295|v>>>11),v=m+(b^(y|~T))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~b))+E[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=b+(m^(T|~y))+E[2]+718787259&4294967295,b=T+(v<<15&4294967295|v>>>17),v=y+(T^(b|~m))+E[9]+3951481745&4294967295,D.g[0]=D.g[0]+m&4294967295,D.g[1]=D.g[1]+(b+(v<<21&4294967295|v>>>11))&4294967295,D.g[2]=D.g[2]+b&4294967295,D.g[3]=D.g[3]+T&4294967295}r.prototype.u=function(D,m){m===void 0&&(m=D.length);for(var y=m-this.blockSize,E=this.B,b=this.h,T=0;T<m;){if(b==0)for(;T<=y;)i(this,D,T),T+=this.blockSize;if(typeof D=="string"){for(;T<m;)if(E[b++]=D.charCodeAt(T++),b==this.blockSize){i(this,E),b=0;break}}else for(;T<m;)if(E[b++]=D[T++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=m},r.prototype.v=function(){var D=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);D[0]=128;for(var m=1;m<D.length-8;++m)D[m]=0;var y=8*this.o;for(m=D.length-8;m<D.length;++m)D[m]=y&255,y/=256;for(this.u(D),D=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)D[y++]=this.g[m]>>>E&255;return D};function o(D,m){var y=c;return Object.prototype.hasOwnProperty.call(y,D)?y[D]:y[D]=m(D)}function s(D,m){this.h=m;for(var y=[],E=!0,b=D.length-1;0<=b;b--){var T=D[b]|0;E&&T==m||(y[b]=T,E=!1)}this.g=y}var c={};function u(D){return-128<=D&&128>D?o(D,function(m){return new s([m|0],0>m?-1:0)}):new s([D|0],0>D?-1:0)}function l(D){if(isNaN(D)||!isFinite(D))return g;if(0>D)return N(l(-D));for(var m=[],y=1,E=0;D>=y;E++)m[E]=D/y|0,y*=4294967296;return new s(m,0)}function f(D,m){if(D.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(D.charAt(0)=="-")return N(f(D.substring(1),m));if(0<=D.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=l(Math.pow(m,8)),E=g,b=0;b<D.length;b+=8){var T=Math.min(8,D.length-b),v=parseInt(D.substring(b,b+T),m);8>T?(T=l(Math.pow(m,T)),E=E.j(T).add(l(v))):(E=E.j(y),E=E.add(l(v)))}return E}var g=u(0),_=u(1),w=u(16777216);t=s.prototype,t.m=function(){if(P(this))return-N(this).m();for(var D=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);D+=(0<=E?E:4294967296+E)*m,m*=4294967296}return D},t.toString=function(D){if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(A(this))return"0";if(P(this))return"-"+N(this).toString(D);for(var m=l(Math.pow(D,6)),y=this,E="";;){var b=ve(y,m).g;y=j(y,b.j(m));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(D);if(y=b,A(y))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(D){return 0>D?0:D<this.g.length?this.g[D]:this.h};function A(D){if(D.h!=0)return!1;for(var m=0;m<D.g.length;m++)if(D.g[m]!=0)return!1;return!0}function P(D){return D.h==-1}t.l=function(D){return D=j(this,D),P(D)?-1:A(D)?0:1};function N(D){for(var m=D.g.length,y=[],E=0;E<m;E++)y[E]=~D.g[E];return new s(y,~D.h).add(_)}t.abs=function(){return P(this)?N(this):this},t.add=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0,b=0;b<=m;b++){var T=E+(this.i(b)&65535)+(D.i(b)&65535),v=(T>>>16)+(this.i(b)>>>16)+(D.i(b)>>>16);E=v>>>16,T&=65535,v&=65535,y[b]=v<<16|T}return new s(y,y[y.length-1]&-2147483648?-1:0)};function j(D,m){return D.add(N(m))}t.j=function(D){if(A(this)||A(D))return g;if(P(this))return P(D)?N(this).j(N(D)):N(N(this).j(D));if(P(D))return N(this.j(N(D)));if(0>this.l(w)&&0>D.l(w))return l(this.m()*D.m());for(var m=this.g.length+D.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<D.g.length;b++){var T=this.i(E)>>>16,v=this.i(E)&65535,vn=D.i(b)>>>16,fs=D.i(b)&65535;y[2*E+2*b]+=v*fs,W(y,2*E+2*b),y[2*E+2*b+1]+=T*fs,W(y,2*E+2*b+1),y[2*E+2*b+1]+=v*vn,W(y,2*E+2*b+1),y[2*E+2*b+2]+=T*vn,W(y,2*E+2*b+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new s(y,0)};function W(D,m){for(;(D[m]&65535)!=D[m];)D[m+1]+=D[m]>>>16,D[m]&=65535,m++}function X(D,m){this.g=D,this.h=m}function ve(D,m){if(A(m))throw Error("division by zero");if(A(D))return new X(g,g);if(P(D))return m=ve(N(D),m),new X(N(m.g),N(m.h));if(P(m))return m=ve(D,N(m)),new X(N(m.g),m.h);if(30<D.g.length){if(P(D)||P(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=m;0>=E.l(D);)y=Ke(y),E=Ke(E);var b=ge(y,1),T=ge(E,1);for(E=ge(E,2),y=ge(y,2);!A(E);){var v=T.add(E);0>=v.l(D)&&(b=b.add(y),T=v),E=ge(E,1),y=ge(y,1)}return m=j(D,b.j(m)),new X(b,m)}for(b=g;0<=D.l(m);){for(y=Math.max(1,Math.floor(D.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(y),v=T.j(m);P(v)||0<v.l(D);)y-=E,T=l(y),v=T.j(m);A(T)&&(T=_),b=b.add(T),D=j(D,v)}return new X(b,D)}t.A=function(D){return ve(this,D).h},t.and=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&D.i(E);return new s(y,this.h&D.h)},t.or=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|D.i(E);return new s(y,this.h|D.h)},t.xor=function(D){for(var m=Math.max(this.g.length,D.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^D.i(E);return new s(y,this.h^D.h)};function Ke(D){for(var m=D.g.length+1,y=[],E=0;E<m;E++)y[E]=D.i(E)<<1|D.i(E-1)>>>31;return new s(y,D.h)}function ge(D,m){var y=m>>5;m%=32;for(var E=D.g.length-y,b=[],T=0;T<E;T++)b[T]=0<m?D.i(T+y)>>>m|D.i(T+y+1)<<32-m:D.i(T+y);return new s(b,D.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,NC=RC.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Gm=RC.Integer=s}).apply(typeof xC<"u"?xC:typeof self<"u"?self:typeof window<"u"?window:{});var cd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$n={};var Wm,Km,Ko,Qm,Ka,ud,Ym,Zm,Jm;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof cd=="object"&&cd];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var C=a[p];if(!(C in h))break e;h=h[C]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,p=!1,C={next:function(){if(!p&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return C[Symbol.iterator]=function(){return C},C}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var C=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(C,p),a.apply(d,C)}}return function(){return a.apply(d,arguments)}}function _(a,d,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function w(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,C,S){for(var O=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)O[Ie-2]=arguments[Ie];return d.prototype[C].apply(p,O)}}function P(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function N(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let C=a.length||0,S=p.length||0;a.length=C+S;for(let O=0;O<S;O++)a[C+O]=p[O]}else a.push(p)}}class j{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function W(a){return/^[\s\xa0]*$/.test(a)}function X(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ve(a){return ve[" "](a),a}ve[" "]=function(){};var Ke=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function ge(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function D(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,p;for(let C=1;C<arguments.length;C++){p=arguments[C];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function b(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Yd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class vn{constructor(){this.h=this.g=null}add(d,h){let p=fs.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var fs=new j(()=>new tS,a=>a.reset());class tS{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let ps,gs=!1,Yd=new vn,Rv=()=>{let a=c.Promise.resolve(void 0);ps=()=>{a.then(nS)}};var nS=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){T(h)}var d=fs;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}gs=!1};function Kn(){this.s=this.s,this.C=this.C}Kn.prototype.s=!1,Kn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Kn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Je(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}Je.prototype.h=function(){this.defaultPrevented=!0};var rS=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function ms(a,d){if(Je.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ke){e:{try{ve(d.nodeName);var C=!0;break e}catch{}C=!1}C||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:iS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ms.aa.h.call(this)}}A(ms,Je);var iS={2:"touch",3:"pen",4:"mouse"};ms.prototype.h=function(){ms.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var ys="closure_listenable_"+(1e6*Math.random()|0),oS=0;function sS(a,d,h,p,C){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=C,this.key=++oS,this.da=this.fa=!1}function cc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function uc(a){this.src=a,this.g={},this.h=0}uc.prototype.add=function(a,d,h,p,C){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var O=Jd(a,d,p,C);return-1<O?(d=a[O],h||(d.fa=!1)):(d=new sS(d,this.src,S,!!p,C),d.fa=h,a.push(d)),d};function Zd(a,d){var h=d.type;if(h in a.g){var p=a.g[h],C=Array.prototype.indexOf.call(p,d,void 0),S;(S=0<=C)&&Array.prototype.splice.call(p,C,1),S&&(cc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function Jd(a,d,h,p){for(var C=0;C<a.length;++C){var S=a[C];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==p)return C}return-1}var Xd="closure_lm_"+(1e6*Math.random()|0),eh={};function Nv(a,d,h,p,C){if(p&&p.once)return Ov(a,d,h,p,C);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Nv(a,d[S],h,p,C);return null}return h=ih(h),a&&a[ys]?a.K(d,h,l(p)?!!p.capture:!!p,C):Pv(a,d,h,!1,p,C)}function Pv(a,d,h,p,C,S){if(!d)throw Error("Invalid event type");var O=l(C)?!!C.capture:!!C,Ie=nh(a);if(Ie||(a[Xd]=Ie=new uc(a)),h=Ie.add(d,h,p,O,S),h.proxy)return h;if(p=aS(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)rS||(C=O),C===void 0&&(C=!1),a.addEventListener(d.toString(),p,C);else if(a.attachEvent)a.attachEvent(Fv(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function aS(){function a(h){return d.call(a.src,a.listener,h)}let d=cS;return a}function Ov(a,d,h,p,C){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Ov(a,d[S],h,p,C);return null}return h=ih(h),a&&a[ys]?a.L(d,h,l(p)?!!p.capture:!!p,C):Pv(a,d,h,!0,p,C)}function kv(a,d,h,p,C){if(Array.isArray(d))for(var S=0;S<d.length;S++)kv(a,d[S],h,p,C);else p=l(p)?!!p.capture:!!p,h=ih(h),a&&a[ys]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=Jd(S,h,p,C),-1<h&&(cc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=nh(a))&&(d=a.g[d.toString()],a=-1,d&&(a=Jd(d,h,p,C)),(h=-1<a?d[a]:null)&&th(h))}function th(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[ys])Zd(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(Fv(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=nh(d))?(Zd(h,a),h.h==0&&(h.src=null,d[Xd]=null)):cc(a)}}}function Fv(a){return a in eh?eh[a]:eh[a]="on"+a}function cS(a,d){if(a.da)a=!0;else{d=new ms(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&th(a),a=h.call(p,d)}return a}function nh(a){return a=a[Xd],a instanceof uc?a:null}var rh="__closure_events_fn_"+(1e9*Math.random()>>>0);function ih(a){return typeof a=="function"?a:(a[rh]||(a[rh]=function(d){return a.handleEvent(d)}),a[rh])}function Xe(){Kn.call(this),this.i=new uc(this),this.M=this,this.F=null}A(Xe,Kn),Xe.prototype[ys]=!0,Xe.prototype.removeEventListener=function(a,d,h,p){kv(this,a,d,h,p)};function ct(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new Je(d,a);else if(d instanceof Je)d.target=d.target||a;else{var C=d;d=new Je(p,a),E(d,C)}if(C=!0,h)for(var S=h.length-1;0<=S;S--){var O=d.g=h[S];C=lc(O,p,!0,d)&&C}if(O=d.g=a,C=lc(O,p,!0,d)&&C,C=lc(O,p,!1,d)&&C,h)for(S=0;S<h.length;S++)O=d.g=h[S],C=lc(O,p,!1,d)&&C}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)cc(h[p]);delete a.g[d],a.h--}}this.F=null},Xe.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},Xe.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function lc(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var C=!0,S=0;S<d.length;++S){var O=d[S];if(O&&!O.da&&O.capture==h){var Ie=O.listener,Qe=O.ha||O.src;O.fa&&Zd(a.i,O),C=Ie.call(Qe,p)!==!1&&C}}return C&&!p.defaultPrevented}function Lv(a,d,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Vv(a){a.g=Lv(()=>{a.g=null,a.i&&(a.i=!1,Vv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class uS extends Kn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Vv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function vs(a){Kn.call(this),this.h=a,this.g={}}A(vs,Kn);var jv=[];function Uv(a){ge(a.g,function(d,h){this.g.hasOwnProperty(h)&&th(d)},a),a.g={}}vs.prototype.N=function(){vs.aa.N.call(this),Uv(this)},vs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oh=c.JSON.stringify,lS=c.JSON.parse,dS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function sh(){}sh.prototype.h=null;function Bv(a){return a.h||(a.h=a.i())}function $v(){}var _s={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ah(){Je.call(this,"d")}A(ah,Je);function ch(){Je.call(this,"c")}A(ch,Je);var Or={},Hv=null;function dc(){return Hv=Hv||new Xe}Or.La="serverreachability";function zv(a){Je.call(this,Or.La,a)}A(zv,Je);function ws(a){let d=dc();ct(d,new zv(d))}Or.STAT_EVENT="statevent";function qv(a,d){Je.call(this,Or.STAT_EVENT,a),this.stat=d}A(qv,Je);function ut(a){let d=dc();ct(d,new qv(d,a))}Or.Ma="timingevent";function Gv(a,d){Je.call(this,Or.Ma,a),this.size=d}A(Gv,Je);function Is(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Es(){this.g=!0}Es.prototype.xa=function(){this.g=!1};function hS(a,d,h,p,C,S){a.info(function(){if(a.g)if(S)for(var O="",Ie=S.split("&"),Qe=0;Qe<Ie.length;Qe++){var me=Ie[Qe].split("=");if(1<me.length){var et=me[0];me=me[1];var tt=et.split("_");O=2<=tt.length&&tt[1]=="type"?O+(et+"="+me+"&"):O+(et+"=redacted&")}}else O=null;else O=S;return"XMLHTTP REQ ("+p+") [attempt "+C+"]: "+d+`
`+h+`
`+O})}function fS(a,d,h,p,C,S,O){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+C+"]: "+d+`
`+h+`
`+S+" "+O})}function Oi(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+gS(a,h)+(p?" "+p:"")})}function pS(a,d){a.info(function(){return"TIMEOUT: "+d})}Es.prototype.info=function(){};function gS(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var C=p[1];if(Array.isArray(C)&&!(1>C.length)){var S=C[0];if(S!="noop"&&S!="stop"&&S!="close")for(var O=1;O<C.length;O++)C[O]=""}}}}return oh(h)}catch{return d}}var hc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Wv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},uh;function fc(){}A(fc,sh),fc.prototype.g=function(){return new XMLHttpRequest},fc.prototype.i=function(){return{}},uh=new fc;function Qn(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new vs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Kv}function Kv(){this.i=null,this.g="",this.h=!1}var Qv={},lh={};function dh(a,d,h){a.L=1,a.v=yc(_n(d)),a.m=h,a.P=!0,Yv(a,null)}function Yv(a,d){a.F=Date.now(),pc(a),a.A=_n(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),l_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Kv,a.g=A_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new uS(_(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var C="readystatechange";Array.isArray(C)||(C&&(jv[0]=C.toString()),C=jv);for(var S=0;S<C.length;S++){var O=Nv(h,C[S],p||d.handleEvent,!1,d.h||d);if(!O)break;d.g[O.key]=O}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),ws(),hS(a.i,a.u,a.A,a.l,a.R,a.m)}Qn.prototype.ca=function(a){a=a.target;let d=this.M;d&&wn(a)==3?d.j():this.Y(a)},Qn.prototype.Y=function(a){try{if(a==this.g)e:{let tt=wn(this.g);var d=this.g.Ba();let Li=this.g.Z();if(!(3>tt)&&(tt!=3||this.g&&(this.h.h||this.g.oa()||y_(this.g)))){this.J||tt!=4||d==7||(d==8||0>=Li?ws(3):ws(2)),hh(this);var h=this.g.Z();this.X=h;t:if(Zv(this)){var p=y_(this.g);a="";var C=p.length,S=wn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){kr(this),Ds(this);var O="";break t}this.h.i=new c.TextDecoder}for(d=0;d<C;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(S&&d==C-1)});p.length=0,this.h.g+=a,this.C=0,O=this.h.g}else O=this.g.oa();if(this.o=h==200,fS(this.i,this.u,this.A,this.l,this.R,tt,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,Qe=this.g;if((Ie=Qe.g?Qe.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!W(Ie)){var me=Ie;break t}}me=null}if(h=me)Oi(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,fh(this,h);else{this.o=!1,this.s=3,ut(12),kr(this),Ds(this);break e}}if(this.P){h=!0;let Bt;for(;!this.J&&this.C<O.length;)if(Bt=mS(this,O),Bt==lh){tt==4&&(this.s=4,ut(14),h=!1),Oi(this.i,this.l,null,"[Incomplete Response]");break}else if(Bt==Qv){this.s=4,ut(15),Oi(this.i,this.l,O,"[Invalid Chunk]"),h=!1;break}else Oi(this.i,this.l,Bt,null),fh(this,Bt);if(Zv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),tt!=4||O.length!=0||this.h.h||(this.s=1,ut(16),h=!1),this.o=this.o&&h,!h)Oi(this.i,this.l,O,"[Invalid Chunked Response]"),kr(this),Ds(this);else if(0<O.length&&!this.W){this.W=!0;var et=this.j;et.g==this&&et.ba&&!et.M&&(et.j.info("Great, no buffering proxy detected. Bytes received: "+O.length),_h(et),et.M=!0,ut(11))}}else Oi(this.i,this.l,O,null),fh(this,O);tt==4&&kr(this),this.o&&!this.J&&(tt==4?b_(this.j,this):(this.o=!1,pc(this)))}else PS(this.g),h==400&&0<O.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),kr(this),Ds(this)}}}catch{}finally{}};function Zv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function mS(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?lh:(h=Number(d.substring(h,p)),isNaN(h)?Qv:(p+=1,p+h>d.length?lh:(d=d.slice(p,p+h),a.C=p+h,d)))}Qn.prototype.cancel=function(){this.J=!0,kr(this)};function pc(a){a.S=Date.now()+a.I,Jv(a,a.I)}function Jv(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Is(_(a.ba,a),d)}function hh(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Qn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(pS(this.i,this.A),this.L!=2&&(ws(),ut(17)),kr(this),this.s=2,Ds(this)):Jv(this,this.S-a)};function Ds(a){a.j.G==0||a.J||b_(a.j,a)}function kr(a){hh(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,Uv(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function fh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||ph(h.h,a))){if(!a.K&&ph(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var C=p;if(C[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Ec(h),wc(h);else break e;vh(h),ut(18)}}else h.za=C[1],0<h.za-h.T&&37500>C[2]&&h.F&&h.v==0&&!h.C&&(h.C=Is(_(h.Za,h),6e3));if(1>=t_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else Lr(h,11)}else if((a.K||h.g==a)&&Ec(h),!W(d))for(C=h.Da.g.parse(d),d=0;d<C.length;d++){let me=C[d];if(h.T=me[0],me=me[1],h.G==2)if(me[0]=="c"){h.K=me[1],h.ia=me[2];let et=me[3];et!=null&&(h.la=et,h.j.info("VER="+h.la));let tt=me[4];tt!=null&&(h.Aa=tt,h.j.info("SVER="+h.Aa));let Li=me[5];Li!=null&&typeof Li=="number"&&0<Li&&(p=1.5*Li,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Bt=a.g;if(Bt){let bc=Bt.g?Bt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(bc){var S=p.h;S.g||bc.indexOf("spdy")==-1&&bc.indexOf("quic")==-1&&bc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(gh(S,S.h),S.h=null))}if(p.D){let wh=Bt.g?Bt.g.getResponseHeader("X-HTTP-Session-Id"):null;wh&&(p.ya=wh,Te(p.I,p.D,wh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var O=a;if(p.qa=S_(p,p.J?p.ia:null,p.W),O.K){n_(p.h,O);var Ie=O,Qe=p.L;Qe&&(Ie.I=Qe),Ie.B&&(hh(Ie),pc(Ie)),p.g=O}else E_(p);0<h.i.length&&Ic(h)}else me[0]!="stop"&&me[0]!="close"||Lr(h,7);else h.G==3&&(me[0]=="stop"||me[0]=="close"?me[0]=="stop"?Lr(h,7):yh(h):me[0]!="noop"&&h.l&&h.l.ta(me),h.v=0)}}ws(4)}catch{}}var yS=class{constructor(a,d){this.g=a,this.map=d}};function Xv(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function e_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function t_(a){return a.h?1:a.g?a.g.size:0}function ph(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function gh(a,d){a.g?a.g.add(d):a.h=d}function n_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}Xv.prototype.cancel=function(){if(this.i=r_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function r_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return P(a.i)}function vS(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function _S(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function i_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=_S(a),p=vS(a),C=p.length,S=0;S<C;S++)d.call(void 0,p[S],h&&h[S],a)}var o_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wS(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),C=null;if(0<=p){var S=a[h].substring(0,p);C=a[h].substring(p+1)}else S=a[h];d(S,C?decodeURIComponent(C.replace(/\+/g," ")):"")}}}function Fr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Fr){this.h=a.h,gc(this,a.j),this.o=a.o,this.g=a.g,mc(this,a.s),this.l=a.l;var d=a.i,h=new Ts;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),s_(this,h),this.m=a.m}else a&&(d=String(a).match(o_))?(this.h=!1,gc(this,d[1]||"",!0),this.o=bs(d[2]||""),this.g=bs(d[3]||"",!0),mc(this,d[4]),this.l=bs(d[5]||"",!0),s_(this,d[6]||"",!0),this.m=bs(d[7]||"")):(this.h=!1,this.i=new Ts(null,this.h))}Fr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Cs(d,a_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Cs(d,a_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Cs(h,h.charAt(0)=="/"?DS:ES,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Cs(h,CS)),a.join("")};function _n(a){return new Fr(a)}function gc(a,d,h){a.j=h?bs(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function mc(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function s_(a,d,h){d instanceof Ts?(a.i=d,TS(a.i,a.h)):(h||(d=Cs(d,bS)),a.i=new Ts(d,a.h))}function Te(a,d,h){a.i.set(d,h)}function yc(a){return Te(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function bs(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Cs(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,IS),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function IS(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var a_=/[#\/\?@]/g,ES=/[#\?:]/g,DS=/[#\?]/g,bS=/[#\?@]/g,CS=/#/g;function Ts(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function Yn(a){a.g||(a.g=new Map,a.h=0,a.i&&wS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=Ts.prototype,t.add=function(a,d){Yn(this),this.i=null,a=ki(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function c_(a,d){Yn(a),d=ki(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function u_(a,d){return Yn(a),d=ki(a,d),a.g.has(d)}t.forEach=function(a,d){Yn(this),this.g.forEach(function(h,p){h.forEach(function(C){a.call(d,C,p,this)},this)},this)},t.na=function(){Yn(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let C=a[p];for(let S=0;S<C.length;S++)h.push(d[p])}return h},t.V=function(a){Yn(this);let d=[];if(typeof a=="string")u_(this,a)&&(d=d.concat(this.g.get(ki(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return Yn(this),this.i=null,a=ki(this,a),u_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function l_(a,d,h){c_(a,d),0<h.length&&(a.i=null,a.g.set(ki(a,d),P(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let S=encodeURIComponent(String(p)),O=this.V(p);for(p=0;p<O.length;p++){var C=S;O[p]!==""&&(C+="="+encodeURIComponent(String(O[p]))),a.push(C)}}return this.i=a.join("&")};function ki(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function TS(a,d){d&&!a.j&&(Yn(a),a.i=null,a.g.forEach(function(h,p){var C=p.toLowerCase();p!=C&&(c_(this,p),l_(this,C,h))},a)),a.j=d}function SS(a,d){let h=new Es;if(c.Image){let p=new Image;p.onload=w(Zn,h,"TestLoadImage: loaded",!0,d,p),p.onerror=w(Zn,h,"TestLoadImage: error",!1,d,p),p.onabort=w(Zn,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=w(Zn,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function AS(a,d){let h=new Es,p=new AbortController,C=setTimeout(()=>{p.abort(),Zn(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(C),S.ok?Zn(h,"TestPingServer: ok",!0,d):Zn(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(C),Zn(h,"TestPingServer: error",!1,d)})}function Zn(a,d,h,p,C){try{C&&(C.onload=null,C.onerror=null,C.onabort=null,C.ontimeout=null),p(h)}catch{}}function MS(){this.g=new dS}function xS(a,d,h){let p=h||"";try{i_(a,function(C,S){let O=C;l(C)&&(O=oh(C)),d.push(p+S+"="+encodeURIComponent(O))})}catch(C){throw d.push(p+"type="+encodeURIComponent("_badmap")),C}}function Ss(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Ss,sh),Ss.prototype.g=function(){return new vc(this.l,this.j)},Ss.prototype.i=function(a){return function(){return a}}({});function vc(a,d){Xe.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(vc,Xe),t=vc.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ms(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,As(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ms(this)),this.g&&(this.readyState=3,Ms(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;d_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function d_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?As(this):Ms(this),this.readyState==3&&d_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,As(this))},t.Qa=function(a){this.g&&(this.response=a,As(this))},t.ga=function(){this.g&&As(this)};function As(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ms(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Ms(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(vc.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function h_(a){let d="";return ge(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function mh(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=h_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Te(a,d,h))}function Se(a){Xe.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Se,Xe);var RS=/^https?$/i,NS=["POST","PUT"];t=Se.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():uh.g(),this.v=this.o?Bv(this.o):Bv(uh),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){f_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var C in p)h.set(C,p[C]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),C=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(NS,d,void 0))||p||C||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,O]of h)this.g.setRequestHeader(S,O);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{m_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){f_(this,S)}};function f_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,p_(a),_c(a)}function p_(a){a.A||(a.A=!0,ct(a,"complete"),ct(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ct(this,"complete"),ct(this,"abort"),_c(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_c(this,!0)),Se.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?g_(this):this.bb())},t.bb=function(){g_(this)};function g_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||wn(a)!=4||a.Z()!=2)){if(a.u&&wn(a)==4)Lv(a.Ea,0,a);else if(ct(a,"readystatechange"),wn(a)==4){a.h=!1;try{let O=a.Z();e:switch(O){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=O===0){var C=String(a.D).match(o_)[1]||null;!C&&c.self&&c.self.location&&(C=c.self.location.protocol.slice(0,-1)),p=!RS.test(C?C.toLowerCase():"")}h=p}if(h)ct(a,"complete"),ct(a,"success");else{a.m=6;try{var S=2<wn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",p_(a)}}finally{_c(a)}}}}function _c(a,d){if(a.g){m_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ct(a,"ready");try{h.onreadystatechange=p}catch{}}}function m_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function wn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<wn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),lS(d)}};function y_(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function PS(a){let d={};a=(a.g&&2<=wn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(W(a[p]))continue;var h=b(a[p]);let C=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[C]||[];d[C]=S,S.push(h)}D(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function xs(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function v_(a){this.Aa=0,this.i=[],this.j=new Es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=xs("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=xs("baseRetryDelayMs",5e3,a),this.cb=xs("retryDelaySeedMs",1e4,a),this.Wa=xs("forwardChannelMaxRetries",2,a),this.wa=xs("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new Xv(a&&a.concurrentRequestLimit),this.Da=new MS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=v_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){ut(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=S_(this,null,this.W),Ic(this)};function yh(a){if(__(a),a.G==3){var d=a.U++,h=_n(a.I);if(Te(h,"SID",a.K),Te(h,"RID",d),Te(h,"TYPE","terminate"),Rs(a,h),d=new Qn(a,a.j,d),d.L=2,d.v=yc(_n(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=A_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),pc(d)}T_(a)}function wc(a){a.g&&(_h(a),a.g.cancel(),a.g=null)}function __(a){wc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Ec(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Ic(a){if(!e_(a.h)&&!a.s){a.s=!0;var d=a.Ga;ps||Rv(),gs||(ps(),gs=!0),Yd.add(d,a),a.B=0}}function OS(a,d){return t_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Is(_(a.Ga,a,d),C_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let C=new Qn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(C.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=I_(this,C,d),h=_n(this.I),Te(h,"RID",a),Te(h,"CVER",22),this.D&&Te(h,"X-HTTP-Session-Id",this.D),Rs(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(h_(S)))+"&"+d:this.m&&mh(h,this.m,S)),gh(this.h,C),this.Ua&&Te(h,"TYPE","init"),this.P?(Te(h,"$req",d),Te(h,"SID","null"),C.T=!0,dh(C,h,null)):dh(C,h,d),this.G=2}}else this.G==3&&(a?w_(this,a):this.i.length==0||e_(this.h)||w_(this))};function w_(a,d){var h;d?h=d.l:h=a.U++;let p=_n(a.I);Te(p,"SID",a.K),Te(p,"RID",h),Te(p,"AID",a.T),Rs(a,p),a.m&&a.o&&mh(p,a.m,a.o),h=new Qn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=I_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),gh(a.h,h),dh(h,p,d)}function Rs(a,d){a.H&&ge(a.H,function(h,p){Te(d,p,h)}),a.l&&i_({},function(h,p){Te(d,p,h)})}function I_(a,d,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var C=a.i;let S=-1;for(;;){let O=["count="+h];S==-1?0<h?(S=C[0].g,O.push("ofs="+S)):S=0:O.push("ofs="+S);let Ie=!0;for(let Qe=0;Qe<h;Qe++){let me=C[Qe].g,et=C[Qe].map;if(me-=S,0>me)S=Math.max(0,C[Qe].g-100),Ie=!1;else try{xS(et,O,"req"+me+"_")}catch{p&&p(et)}}if(Ie){p=O.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function E_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;ps||Rv(),gs||(ps(),gs=!0),Yd.add(d,a),a.v=0}}function vh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Is(_(a.Fa,a),C_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,D_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Is(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),wc(this),D_(this))};function _h(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function D_(a){a.g=new Qn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=_n(a.qa);Te(d,"RID","rpc"),Te(d,"SID",a.K),Te(d,"AID",a.T),Te(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Te(d,"TO",a.ja),Te(d,"TYPE","xmlhttp"),Rs(a,d),a.m&&a.o&&mh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=yc(_n(d)),h.m=null,h.P=!0,Yv(h,a)}t.Za=function(){this.C!=null&&(this.C=null,wc(this),vh(this),ut(19))};function Ec(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function b_(a,d){var h=null;if(a.g==d){Ec(a),_h(a),a.g=null;var p=2}else if(ph(a.h,d))h=d.D,n_(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var C=a.B;p=dc(),ct(p,new Gv(p,h)),Ic(a)}else E_(a);else if(C=d.s,C==3||C==0&&0<d.X||!(p==1&&OS(a,d)||p==2&&vh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),C){case 1:Lr(a,5);break;case 4:Lr(a,10);break;case 3:Lr(a,6);break;default:Lr(a,2)}}}function C_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function Lr(a,d){if(a.j.info("Error code "+d),d==2){var h=_(a.fb,a),p=a.Xa;let C=!p;p=new Fr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||gc(p,"https"),yc(p),C?SS(p.toString(),h):AS(p.toString(),h)}else ut(2);a.G=0,a.l&&a.l.sa(d),T_(a),__(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function T_(a){if(a.G=0,a.ka=[],a.l){let d=r_(a.h);(d.length!=0||a.i.length!=0)&&(N(a.ka,d),N(a.ka,a.i),a.h.i.length=0,P(a.i),a.i.length=0),a.l.ra()}}function S_(a,d,h){var p=h instanceof Fr?_n(h):new Fr(h);if(p.g!="")d&&(p.g=d+"."+p.g),mc(p,p.s);else{var C=c.location;p=C.protocol,d=d?d+"."+C.hostname:C.hostname,C=+C.port;var S=new Fr(null);p&&gc(S,p),d&&(S.g=d),C&&mc(S,C),h&&(S.l=h),p=S}return h=a.D,d=a.ya,h&&d&&Te(p,h,d),Te(p,"VER",a.la),Rs(a,p),p}function A_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Se(new Ss({eb:h})):new Se(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function M_(){}t=M_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Dc(){}Dc.prototype.g=function(a,d){return new _t(a,d)};function _t(a,d){Xe.call(this),this.g=new v_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!W(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!W(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new Fi(this)}A(_t,Xe),_t.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},_t.prototype.close=function(){yh(this.g)},_t.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=oh(a),a=h);d.i.push(new yS(d.Ya++,a)),d.G==3&&Ic(d)},_t.prototype.N=function(){this.g.l=null,delete this.j,yh(this.g),delete this.g,_t.aa.N.call(this)};function x_(a){ah.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(x_,ah);function R_(){ch.call(this),this.status=1}A(R_,ch);function Fi(a){this.g=a}A(Fi,M_),Fi.prototype.ua=function(){ct(this.g,"a")},Fi.prototype.ta=function(a){ct(this.g,new x_(a))},Fi.prototype.sa=function(a){ct(this.g,new R_)},Fi.prototype.ra=function(){ct(this.g,"b")},Dc.prototype.createWebChannel=Dc.prototype.g,_t.prototype.send=_t.prototype.o,_t.prototype.open=_t.prototype.m,_t.prototype.close=_t.prototype.close,Jm=$n.createWebChannelTransport=function(){return new Dc},Zm=$n.getStatEventTarget=function(){return dc()},Ym=$n.Event=Or,ud=$n.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},hc.NO_ERROR=0,hc.TIMEOUT=8,hc.HTTP_ERROR=6,Ka=$n.ErrorCode=hc,Wv.COMPLETE="complete",Qm=$n.EventType=Wv,$v.EventType=_s,_s.OPEN="a",_s.CLOSE="b",_s.ERROR="c",_s.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Ko=$n.WebChannel=$v,Km=$n.FetchXmlHttpFactory=Ss,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,Wm=$n.XhrIo=Se}).apply(typeof cd<"u"?cd:typeof self<"u"?self:typeof window<"u"?window:{});var PC="@firebase/firestore";var Ge=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Ge.UNAUTHENTICATED=new Ge(null),Ge.GOOGLE_CREDENTIALS=new Ge("google-credentials-uid"),Ge.FIRST_PARTY=new Ge("first-party-uid"),Ge.MOCK_USER=new Ge("mock-user");var hs="10.13.2";var Ai=new Ir("@firebase/firestore");function Qa(){return Ai.logLevel}function U(t,...e){if(Ai.logLevel<=ce.DEBUG){let n=e.map(wv);Ai.debug(`Firestore (${hs}): ${t}`,...n)}}function Mi(t,...e){if(Ai.logLevel<=ce.ERROR){let n=e.map(wv);Ai.error(`Firestore (${hs}): ${t}`,...n)}}function gd(t,...e){if(Ai.logLevel<=ce.WARN){let n=e.map(wv);Ai.warn(`Firestore (${hs}): ${t}`,...n)}}function wv(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function ue(t="Unexpected state"){let e=`FIRESTORE (${hs}) INTERNAL ASSERTION FAILED: `+t;throw Mi(e),new Error(e)}function He(t,e){t||ue()}function Ce(t,e){return t}var M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends At{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Hn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var md=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},ny=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ge.UNAUTHENTICATED))}shutdown(){}},ry=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},iy=class{constructor(e){this.t=e,this.currentUser=Ge.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Hn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Hn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Hn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new md(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new Ge(e)}},oy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Ge.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},sy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new oy(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Ge.FIRST_PARTY))}shutdown(){}invalidateToken(){}},ay=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},cy=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(He(typeof n.token=="string"),this.R=n.token,new ay(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function h2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var yd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=h2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function De(t,e){return t<e?-1:t>e?1:0}function Jo(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var at=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?De(this.nanoseconds,e.nanoseconds):De(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var xe=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new at(0,0))}static max(){return new t(new at(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var vd=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&ue(),r===void 0?r=e.length-n:r>e.length-n&&ue(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Fe=class t extends vd{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(M.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},f2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Mt=class t extends vd{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return f2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new H(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new H(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new H(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var re=class t{constructor(e){this.path=e}static fromPath(e){return new t(Fe.fromString(e))}static fromName(e){return new t(Fe.fromString(e).popFirst(5))}static empty(){return new t(Fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Fe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Fe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Fe(e.slice()))}};var uy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};uy.UNKNOWN_ID=-1;function p2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=xe.fromTimestamp(r===1e9?new at(n+1,0):new at(n,r));return new xi(i,re.empty(),e)}function g2(t){return new xi(t.readTime,t.key,-1)}var xi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(xe.min(),re.empty(),-1)}static max(){return new t(xe.max(),re.empty(),-1)}};function m2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=re.comparator(t.documentKey,e.documentKey),n!==0?n:De(t.largestBatchId,e.largestBatchId))}var y2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",ly=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function tT(t){return I(this,null,function*(){if(t.code!==M.FAILED_PRECONDITION||t.message!==y2)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var R=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ue(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function v2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ld(t){return t.name==="IndexedDbTransactionError"}var _2=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Iv(t){return t==null}function tc(t){return t===0&&1/t==-1/0}function w2(t){return typeof t=="number"&&Number.isInteger(t)&&!tc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var I2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],c9=[...I2,"documentOverlays"],E2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],D2=E2,b2=[...D2,"indexConfiguration","indexState","indexEntries"];var u9=[...b2,"globals"];function OC(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function oc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var xt=class t{constructor(e,n){this.comparator=e,this.root=n||mn.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,mn.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,mn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Yo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Yo(this.root,e,this.comparator,!1)}getReverseIterator(){return new Yo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Yo(this.root,e,this.comparator,!0)}},Yo=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},mn=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ue();let e=this.left.check();if(e!==this.right.check())throw ue();return e+(this.isRed()?0:1)}};mn.EMPTY=null,mn.RED=!0,mn.BLACK=!1;mn.EMPTY=new class{constructor(){this.size=0}get key(){throw ue()}get value(){throw ue()}get color(){throw ue()}get left(){throw ue()}get right(){throw ue()}copy(e,n,r,i,o){return this}insert(e,n,r){return new mn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var gt=class t{constructor(e){this.comparator=e,this.data=new xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new _d(this.data.getIterator())}getIteratorFrom(e){return new _d(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},_d=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var gn=class t{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new t([])}unionWith(e){let n=new gt(Mt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Jo(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var dy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var qn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dy("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return De(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};qn.EMPTY_BYTE_STRING=new qn("");var C2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function xr(t){if(He(!!t),typeof t=="string"){let e=0,n=C2.exec(t);if(He(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ke(t.seconds),nanos:ke(t.nanos)}}function ke(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Xo(t){return typeof t=="string"?qn.fromBase64String(t):qn.fromUint8Array(t)}function Ev(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function rT(t){let e=t.mapValue.fields.__previous_value__;return Ev(e)?rT(e):e}function wd(t){let e=xr(t.mapValue.fields.__local_write_time__.timestampValue);return new at(e.seconds,e.nanos)}var hy=class{constructor(e,n,r,i,o,s,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},fy=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var ld={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function es(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ev(t)?4:oT(t)?9007199254740991:iT(t)?10:11:ue()}function yn(t,e){if(t===e)return!0;let n=es(t);if(n!==es(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return wd(t).isEqual(wd(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=xr(i.timestampValue),c=xr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return Xo(i.bytesValue).isEqual(Xo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return ke(i.geoPointValue.latitude)===ke(o.geoPointValue.latitude)&&ke(i.geoPointValue.longitude)===ke(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return ke(i.integerValue)===ke(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=ke(i.doubleValue),c=ke(o.doubleValue);return s===c?tc(s)===tc(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return Jo(t.arrayValue.values||[],e.arrayValue.values||[],yn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(OC(s)!==OC(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!yn(s[u],c[u])))return!1;return!0}(t,e);default:return ue()}}function nc(t,e){return(t.values||[]).find(n=>yn(n,e))!==void 0}function ts(t,e){if(t===e)return 0;let n=es(t),r=es(e);if(n!==r)return De(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return De(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=ke(o.integerValue||o.doubleValue),u=ke(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return kC(t.timestampValue,e.timestampValue);case 4:return kC(wd(t),wd(e));case 5:return De(t.stringValue,e.stringValue);case 6:return function(o,s){let c=Xo(o),u=Xo(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=De(c[l],u[l]);if(f!==0)return f}return De(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=De(ke(o.latitude),ke(s.latitude));return c!==0?c:De(ke(o.longitude),ke(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return FC(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let g=o.fields||{},_=s.fields||{},w=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=_.value)===null||u===void 0?void 0:u.arrayValue,P=De(((l=w?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return P!==0?P:FC(w,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===ld.mapValue&&s===ld.mapValue)return 0;if(o===ld.mapValue)return 1;if(s===ld.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=De(u[g],f[g]);if(_!==0)return _;let w=ts(c[u[g]],l[f[g]]);if(w!==0)return w}return De(u.length,f.length)}(t.mapValue,e.mapValue);default:throw ue()}}function kC(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return De(t,e);let n=xr(t),r=xr(e),i=De(n.seconds,r.seconds);return i!==0?i:De(n.nanos,r.nanos)}function FC(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=ts(n[i],r[i]);if(o)return o}return De(n.length,r.length)}function ns(t){return py(t)}function py(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=xr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Xo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return re.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=py(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${py(n.fields[s])}`;return i+"}"}(t.mapValue):ue()}function gy(t){return!!t&&"integerValue"in t}function Dv(t){return!!t&&"arrayValue"in t}function fd(t){return!!t&&"mapValue"in t}function iT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Za(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return oc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Za(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Za(t.arrayValue.values[n]);return e}return Object.assign({},t)}function oT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var pn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!fd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Za(n)}setAll(e){let n=Mt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=Za(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());fd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];fd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){oc(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Za(this.value))}};function sT(t){let e=[];return oc(t.fields,(n,r)=>{let i=new Mt([n]);if(fd(r)){let o=sT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new gn(e)}var rs=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,xe.min(),xe.min(),xe.min(),pn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,xe.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,xe.min(),xe.min(),pn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,xe.min(),xe.min(),pn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(xe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=pn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=pn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=xe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var is=class{constructor(e,n){this.position=e,this.inclusive=n}};function LC(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=re.comparator(re.fromName(s.referenceValue),n.key):r=ts(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function VC(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!yn(t.position[n],e.position[n]))return!1;return!0}var os=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function T2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Id=class{},We=class t extends Id{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new yy(e,n,r):n==="array-contains"?new wy(e,r):n==="in"?new Iy(e,r):n==="not-in"?new Ey(e,r):n==="array-contains-any"?new Dy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new vy(e,r):new _y(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(ts(n,this.value)):n!==null&&es(this.value)===es(n)&&this.matchesComparison(ts(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ue()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Rr=class t extends Id{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return aT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function aT(t){return t.op==="and"}function cT(t){return S2(t)&&aT(t)}function S2(t){for(let e of t.filters)if(e instanceof Rr)return!1;return!0}function my(t){if(t instanceof We)return t.field.canonicalString()+t.op.toString()+ns(t.value);if(cT(t))return t.filters.map(e=>my(e)).join(",");{let e=t.filters.map(n=>my(n)).join(",");return`${t.op}(${e})`}}function uT(t,e){return t instanceof We?function(r,i){return i instanceof We&&r.op===i.op&&r.field.isEqual(i.field)&&yn(r.value,i.value)}(t,e):t instanceof Rr?function(r,i){return i instanceof Rr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&uT(s,i.filters[c]),!0):!1}(t,e):void ue()}function lT(t){return t instanceof We?function(n){return`${n.field.canonicalString()} ${n.op} ${ns(n.value)}`}(t):t instanceof Rr?function(n){return n.op.toString()+" {"+n.getFilters().map(lT).join(" ,")+"}"}(t):"Filter"}var yy=class extends We{constructor(e,n,r){super(e,n,r),this.key=re.fromName(r.referenceValue)}matches(e){let n=re.comparator(e.key,this.key);return this.matchesComparison(n)}},vy=class extends We{constructor(e,n){super(e,"in",n),this.keys=dT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},_y=class extends We{constructor(e,n){super(e,"not-in",n),this.keys=dT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function dT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>re.fromName(r.referenceValue))}var wy=class extends We{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Dv(n)&&nc(n.arrayValue,this.value)}},Iy=class extends We{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&nc(this.value.arrayValue,n)}},Ey=class extends We{constructor(e,n){super(e,"not-in",n)}matches(e){if(nc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!nc(this.value.arrayValue,n)}},Dy=class extends We{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Dv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>nc(this.value.arrayValue,r))}};var by=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function jC(t,e=null,n=[],r=[],i=null,o=null,s=null){return new by(t,e,n,r,i,o,s)}function bv(t){let e=Ce(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>my(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Iv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ns(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ns(r)).join(",")),e.ue=n}return e.ue}function Cv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!T2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!uT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!VC(t.startAt,e.startAt)&&VC(t.endAt,e.endAt)}var ss=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function A2(t,e,n,r,i,o,s,c){return new ss(t,e,n,r,i,o,s,c)}function M2(t){return new ss(t)}function UC(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function x2(t){return t.collectionGroup!==null}function Ja(t){let e=Ce(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new gt(Mt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new os(o,r))}),n.has(Mt.keyField().canonicalString())||e.ce.push(new os(Mt.keyField(),r))}return e.ce}function Ti(t){let e=Ce(t);return e.le||(e.le=R2(e,Ja(t))),e.le}function R2(t,e){if(t.limitType==="F")return jC(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new os(i.field,o)});let n=t.endAt?new is(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new is(t.startAt.position,t.startAt.inclusive):null;return jC(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Cy(t,e,n){return new ss(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function hT(t,e){return Cv(Ti(t),Ti(e))&&t.limitType===e.limitType}function fT(t){return`${bv(Ti(t))}|lt:${t.limitType}`}function Ya(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>lT(i)).join(", ")}]`),Iv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ns(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ns(i)).join(",")),`Target(${r})`}(Ti(t))}; limitType=${t.limitType})`}function Tv(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):re.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Ja(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=LC(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,Ja(r),i)||r.endAt&&!function(s,c,u){let l=LC(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,Ja(r),i))}(t,e)}function N2(t){return(e,n)=>{let r=!1;for(let i of Ja(t)){let o=P2(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function P2(t,e,n){let r=t.field.isKeyField()?re.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?ts(u,l):ue()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return ue()}}var Nr=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){oc(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return nT(this.inner)}size(){return this.innerSize}};var O2=new xt(re.comparator);function Ed(){return O2}var pT=new xt(re.comparator);function dd(...t){let e=pT;for(let n of t)e=e.insert(n.key,n);return e}function gT(t){let e=pT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ci(){return Xa()}function mT(){return Xa()}function Xa(){return new Nr(t=>t.toString(),(t,e)=>t.isEqual(e))}var k2=new xt(re.comparator),F2=new gt(re.comparator);function st(...t){let e=F2;for(let n of t)e=e.add(n);return e}var L2=new gt(De);function V2(){return L2}function Sv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:tc(e)?"-0":e}}function yT(t){return{integerValue:""+t}}function j2(t,e){return w2(e)?yT(e):Sv(t,e)}var as=class{constructor(){this._=void 0}};function U2(t,e,n){return t instanceof cs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Ev(o)&&(o=rT(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Ri?_T(t,e):t instanceof Ni?wT(t,e):function(i,o){let s=vT(i,o),c=BC(s)+BC(i.Pe);return gy(s)&&gy(i.Pe)?yT(c):Sv(i.serializer,c)}(t,e)}function B2(t,e,n){return t instanceof Ri?_T(t,e):t instanceof Ni?wT(t,e):n}function vT(t,e){return t instanceof us?function(r){return gy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var cs=class extends as{},Ri=class extends as{constructor(e){super(),this.elements=e}};function _T(t,e){let n=IT(e);for(let r of t.elements)n.some(i=>yn(i,r))||n.push(r);return{arrayValue:{values:n}}}var Ni=class extends as{constructor(e){super(),this.elements=e}};function wT(t,e){let n=IT(e);for(let r of t.elements)n=n.filter(i=>!yn(i,r));return{arrayValue:{values:n}}}var us=class extends as{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function BC(t){return ke(t.integerValue||t.doubleValue)}function IT(t){return Dv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function $2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Ri&&i instanceof Ri||r instanceof Ni&&i instanceof Ni?Jo(r.elements,i.elements,yn):r instanceof us&&i instanceof us?yn(r.Pe,i.Pe):r instanceof cs&&i instanceof cs}(t.transform,e.transform)}var Ty=class{constructor(e,n){this.version=e,this.transformResults=n}},Si=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function pd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ls=class{};function ET(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Dd(t.key,Si.none()):new Pi(t.key,t.data,Si.none());{let n=t.data,r=pn.empty(),i=new gt(Mt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Gn(t.key,r,new gn(i.toArray()),Si.none())}}function H2(t,e,n){t instanceof Pi?function(i,o,s){let c=i.value.clone(),u=HC(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Gn?function(i,o,s){if(!pd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=HC(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(DT(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function ec(t,e,n,r){return t instanceof Pi?function(o,s,c,u){if(!pd(o.precondition,s))return c;let l=o.value.clone(),f=zC(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Gn?function(o,s,c,u){if(!pd(o.precondition,s))return c;let l=zC(o.fieldTransforms,u,s),f=s.data;return f.setAll(DT(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,s,c){return pd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function z2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=vT(r.transform,i||null);o!=null&&(n===null&&(n=pn.empty()),n.set(r.field,o))}return n||null}function $C(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Jo(r,i,(o,s)=>$2(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Pi=class extends ls{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Gn=class extends ls{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function DT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function HC(t,e,n){let r=new Map;He(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,B2(s,c,n[i]))}return r}function zC(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,U2(o,s,e))}return r}var Dd=class extends ls{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Sy=class extends ls{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Ay=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&H2(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=ec(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=mT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=ET(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(xe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),st())}isEqual(e){return this.batchId===e.batchId&&Jo(this.mutations,e.mutations,(n,r)=>$C(n,r))&&Jo(this.baseMutations,e.baseMutations,(n,r)=>$C(n,r))}},My=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){He(e.mutations.length===r.length);let i=function(){return k2}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var xy=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Pe,he;function q2(t){switch(t){default:return ue();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function G2(t){if(t===void 0)return Mi("GRPC error has no .code"),M.UNKNOWN;switch(t){case Pe.OK:return M.OK;case Pe.CANCELLED:return M.CANCELLED;case Pe.UNKNOWN:return M.UNKNOWN;case Pe.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case Pe.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case Pe.INTERNAL:return M.INTERNAL;case Pe.UNAVAILABLE:return M.UNAVAILABLE;case Pe.UNAUTHENTICATED:return M.UNAUTHENTICATED;case Pe.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case Pe.NOT_FOUND:return M.NOT_FOUND;case Pe.ALREADY_EXISTS:return M.ALREADY_EXISTS;case Pe.PERMISSION_DENIED:return M.PERMISSION_DENIED;case Pe.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case Pe.ABORTED:return M.ABORTED;case Pe.OUT_OF_RANGE:return M.OUT_OF_RANGE;case Pe.UNIMPLEMENTED:return M.UNIMPLEMENTED;case Pe.DATA_LOSS:return M.DATA_LOSS;default:return ue()}}(he=Pe||(Pe={}))[he.OK=0]="OK",he[he.CANCELLED=1]="CANCELLED",he[he.UNKNOWN=2]="UNKNOWN",he[he.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",he[he.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",he[he.NOT_FOUND=5]="NOT_FOUND",he[he.ALREADY_EXISTS=6]="ALREADY_EXISTS",he[he.PERMISSION_DENIED=7]="PERMISSION_DENIED",he[he.UNAUTHENTICATED=16]="UNAUTHENTICATED",he[he.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",he[he.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",he[he.ABORTED=10]="ABORTED",he[he.OUT_OF_RANGE=11]="OUT_OF_RANGE",he[he.UNIMPLEMENTED=12]="UNIMPLEMENTED",he[he.INTERNAL=13]="INTERNAL",he[he.UNAVAILABLE=14]="UNAVAILABLE",he[he.DATA_LOSS=15]="DATA_LOSS";var d9=new Gm([4294967295,4294967295],0);var Ry=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Ny(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function W2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function K2(t,e){return Ny(t,e.toTimestamp())}function Zo(t){return He(!!t),xe.fromTimestamp(function(n){let r=xr(n);return new at(r.seconds,r.nanos)}(t))}function bT(t,e){return Py(t,e).canonicalString()}function Py(t,e){let n=function(i){return new Fe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Q2(t){let e=Fe.fromString(t);return He(rj(e)),e}function Oy(t,e){return bT(t.databaseId,e.path)}function Y2(t){let e=Q2(t);return e.length===4?Fe.emptyPath():J2(e)}function Z2(t){return new Fe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function J2(t){return He(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function qC(t,e,n){return{name:Oy(t,e),fields:n.value.mapValue.fields}}function X2(t,e){let n;if(e instanceof Pi)n={update:qC(t,e.key,e.value)};else if(e instanceof Dd)n={delete:Oy(t,e.key)};else if(e instanceof Gn)n={update:qC(t,e.key,e.data),updateMask:nj(e.fieldMask)};else{if(!(e instanceof Sy))return ue();n={verify:Oy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof cs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Ri)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ni)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof us)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw ue()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:K2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ue()}(t,e.precondition)),n}function ej(t,e){return t&&t.length>0?(He(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Zo(i.updateTime):Zo(o);return s.isEqual(xe.min())&&(s=Zo(o)),new Ty(s,i.transformResults||[])}(n,e))):[]}function tj(t){let e=Y2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){He(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(g){let _=CT(g);return _ instanceof Rr&&cT(_)?_.getFilters():[_]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(_=>function(A){return new os(Qo(A.field),function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,Iv(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,w=g.values||[];return new is(w,_)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let _=!g.before,w=g.values||[];return new is(w,_)}(n.endAt)),A2(e,i,s,o,c,"F",u,l)}function CT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Qo(n.unaryFilter.field);return We.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Qo(n.unaryFilter.field);return We.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Qo(n.unaryFilter.field);return We.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Qo(n.unaryFilter.field);return We.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ue()}}(t):t.fieldFilter!==void 0?function(n){return We.create(Qo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ue()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Rr.create(n.compositeFilter.filters.map(r=>CT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ue()}}(n.compositeFilter.op))}(t):ue()}function Qo(t){return Mt.fromServerFormat(t.fieldPath)}function nj(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function rj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var ky=class{constructor(e){this.ct=e}};function ij(t){let e=tj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Cy(e,e.limit,"L"):e}var bd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(ke(e.integerValue));else if("doubleValue"in e){let r=ke(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),tc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=xr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(Xo(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?oT(e)?this.dt(n,Number.MAX_SAFE_INTEGER):iT(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):ue()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(ke(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),re.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};bd.vt=new bd;var Fy=class{constructor(){this.un=new Ly}addToCollectionParentIndex(e,n){return this.un.add(n),R.resolve()}getCollectionParents(e,n){return R.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return R.resolve()}deleteFieldIndex(e,n){return R.resolve()}deleteAllFieldIndexes(e){return R.resolve()}createTargetIndexes(e,n){return R.resolve()}getDocumentsMatchingTarget(e,n){return R.resolve(null)}getIndexType(e,n){return R.resolve(0)}getFieldIndexes(e,n){return R.resolve([])}getNextCollectionGroupToUpdate(e){return R.resolve(null)}getMinOffset(e,n){return R.resolve(xi.min())}getMinOffsetFromCollectionGroup(e,n){return R.resolve(xi.min())}updateCollectionGroup(e,n,r){return R.resolve()}updateIndexEntries(e,n){return R.resolve()}},Ly=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new gt(Fe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new gt(Fe.comparator)).toArray()}};var h9=new Uint8Array(0);var fn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};fn.DEFAULT_COLLECTION_PERCENTILE=10,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fn.DEFAULT=new fn(41943040,fn.DEFAULT_COLLECTION_PERCENTILE,fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fn.DISABLED=new fn(-1,0,0);var rc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Vy=class{constructor(){this.changes=new Nr(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rs.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?R.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var jy=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var Uy=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&ec(r.mutation,i,gn.empty(),at.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,st()).next(()=>r))}getLocalViewOfDocuments(e,n,r=st()){let i=Ci();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=dd();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ci();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,st()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=Ed(),s=Xa(),c=function(){return Xa()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Gn)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),ec(f.mutation,l,f.mutation.getFieldMask(),at.now())):s.set(l.key,gn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var g;return c.set(l,new jy(f,(g=s.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=Xa(),i=new xt((s,c)=>s-c),o=st();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||gn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||st()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=mT();f.forEach(_=>{if(!o.has(_)){let w=ET(n.get(_),r.get(_));w!==null&&g.set(_,w),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,g))}return R.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return re.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):x2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):R.resolve(Ci()),c=-1,u=o;return s.next(l=>R.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(f)?R.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,st())).next(f=>({batchId:c,changes:gT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new re(n)).next(r=>{let i=dd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=dd();return this.indexManager.getCollectionParents(e,o).next(c=>R.forEach(c,u=>{let l=function(g,_){return new ss(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,rs.newInvalidDocument(f)))});let c=dd();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&ec(f.mutation,l,gn.empty(),at.now()),Tv(n,l)&&(c=c.insert(u,l))}),c})}};var By=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return R.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Zo(i.createTime)}}(n)),R.resolve()}getNamedQuery(e,n){return R.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:ij(i.bundledQuery),readTime:Zo(i.readTime)}}(n)),R.resolve()}};var $y=class{constructor(){this.overlays=new xt(re.comparator),this.Ir=new Map}getOverlay(e,n){return R.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ci();return R.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),R.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),R.resolve()}getOverlaysForCollection(e,n,r){let i=Ci(),o=n.length+1,s=new re(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return R.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new xt((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Ci(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Ci(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return R.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new xy(n,r));let o=this.Ir.get(n);o===void 0&&(o=st(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var Hy=class{constructor(){this.sessionToken=qn.EMPTY_BYTE_STRING}getSessionToken(e){return R.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,R.resolve()}};var ic=class{constructor(){this.Tr=new gt(Oe.Er),this.dr=new gt(Oe.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new Oe(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new Oe(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new re(new Fe([])),r=new Oe(n,e),i=new Oe(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new re(new Fe([])),r=new Oe(n,e),i=new Oe(n,e+1),o=st();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new Oe(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},Oe=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return re.comparator(e.key,n.key)||De(e.wr,n.wr)}static Ar(e,n){return De(e.wr,n.wr)||re.comparator(e.key,n.key)}};var zy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new gt(Oe.Er)}checkEmpty(e){return R.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Ay(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new Oe(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return R.resolve(s)}lookupMutationBatch(e,n){return R.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return R.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return R.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return R.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new Oe(n,0),i=new Oe(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),R.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new gt(De);return n.forEach(i=>{let o=new Oe(i,0),s=new Oe(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),R.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;re.isDocumentKey(o)||(o=o.child(""));let s=new Oe(new re(o),0),c=new gt(De);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),R.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){He(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return R.forEach(n.mutations,i=>{let o=new Oe(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new Oe(n,0),i=this.br.firstAfterOrEqual(r);return R.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,R.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var qy=class{constructor(e){this.Mr=e,this.docs=function(){return new xt(re.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return R.resolve(r?r.document.mutableCopy():rs.newInvalidDocument(n))}getEntries(e,n){let r=Ed();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():rs.newInvalidDocument(i))}),R.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=Ed(),s=n.path,c=new re(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||m2(g2(f),r)<=0||(i.has(f.key)||Tv(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return R.resolve(o)}getAllFromCollectionGroup(e,n,r,i){ue()}Or(e,n){return R.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Gy(this)}getSize(e){return R.resolve(this.size)}},Gy=class extends Vy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),R.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Wy=class{constructor(e){this.persistence=e,this.Nr=new Nr(n=>bv(n),Cv),this.lastRemoteSnapshotVersion=xe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ic,this.targetCount=0,this.kr=rc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),R.resolve()}getLastRemoteSnapshotVersion(e){return R.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return R.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),R.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),R.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new rc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,R.resolve()}updateTargetData(e,n){return this.Kn(n),R.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,R.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),R.waitFor(o).next(()=>i)}getTargetCount(e){return R.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return R.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),R.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),R.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),R.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return R.resolve(r)}containsKey(e,n){return R.resolve(this.Br.containsKey(n))}};var Ky=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new _2(0),this.Kr=!1,this.Kr=!0,this.$r=new Hy,this.referenceDelegate=e(this),this.Ur=new Wy(this),this.indexManager=new Fy,this.remoteDocumentCache=function(i){return new qy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new ky(n),this.Gr=new By(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $y,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new zy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new Qy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return R.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Qy=class extends ly{constructor(e){super(),this.currentSequenceNumber=e}},Yy=class t{constructor(e){this.persistence=e,this.Jr=new ic,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw ue()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),R.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),R.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),R.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return R.forEach(this.Xr,r=>{let i=re.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,xe.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return R.or([()=>R.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Zy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=st(),i=st();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var Jy=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var Xy=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return lb()?8:v2(qe())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new Jy;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Qa()<=ce.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),R.resolve()):(Qa()<=ce.DEBUG&&U("QueryEngine","Query:",Ya(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Qa()<=ce.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ti(n))):R.resolve())}Yi(e,n){if(UC(n))return R.resolve(null);let r=Ti(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Cy(n,null,"F"),r=Ti(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=st(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,s,u.readTime)?this.Yi(e,Cy(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return UC(n)||i.isEqual(xe.min())?R.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?R.resolve(null):(Qa()<=ce.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ya(n)),this.rs(e,s,n,p2(i,-1)).next(c=>c))})}ts(e,n){let r=new gt(N2(e));return n.forEach((i,o)=>{Tv(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Qa()<=ce.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Ya(n)),this.Ji.getDocumentsMatchingQuery(e,n,xi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var ev=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new xt(De),this._s=new Nr(o=>bv(o),Cv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Uy(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function oj(t,e,n,r){return new ev(t,e,n,r)}function TT(t,e){return I(this,null,function*(){let n=Ce(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=st();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function sj(t,e){let n=Ce(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let g=l.batch,_=g.keys(),w=R.resolve();return _.forEach(A=>{w=w.next(()=>f.getEntry(u,A)).next(P=>{let N=l.docVersions.get(A);He(N!==null),P.version.compareTo(N)<0&&(g.applyToRemoteDocument(P,l),P.isValidDocument()&&(P.setReadTime(l.commitVersion),f.addEntry(P)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=st();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function aj(t){let e=Ce(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function cj(t,e){let n=Ce(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Cd=class{constructor(){this.activeTargetIds=V2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var tv=class{constructor(){this.so=new Cd,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Cd,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var nv=class{_o(e){}shutdown(){}};var Td=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var hd=null;function Xm(){return hd===null?hd=function(){return 268435456+Math.round(2147483648*Math.random())}():hd++,"0x"+hd.toString(16)}var uj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var rv=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var ot="WebChannelConnection",iv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=Xm(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(f=>(U("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw gd("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+hs}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=uj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Xm();return new Promise((s,c)=>{let u=new Wm;u.setWithCredentials(!0),u.listenOnce(Qm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Ka.NO_ERROR:let f=u.getResponseJson();U(ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Ka.TIMEOUT:U(ot,`RPC '${e}' ${o} timed out`),c(new H(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ka.HTTP_ERROR:let g=u.getStatus();if(U(ot,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let w=_?.error;if(w&&w.status&&w.message){let A=function(N){let j=N.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(j)>=0?j:M.UNKNOWN}(w.status);c(new H(A,w.message))}else c(new H(M.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new H(M.UNAVAILABLE,"Connection failed."));break;default:ue()}}finally{U(ot,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(ot,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Xm(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Jm(),c=Zm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Km({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");U(ot,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=s.createWebChannel(f,u),_=!1,w=!1,A=new rv({Io:N=>{w?U(ot,`Not sending because RPC '${e}' stream ${i} is closed:`,N):(_||(U(ot,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),U(ot,`RPC '${e}' stream ${i} sending:`,N),g.send(N))},To:()=>g.close()}),P=(N,j,W)=>{N.listen(j,X=>{try{W(X)}catch(ve){setTimeout(()=>{throw ve},0)}})};return P(g,Ko.EventType.OPEN,()=>{w||(U(ot,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),P(g,Ko.EventType.CLOSE,()=>{w||(w=!0,U(ot,`RPC '${e}' stream ${i} transport closed`),A.So())}),P(g,Ko.EventType.ERROR,N=>{w||(w=!0,gd(ot,`RPC '${e}' stream ${i} transport errored:`,N),A.So(new H(M.UNAVAILABLE,"The operation could not be completed")))}),P(g,Ko.EventType.MESSAGE,N=>{var j;if(!w){let W=N.data[0];He(!!W);let X=W,ve=X.error||((j=X[0])===null||j===void 0?void 0:j.error);if(ve){U(ot,`RPC '${e}' stream ${i} received error:`,ve);let Ke=ve.status,ge=function(y){let E=Pe[y];if(E!==void 0)return G2(E)}(Ke),D=ve.message;ge===void 0&&(ge=M.INTERNAL,D="Unknown error status: "+Ke+" with message "+ve.message),w=!0,A.So(new H(ge,D)),g.close()}else U(ot,`RPC '${e}' stream ${i} received:`,W),A.bo(W)}}),P(c,Ym.STAT_EVENT,N=>{N.stat===ud.PROXY?U(ot,`RPC '${e}' stream ${i} detected buffering proxy`):N.stat===ud.NOPROXY&&U(ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function ey(){return typeof document<"u"?document:null}function Vd(t){return new Ry(t,!0)}var Sd=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ov=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Sd(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===M.RESOURCE_EXHAUSTED?(Mi(n.toString()),Mi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===M.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new H(M.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var sv=class extends ov{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=ej(e.writeResults,e.commitTime),r=Zo(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=Z2(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>X2(this.serializer,r))};this.a_(n)}};var av=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,Py(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(M.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,Py(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(M.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},cv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Mi(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var uv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>I(this,null,function*(){ac(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let l=Ce(u);l.L_.add(4),yield sc(l),l.q_.set("Unknown"),l.L_.delete(4),yield jd(l)})}(this))}))}),this.q_=new cv(r,i)}};function jd(t){return I(this,null,function*(){if(ac(t))for(let e of t.B_)yield e(!0)})}function sc(t){return I(this,null,function*(){for(let e of t.B_)yield e(!1)})}function ac(t){return Ce(t).L_.size===0}function ST(t,e,n){return I(this,null,function*(){if(!Ld(e))throw e;t.L_.add(1),yield sc(t),t.q_.set("Offline"),n||(n=()=>aj(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield jd(t)}))})}function AT(t,e){return e().catch(n=>ST(t,n,e))}function Ud(t){return I(this,null,function*(){let e=Ce(t),n=Pr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;lj(e);)try{let i=yield cj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,dj(e,i)}catch(i){yield ST(e,i)}MT(e)&&xT(e)})}function lj(t){return ac(t)&&t.O_.length<10}function dj(t,e){t.O_.push(e);let n=Pr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function MT(t){return ac(t)&&!Pr(t).n_()&&t.O_.length>0}function xT(t){Pr(t).start()}function hj(t){return I(this,null,function*(){Pr(t).p_()})}function fj(t){return I(this,null,function*(){let e=Pr(t);for(let n of t.O_)e.m_(n.mutations)})}function pj(t,e,n){return I(this,null,function*(){let r=t.O_.shift(),i=My.from(r,e,n);yield AT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Ud(t)})}function gj(t,e){return I(this,null,function*(){e&&Pr(t).V_&&(yield function(r,i){return I(this,null,function*(){if(function(s){return q2(s)&&s!==M.ABORTED}(i.code)){let o=r.O_.shift();Pr(r).s_(),yield AT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Ud(r)}})}(t,e)),MT(t)&&xT(t)})}function GC(t,e){return I(this,null,function*(){let n=Ce(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=ac(n);n.L_.add(3),yield sc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield jd(n)})}function mj(t,e){return I(this,null,function*(){let n=Ce(t);e?(n.L_.delete(2),yield jd(n)):e||(n.L_.add(2),yield sc(n),n.q_.set("Unknown"))})}function Pr(t){return t.U_||(t.U_=function(n,r,i){let o=Ce(n);return o.w_(),new sv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:hj.bind(null,t),mo:gj.bind(null,t),f_:fj.bind(null,t),g_:pj.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.U_.s_(),yield Ud(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var lv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Hn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function RT(t,e){if(Mi("AsyncQueue",`${e}: ${t}`),Ld(t))return new H(M.UNAVAILABLE,`${e}: ${t}`);throw t}var dv=class{constructor(){this.queries=WC(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=Ce(n),o=i.queries;i.queries=WC(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new H(M.ABORTED,"Firestore shutting down"))}};function WC(){return new Nr(t=>fT(t),hT)}function yj(t){t.Y_.forEach(e=>{e.next()})}var KC,QC;(QC=KC||(KC={})).ea="default",QC.Cache="cache";var hv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Nr(c=>fT(c),hT),this.Ma=new Map,this.xa=new Set,this.Oa=new xt(re.comparator),this.Na=new Map,this.La=new ic,this.Ba={},this.ka=new Map,this.qa=rc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function vj(t,e,n){return I(this,null,function*(){let r=Ej(t);try{let i=yield function(s,c){let u=Ce(s),l=at.now(),f=c.reduce((w,A)=>w.add(A.key),st()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=Ed(),P=st();return u.cs.getEntries(w,f).next(N=>{A=N,A.forEach((j,W)=>{W.isValidDocument()||(P=P.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,A)).next(N=>{g=N;let j=[];for(let W of c){let X=z2(W,g.get(W.key).overlayedDocument);X!=null&&j.push(new Gn(W.key,X,sT(X.value.mapValue),Si.exists(!0)))}return u.mutationQueue.addMutationBatch(w,l,j,c)}).next(N=>{_=N;let j=N.applyToLocalDocumentSet(g,P);return u.documentOverlayCache.saveOverlays(w,N.batchId,j)})}).then(()=>({batchId:_.batchId,changes:gT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new xt(De)),l=l.insert(c,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Bd(r,i.changes),yield Ud(r.remoteStore)}catch(i){let o=RT(i,"Failed to persist write");n.reject(o)}})}function YC(t,e,n){let r=Ce(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=Ce(s);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(l=!0)}),l&&yj(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _j(t,e){return I(this,null,function*(){let n=Ce(t),r=e.batch.batchId;try{let i=yield sj(n.localStore,e);PT(n,r,null),NT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Bd(n,i)}catch(i){yield tT(i)}})}function wj(t,e,n){return I(this,null,function*(){let r=Ce(t);try{let i=yield function(s,c){let u=Ce(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(g=>(He(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);PT(r,e,n),NT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Bd(r,i)}catch(i){yield tT(i)}})}function NT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function PT(t,e,n){let r=Ce(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function Bd(t,e,n){return I(this,null,function*(){let r=Ce(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=Zy.Wi(u.targetId,l);o.push(g)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return I(this,null,function*(){let f=Ce(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>R.forEach(l,_=>R.forEach(_.$i,w=>f.persistence.referenceDelegate.addReference(g,_.targetId,w)).next(()=>R.forEach(_.Ui,w=>f.persistence.referenceDelegate.removeReference(g,_.targetId,w)))))}catch(g){if(!Ld(g))throw g;U("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let _=g.targetId;if(!g.fromCache){let w=f.os.get(_),A=w.snapshotVersion,P=w.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,P)}}})}(r.localStore,o))})}function Ij(t,e){return I(this,null,function*(){let n=Ce(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield TT(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new H(M.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Bd(n,r.hs)}})}function Ej(t){let e=Ce(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=_j.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=wj.bind(null,e),e}var Ad=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=Vd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return oj(this.persistence,new Xy,e.initialUser,this.serializer)}createPersistence(e){return new Ky(Yy.Zr,this.serializer)}createSharedClientState(e){return new tv}terminate(){return I(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var fv=class{initialize(e,n){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>YC(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Ij.bind(null,this.syncEngine),yield mj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new dv}()}createDatastore(e){let n=Vd(e.databaseInfo.databaseId),r=function(o){return new iv(o)}(e.databaseInfo);return function(o,s,c,u){return new av(o,s,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,c){return new uv(r,i,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,n=>YC(this.syncEngine,n,0),function(){return Td.D()?new Td:new nv}())}createSyncEngine(e,n){return function(i,o,s,c,u,l,f){let g=new hv(i,o,s,c,u,l);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return I(this,null,function*(){var e,n;yield function(i){return I(this,null,function*(){let o=Ce(i);U("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield sc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var pv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ge.UNAUTHENTICATED,this.clientId=yd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>I(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new H(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Hn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=RT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ty(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield TT(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function ZC(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield bj(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>GC(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>GC(e.remoteStore,i)),t._onlineComponents=e})}function Dj(t){return t.name==="FirebaseError"?t.code===M.FAILED_PRECONDITION||t.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function bj(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ty(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Dj(n))throw n;gd("Error using user provided cache. Falling back to memory cache: "+n),yield ty(t,new Ad)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield ty(t,new Ad);return t._offlineComponents})}function Cj(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield ZC(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield ZC(t,new fv))),t._onlineComponents})}function Tj(t){return Cj(t).then(e=>e.syncEngine)}function OT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var JC=new Map;function kT(t,e,n){if(!n)throw new H(M.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Sj(t,e,n,r){if(e===!0&&r===!0)throw new H(M.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function XC(t){if(!re.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function eT(t){if(re.isDocumentKey(t))throw new H(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Av(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ue()}function FT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Av(t);throw new H(M.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Md=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Sj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=OT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(M.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},ds=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Md({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new H(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new H(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Md(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new ny;switch(r.type){case"firstParty":return new sy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=JC.get(n);r&&(U("ComponentProvider","Removing Datastore"),JC.delete(n),r.terminate())}(this),Promise.resolve()}};function LT(t,e,n,r={}){var i;let o=(t=FT(t,ds))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&gd("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Ge.MOCK_USER;else{c=ib(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new H(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Ge(l)}t._authCredentials=new ry(new md(c,u))}}var gv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},zn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Mr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Mr=class t extends gv{constructor(e,n,r){super(e,n,M2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new zn(this.firestore,null,new re(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function VT(t,e,...n){if(t=vt(t),kT("collection","path",e),t instanceof ds){let r=Fe.fromString(e,...n);return eT(r),new Mr(t,null,r)}{if(!(t instanceof zn||t instanceof Mr))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return eT(r),new Mr(t.firestore,null,r)}}function jT(t,e,...n){if(t=vt(t),arguments.length===1&&(e=yd.newId()),kT("doc","path",e),t instanceof ds){let r=Fe.fromString(e,...n);return XC(r),new zn(t,null,new re(r))}{if(!(t instanceof zn||t instanceof Mr))throw new H(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Fe.fromString(e,...n));return XC(r),new zn(t.firestore,t instanceof Mr?t.converter:null,new re(r))}}var mv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Sd(this,"async_queue_retry"),this.Eu=()=>{let n=ey();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=ey();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=ey();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Hn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return I(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Ld(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw Mi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=lv.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&ue()}verifyOperationInProgress(){}mu(){return I(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var xd=class extends ds{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new mv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||BT(this),this._firestoreClient.terminate()}};function UT(t,e){let n=typeof t=="object"?t:$o(),r=typeof t=="string"?t:e||"(default)",i=La(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=rb("firestore");o&&LT(i,...o)}return i}function Aj(t){return t._firestoreClient||BT(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function BT(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,f){return new hy(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,OT(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new pv(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Rd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(qn.fromBase64String(e))}catch(n){throw new H(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Nd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Pd=class{constructor(e){this._methodName=e}};var Od=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return De(this._lat,e._lat)||De(this._long,e._long)}};var kd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Mj=/^__.*__$/,yv=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Gn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Pi(e,this.data,n,this.fieldTransforms)}};function $T(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ue()}}var vv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Fd(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if($T(this.wu)&&Mj.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},_v=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Vd(e)}Nu(e,n,r,i=!1){return new vv({wu:e,methodName:n,Ou:r,path:Mt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function xj(t){let e=t._freezeSettings(),n=Vd(t._databaseId);return new _v(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Rj(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);GT("Data must be an object, but it was:",s,r);let c=zT(r,s),u,l;if(o.merge)u=new gn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let g of o.mergeFields){let _=Nj(e,g,n);if(!s.contains(_))throw new H(M.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);kj(f,_)||f.push(_)}u=new gn(f),l=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=s.fieldTransforms;return new yv(new pn(c),u,l)}function HT(t,e){if(qT(t=vt(t)))return GT("Unsupported field value:",e,t),zT(t,e);if(t instanceof Pd)return function(r,i){if(!$T(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=HT(c,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=vt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return j2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=at.fromDate(r);return{timestampValue:Ny(i.serializer,o)}}if(r instanceof at){let o=new at(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ny(i.serializer,o)}}if(r instanceof Od)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Rd)return{bytesValue:W2(i.serializer,r._byteString)};if(r instanceof zn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:bT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof kd)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return Sv(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${Av(r)}`)}(t,e)}function zT(t,e){let n={};return nT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):oc(t,(r,i)=>{let o=HT(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function qT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof at||t instanceof Od||t instanceof Rd||t instanceof zn||t instanceof Pd||t instanceof kd)}function GT(t,e,n){if(!qT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Av(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Nj(t,e,n){if((e=vt(e))instanceof Nd)return e._internalPath;if(typeof e=="string")return Oj(t,e);throw Fd("Field path arguments must be of type string or ",t,!1,void 0,n)}var Pj=new RegExp("[~\\*/\\[\\]]");function Oj(t,e,n){if(e.search(Pj)>=0)throw Fd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Nd(...e.split("."))._internalPath}catch{throw Fd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Fd(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(M.INVALID_ARGUMENT,c+t+u)}function kj(t,e){return t.some(n=>n.isEqual(e))}function Fj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function WT(t,e){let n=FT(t.firestore,xd),r=jT(t),i=Fj(t.converter,e);return Lj(n,[Rj(xj(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Si.exists(!1))]).then(()=>r)}function Lj(t,e){return function(r,i){let o=new Hn;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return vj(yield Tj(r),i,o)})),o.promise}(Aj(t),e)}(function(e,n=!0){(function(i){hs=i})(br),Dr(new Ut("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new xd(new iy(r.getProvider("auth-internal")),new cy(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new H(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fy(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),$e(PC,"4.7.2",e),$e(PC,"4.7.2","esm2017")})();var Wn=class{constructor(e){return e}},KT="firestore",Mv=class{constructor(){return Va(KT)}};var xv=new $("angularfire2.firestore-instances");function Vj(t,e){let n=$l(KT,t,e);return n&&new Wn(n)}function jj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Wn(r)}}var Uj={provide:Mv,deps:[[new ft,xv]]},Bj={provide:Wn,useFactory:Vj,deps:[[new ft,xv],Ln]};function QT(t,...e){return $e("angularfire",_i.full,"fst"),sn([Bj,Uj,{provide:xv,useFactory:jj(t),multi:!0,deps:[we,yt,qo,wi,[new ft,Wa],[new ft,zo],...e]}])}var $d=ln(WT,!0);var Hd=ln(VT,!0);var YT=ln(UT,!0);var $j=()=>["/yo"],Hj=()=>["/registro"],zd=class t{constructor(e,n,r){this.firestore=e;this.router=n;this.auth=r}loginsCollection=[];userMail="";userPass="";mensajeError="";loggedUser="";LogIn(){return I(this,null,function*(){if(!this.userMail||!this.userPass){this.mensajeError="Por favor completa los campos.";return}AC(this.auth,this.userMail,this.userPass).then(e=>{this.router.navigate(["/home"]);let n=Hd(this.firestore,"logins");return $d(n,{fecha:new Date,email:this.userMail})}).then(()=>{console.log("Registro de inicio de sesi\xF3n guardado en Firestore.")}).catch(e=>{switch(e.code){case"auth/invalid-email":this.mensajeError="Email inv\xE1lido";break;case"auth/invalid-credential":this.mensajeError="Contrase\xF1a incorrecta";break;case"auth/user-not-found":this.mensajeError="Usuario no encontrado";break;case"auth/missing-password":this.mensajeError="Faltan completar campos";break;default:this.mensajeError="Ocurri\xF3 un error: "+e.message;break}})})}AutoComplete(){this.userMail="sofiadorbe@gmail.com",this.userPass="hola123"}static \u0275fac=function(n){return new(n||t)(Y(Wn),Y(gi),Y(Bn))};static \u0275cmp=nt({type:t,selectors:[["app-login"]],standalone:!0,features:[it],decls:51,vars:7,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","author","content","Yinka Enoch Adedokun"],[1,"container"],[1,"navbar"],["href","#"],[3,"routerLink"],[1,"container-fluid"],[1,"row","main-content","bg-success","text-center"],[1,"col-md-4","text-center","company__info"],[1,"company__logo"],[1,"fa","fa-android"],[1,"col-md-8","col-xs-12","col-sm-12","login_form"],[1,"row"],["control","",1,"form-group"],["type","text","name","username","id","username","placeholder","Username",1,"form__input",3,"ngModelChange","ngModel"],["type","password","name","password","id","password","placeholder","Password",1,"form__input",3,"ngModelChange","ngModel"],[1,"error-mensaje"],["type","button","value","JUGAR!",1,"btn",3,"click"],["type","button","value","Autocompletar",1,"btn",3,"click"],[1,"container-fluid","text-center","footer"]],template:function(n,r){n&1&&(x(0,"head"),ye(1,"meta",0)(2,"meta",1)(3,"meta",2),x(4,"title"),V(5,"Login Page"),k()(),x(6,"body")(7,"div",3)(8,"nav",4)(9,"ul")(10,"li")(11,"a",5),V(12,"Home"),k()(),x(13,"li")(14,"a",5),V(15,"Chat"),k()(),x(16,"li")(17,"a",6),V(18,"Sobre Mi"),k()(),x(19,"li")(20,"a",5),V(21,"Log Out"),k()()()()(),x(22,"div",7)(23,"div",8)(24,"div",9)(25,"span",10)(26,"h2"),ye(27,"span",11),k()()(),x(28,"div",12)(29,"div",7)(30,"div",13)(31,"h2"),V(32,"Log In"),k()(),x(33,"div",13)(34,"form",14)(35,"div",13)(36,"input",15),vr("ngModelChange",function(o){return ii(r.userMail,o)||(r.userMail=o),o}),k()(),x(37,"div",13)(38,"input",16),vr("ngModelChange",function(o){return ii(r.userPass,o)||(r.userPass=o),o}),k()(),x(39,"div",13)(40,"p",17),V(41),k(),x(42,"input",18),Be("click",function(){return r.LogIn()}),k(),x(43,"input",19),Be("click",function(){return r.AutoComplete()}),k()()()(),x(44,"div",13)(45,"p"),V(46,"No tienes una cuenta? "),x(47,"a",6),V(48,"Reg\xEDstrate aqu\xED"),k()()()()()()(),x(49,"div",20),V(50," Coded with \u2665 by Sofia Dorbessan "),k()()),n&2&&(Z(17),pe("routerLink",Lt(5,$j)),Z(19),yr("ngModel",r.userMail),Z(2),yr("ngModel",r.userPass),Z(3),ri(r.mensajeError),Z(6),pe("routerLink",Lt(6,Hj)))},dependencies:[cn,Ct,kl,Ol,jo,Rl,Nl,Na,Ra],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;background-color:#000;height:100%;overflow:hidden}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.container-fluid[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{margin:0;padding:0}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 300px 10px 20px;position:fixed;width:100%;display:flex;justify-content:center}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:25px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.main-content[_ngcontent-%COMP%]{width:50%;border-radius:20px;box-shadow:0 5px 5px #0006;margin:7em auto 2.5em;display:flex;background-color:#fff;overflow:hidden}.company__info[_ngcontent-%COMP%]{background-image:url(https://i.pinimg.com/736x/dc/19/53/dc1953322fa3946096ff13800e2de799.jpg);display:flex;flex-direction:column;justify-content:center;background-size:cover;height:60vh;background-position:center}.fa-android[_ngcontent-%COMP%]{font-size:3em}@media screen and (max-width: 640px){.main-content[_ngcontent-%COMP%]{width:90%}.company__info[_ngcontent-%COMP%]{display:none}.login_form[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px}}@media screen and (min-width: 642px) and (max-width:800px){.main-content[_ngcontent-%COMP%]{width:70%}}.row[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#fff;font-size:60px;font-weight:700;text-shadow:2px 2px 0px #e5ff00,-2px 2px 0px #e5ff00,2px -2px 0px #e5ff00,-2px -2px 0px #e5ff00}.login_form[_ngcontent-%COMP%]{background-color:#fff;border-top-right-radius:20px;border-bottom-right-radius:20px;border-top:1px solid #ccc;border-right:1px solid #ccc}form[_ngcontent-%COMP%]{padding:0 2em}.form__input[_ngcontent-%COMP%]{width:100%;border:0px solid transparent;border-radius:0;border-bottom:1px solid #aaa;padding:1em .5em .5em 2em;outline:none;margin:1.5em auto;transition:all .5s ease}.form__input[_ngcontent-%COMP%]:focus{border-bottom-color:#dee81f;box-shadow:0 0 5px #07070766;border-radius:4px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.btn[_ngcontent-%COMP%]{transition:all .5s ease;width:40%;border-radius:30px;color:#dee81f;font-weight:600;background-color:#fff;border:1px solid #dee81f;margin-top:1.5em;margin-bottom:1em;text-align:center}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{background-color:#dee81f;color:#fff}.footer[_ngcontent-%COMP%]{text-align:center;padding:10px 0;color:#fff;background-color:#000;margin-top:6em}.error-mensaje[_ngcontent-%COMP%]{color:red}"]})};var zj=()=>["/login"],qj=()=>["/"],JT="*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;margin:0;padding:0;background:#f4f4f4;text-align:center}header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-start;height:100vh;background:#333;color:#fff;padding-top:100px}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center;z-index:1000}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:25px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;text-align:left}.bio[_ngcontent-%COMP%]{margin-left:20px;padding:20px;border-radius:8px;max-width:500px;text-align:left;margin-top:110px}.mi-foto[_ngcontent-%COMP%]{width:200px;height:auto;border-radius:10%;margin-top:120px}.bio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:18px;line-height:1.8}.game-section[_ngcontent-%COMP%]{margin-top:50px;padding:20px;border-radius:8px;max-width:500px;text-align:left}.game-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px}.game-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;margin-left:20px;text-align:left}.game-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;line-height:1.8}footer[_ngcontent-%COMP%]{background:#333;color:#fff;text-align:center;position:fixed;bottom:0;width:100%;display:flex;justify-content:space-between;align-items:center;padding:10px 40px}.social-media-footer[_ngcontent-%COMP%]{display:flex;justify-content:flex-end}.social-logo[_ngcontent-%COMP%]{width:20px;height:20px;margin-left:15px}.social-logo[_ngcontent-%COMP%]{width:50px;height:50px;margin-left:20px}",qd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-yo"]],standalone:!0,features:[it],decls:51,vars:4,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"header-content"],["src","yo.png","alt","Sofia Dorbessan",1,"mi-foto"],[1,"bio"],[1,"game-section"],[1,"game-description"],[1,"social-media-footer"],["href","https://www.linkedin.com/in/sofia-dorbessan-24a669210/","target","_blank"],["src","linkedin.png","alt","LinkedIn",1,"social-logo"],["href","https://github.com/sofidor","target","_blank"],["src","github.png","alt","GitHub",1,"social-logo"]],template:function(n,r){n&1&&(x(0,"html",0)(1,"head"),ye(2,"meta",1)(3,"meta",2),x(4,"title"),V(5,"Sobre M\xED - Sofia Dorbessan"),k()(),x(6,"body")(7,"div",3)(8,"nav",4)(9,"ul")(10,"li")(11,"a",5),V(12,"Log in"),k()(),x(13,"li")(14,"a",6),V(15,"Chat"),k()(),x(16,"li")(17,"a",5),V(18,"Home"),k()(),x(19,"li")(20,"a",6),V(21,"Log Out"),k()()()()(),x(22,"header")(23,"div",7),ye(24,"img",8),x(25,"div",9)(26,"h2"),V(27,"Sofia Dorbessan"),k(),x(28,"p"),V(29,"Soy estudiante de la Tecnicatura Universitaria en Programacion en la UTN (Universidad Tecnologica Nacional). Donde aprendi diferentes lenguaje como: C , C++ , Java Scrip , Python , PHP ,HTML, CSS, entre otros."),k()()(),x(30,"div",10)(31,"h2"),V(32,"Mi Juego - Pacman"),k(),x(33,"div",11)(34,"p"),V(35,"Pacman es un juego de arcade cl\xE1sico lanzado en 1980. El objetivo del juego es controlar a Pacman, una figura circular amarilla, y moverlo a trav\xE9s de un laberinto comiendo todos los puntos mientras se evitan los fantasmas. Si un fantasma toca a Pacman, perder\xE1s una vida."),k(),x(36,"h3"),V(37,"C\xF3mo jugar Pacman"),k(),x(38,"ul")(39,"li"),V(40,"Usa las teclas de flechas para mover a Pacman por el laberinto."),k(),x(41,"li"),V(42,"Colecciona todos los puntos peque\xF1os para avanzar de nivel."),k(),x(43,"li"),V(44,"Evita a los fantasmas: si te tocan, perder\xE1s una vida."),k()()()()(),x(45,"footer")(46,"div",12)(47,"a",13),ye(48,"img",14),k(),x(49,"a",15),ye(50,"img",16),k()()()()()),n&2&&(Z(11),pe("routerLink",Lt(2,zj)),Z(6),pe("routerLink",Lt(3,qj)))},dependencies:[cn,Ct],styles:[JT,JT]})};function Gj(t,e){if(t&1&&ye(0,"div",5),t&2){let n=e.$implicit,r=e.index,i=Dt().index,o=Dt();pe("ngClass",o.getCellClass(n,i,r))}}function Wj(t,e){if(t&1&&(x(0,"div"),Qt(1,Gj,1,1,"div",4),k()),t&2){let n=e.$implicit;Z(),pe("ngForOf",n)}}var Gd=class t{board=[];pacmanPosition={x:1,y:1};ghostPositions=[{x:9,y:9},{x:11,y:9},{x:13,y:9}];ngOnInit(){this.initializeBoard()}initializeBoard(){this.board=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,2,2,1],[1,2,1,2,2,2,2,2,1,2,1,2,2,2,2,2,1,2,2,1],[1,2,1,2,1,1,1,2,1,2,1,2,1,1,1,2,1,2,2,1],[1,2,1,2,1,2,1,2,2,2,2,2,1,2,1,2,1,2,2,1],[1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,2,1,2,2,1],[1,2,2,2,2,2,1,2,1,2,2,2,1,2,2,2,2,2,2,1],[1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1],[1,2,2,2,2,2,1,2,2,2,2,2,1,2,2,2,2,2,2,1],[1,2,1,1,1,2,1,2,1,1,1,2,1,2,1,1,1,2,1,1],[1,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,1],[1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]}movePacman(e,n){let r=this.pacmanPosition.x+e,i=this.pacmanPosition.y+n;r>=0&&r<this.board[0].length&&i>=0&&i<this.board.length&&this.board[i][r]!==1&&(this.pacmanPosition={x:r,y:i},this.board[i][r]===2&&(this.board[i][r]=0))}handleKeyDown(e){switch(e.key){case"ArrowUp":this.movePacman(-1,0);break;case"ArrowDown":this.movePacman(1,0);break;case"ArrowLeft":this.movePacman(0,-1);break;case"ArrowRight":this.movePacman(0,1);break}}getCellClass(e,n,r){if(n===this.pacmanPosition.y&&r===this.pacmanPosition.x)return"pacman";for(let i of this.ghostPositions)if(n===i.y&&r===i.x)return"ghost";return e===0?"coin":e===1?"wall":"path"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-pacman"]],hostBindings:function(n,r){n&1&&Be("keydown",function(o){return r.handleKeyDown(o)},!1,ME)},standalone:!0,features:[it],decls:7,vars:1,consts:[[1,"game-board"],[4,"ngFor","ngForOf"],["routerLink","/login",1,"btn","btn-primary"],["routerLink","/home",1,"btnHome"],["class","cell",3,"ngClass",4,"ngFor","ngForOf"],[1,"cell",3,"ngClass"]],template:function(n,r){n&1&&(x(0,"body")(1,"div",0),Qt(2,Wj,2,1,"div",1),k(),x(3,"button",2),V(4,"SALIR"),k(),x(5,"button",3),V(6,"HOME"),k()()),n&2&&(Z(2),pe("ngForOf",r.board))},dependencies:[cn,Ct,F0,il],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;width:100%;display:flex;justify-content:center;align-items:center;background-color:#000;overflow:hidden}.game-board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(20,1fr);grid-template-rows:repeat(20,1fr);width:min(100vw,100vh);height:min(100vw,100vh);gap:2px;background-color:#000;margin-top:20PX}.cell[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.wall[_ngcontent-%COMP%]{background-color:#00f}.path[_ngcontent-%COMP%]{background-color:#000;position:relative}.path[_ngcontent-%COMP%]:after{content:"";display:block;background-color:gold;width:30%;height:30%;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.pacman[_ngcontent-%COMP%]{background-color:#ff0;border-radius:50%}.ghost[_ngcontent-%COMP%]{background-color:red;border-radius:50%}.btn[_ngcontent-%COMP%]{position:absolute;top:20px;right:20px;background-color:#d7f10f;color:#0f0e0e;padding:10px 20px;border:none;border-radius:5px;font-size:20px;cursor:pointer}.btn[_ngcontent-%COMP%]:hover{background-color:#7d8553}.btnHome[_ngcontent-%COMP%]{position:absolute;top:90px;right:20px;background-color:#d7f10f;color:#0f0e0e;padding:10px 20px;border:none;border-radius:5px;font-size:20px;cursor:pointer}']})};var Kj=()=>["/login"],Qj=()=>["/yo"],Wd=class t{constructor(e,n,r){this.auth=e;this.firestore=n;this.router=r}newUserMail="";newUsername="";newUserPass="";newUserRepeatPass="";msjError="";Register(){if(this.newUserPass.length<6){this.msjError="La contrase\xF1a debe tener al menos 6 caracteres";return}this.newUserPass===this.newUserRepeatPass?TC(this.auth,this.newUserMail,this.newUserPass).then(e=>{console.log("Usuario creado correctamente");let n=Hd(this.firestore,"users");$d(n,{fecha:new Date,email:this.newUserMail}).then(()=>{this.router.navigate(["/home"])}).catch(r=>{this.msjError="Error al agregar usuario a la base de datos",console.error("Error al agregar documento:",r)})}).catch(e=>{switch(e.code){case"auth/invalid-email":this.msjError="Email inv\xE1lido";break;case"auth/email-already-in-use":this.msjError="Email ya en uso";break;case"auth/missing-password":this.msjError="Faltan completar campos";break;case"auth/weak-password":this.msjError="La contrase\xF1a es demasiado d\xE9bil";break;default:this.msjError="Ocurri\xF3 un error";break}}):this.msjError="Las contrase\xF1as no coinciden"}static \u0275fac=function(n){return new(n||t)(Y(Bn),Y(Wn),Y(gi))};static \u0275cmp=nt({type:t,selectors:[["app-registro"]],standalone:!0,features:[it],decls:48,vars:8,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","author","content","Yinka Enoch Adedokun"],[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"container-fluid"],[1,"row","main-content","bg-success","text-center"],[1,"col-md-4","text-center","company__info"],[1,"company__logo"],[1,"fa","fa-android"],[1,"col-md-8","col-xs-12","col-sm-12","login_form"],[1,"row"],["control","",1,"form-group"],["type","text","name","username","id","username","placeholder","Email",1,"form__input",3,"ngModelChange","ngModel"],["type","password","name","password","id","password","placeholder","Contrase\xF1a",1,"form__input",3,"ngModelChange","ngModel"],["type","password","name","repeatpassword","id","repeatpassword","placeholder","Repita la contrase\xF1a",1,"form__input",3,"ngModelChange","ngModel"],["type","button",1,"btn",3,"click"],[1,"error-mensaje"],[1,"container-fluid","text-center","footer"]],template:function(n,r){n&1&&(x(0,"head"),ye(1,"meta",0)(2,"meta",1)(3,"meta",2),x(4,"title"),V(5,"Registrarme"),k()(),x(6,"body")(7,"div",3)(8,"nav",4)(9,"ul")(10,"li")(11,"a",5),V(12,"Log in"),k()(),x(13,"li")(14,"a",6),V(15,"Chat"),k()(),x(16,"li")(17,"a",5),V(18,"Sobre Mi"),k()(),x(19,"li")(20,"a",6),V(21,"Log Out"),k()()()()(),x(22,"div",7)(23,"div",8)(24,"div",9)(25,"span",10)(26,"h2"),ye(27,"span",11),k()()(),x(28,"div",12)(29,"div",7)(30,"div",13)(31,"h2"),V(32,"Registrate"),k()(),x(33,"div",13)(34,"form",14)(35,"div",13)(36,"input",15),vr("ngModelChange",function(o){return ii(r.newUserMail,o)||(r.newUserMail=o),o}),k()(),x(37,"div",13)(38,"input",16),vr("ngModelChange",function(o){return ii(r.newUserPass,o)||(r.newUserPass=o),o}),k()(),x(39,"div",13)(40,"input",17),vr("ngModelChange",function(o){return ii(r.newUserRepeatPass,o)||(r.newUserRepeatPass=o),o}),k()(),x(41,"div",13)(42,"button",18),Be("click",function(){return r.Register()}),V(43,"Registrarme!"),k(),x(44,"p",19),V(45),k()()()()()()()(),x(46,"div",20),V(47," Coded with \u2665 by Sofia Dorbessan "),k()()),n&2&&(Z(11),pe("routerLink",Lt(6,Kj)),Z(6),pe("routerLink",Lt(7,Qj)),Z(19),yr("ngModel",r.newUserMail),Z(2),yr("ngModel",r.newUserPass),Z(2),yr("ngModel",r.newUserRepeatPass),Z(5),ri(r.msjError))},dependencies:[cn,Ct,kl,Ol,jo,Rl,Nl,Na,Ra],styles:[".container-fluid[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;background-color:#000;height:100%;overflow:hidden}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:25px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.main-content[_ngcontent-%COMP%]{width:50%;border-radius:20px;box-shadow:0 5px 5px #0006;margin:7em auto 2.5em;display:flex;background-color:#fff;overflow:hidden}.company__info[_ngcontent-%COMP%]{background-image:url(https://i.pinimg.com/736x/dc/19/53/dc1953322fa3946096ff13800e2de799.jpg);display:flex;flex-direction:column;justify-content:center;background-size:cover;height:60vh;background-position:center}.fa-android[_ngcontent-%COMP%]{font-size:3em}@media screen and (max-width: 640px){.main-content[_ngcontent-%COMP%]{width:90%}.company__info[_ngcontent-%COMP%]{display:none}.login_form[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px}}@media screen and (min-width: 642px) and (max-width:800px){.main-content[_ngcontent-%COMP%]{width:70%}}.row[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#fff;font-size:60px;font-weight:700;text-shadow:2px 2px 0px #e5ff00,-2px 2px 0px #e5ff00,2px -2px 0px #e5ff00,-2px -2px 0px #e5ff00}.login_form[_ngcontent-%COMP%]{background-color:#fff;border-top-right-radius:20px;border-bottom-right-radius:20px;border-top:1px solid #ccc;border-right:1px solid #ccc}form[_ngcontent-%COMP%]{padding:0 2em}.form__input[_ngcontent-%COMP%]{width:100%;border:0px solid transparent;border-radius:0;border-bottom:1px solid #aaa;padding:1em .5em .5em 2em;outline:none;margin:1.5em auto;transition:all .5s ease}.form__input[_ngcontent-%COMP%]:focus{border-bottom-color:#dee81f;box-shadow:0 0 5px #07070766;border-radius:4px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.btn[_ngcontent-%COMP%]{transition:all .5s ease;width:40%;border-radius:30px;color:#dee81f;font-weight:600;background-color:#fff;border:1px solid #dee81f;text-align:center}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{background-color:#dee81f;color:#fff}.footer[_ngcontent-%COMP%]{text-align:center;padding:10px 0;color:#fff;background-color:#000;margin-top:6em}.error-mensaje[_ngcontent-%COMP%]{color:red}"]})};function Yj(t,e){if(t&1&&(x(0,"span"),V(1),k()),t&2){let n=e.$implicit;Z(),mr(" ",n," ")}}function Zj(t,e){t&1&&(hr(),ye(0,"circle",18))}function Jj(t,e){t&1&&(hr(),ye(0,"line",19))}function Xj(t,e){t&1&&(hr(),ye(0,"line",20))}function eU(t,e){t&1&&(hr(),ye(0,"line",21))}function tU(t,e){t&1&&(hr(),ye(0,"line",22))}function nU(t,e){t&1&&(hr(),ye(0,"line",23))}function rU(t,e){if(t&1){let n=Do();x(0,"button",24),Be("click",function(){let i=vo(n).$implicit,o=Dt();return _o(o.intentarLetra(i))}),V(1),k()}if(t&2){let n=e.$implicit,r=Dt();pe("disabled",r.letrasIntentadas.includes(n)),Z(),mr(" ",n," ")}}function iU(t,e){if(t&1){let n=Do();x(0,"button",24),Be("click",function(){let i=vo(n).$implicit,o=Dt();return _o(o.intentarLetra(i))}),V(1),k()}if(t&2){let n=e.$implicit,r=Dt();pe("disabled",r.letrasIntentadas.includes(n)),Z(),mr(" ",n," ")}}function oU(t,e){if(t&1){let n=Do();x(0,"button",24),Be("click",function(){let i=vo(n).$implicit,o=Dt();return _o(o.intentarLetra(i))}),V(1),k()}if(t&2){let n=e.$implicit,r=Dt();pe("disabled",r.letrasIntentadas.includes(n)),Z(),mr(" ",n," ")}}function sU(t,e){if(t&1){let n=Do();x(0,"div")(1,"p",25),V(2,"\xA1Felicitaciones! Has adivinado la palabra."),k(),x(3,"button",26),Be("click",function(){vo(n);let i=Dt();return _o(i.reiniciarJuego())}),V(4,"Volver a Jugar"),k()()}}function aU(t,e){if(t&1){let n=Do();x(0,"div")(1,"p",25),V(2,"Lo siento, has perdido. La palabra era: "),x(3,"strong"),V(4),k()(),x(5,"button",26),Be("click",function(){vo(n);let i=Dt();return _o(i.reiniciarJuego())}),V(6,"Volver a Jugar"),k()()}if(t&2){let n=Dt();Z(4),ri(n.palabra)}}var Kd=class t{palabras=["ANGULAR","PROGRAMACION","ELEFANTE","DESARROLLO","HELADO","MIEDO","DEDOS","CELULAR","BICICLETA","NUMEROS","CARAMELOS","DULCE"];palabra="";alfabeto="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");letrasIntentadas=[];intentosRestantes=6;palabraMostrada=[];ganaste=!1;perdiste=!1;ngOnInit(){this.inicializarJuego()}inicializarJuego(){this.seleccionarPalabraAleatoria(),this.palabraMostrada=Array(this.palabra.length).fill("_"),this.letrasIntentadas=[],this.intentosRestantes=6,this.ganaste=!1,this.perdiste=!1}seleccionarPalabraAleatoria(){let e=Math.floor(Math.random()*this.palabras.length);this.palabra=this.palabras[e]}intentarLetra(e){this.letrasIntentadas.push(e),this.palabra.includes(e)?this.actualizarPalabraMostrada(e):this.intentosRestantes--,this.intentosRestantes===0&&(this.perdiste=!0),this.palabraMostrada.includes("_")||(this.ganaste=!0)}actualizarPalabraMostrada(e){for(let n=0;n<this.palabra.length;n++)this.palabra[n]===e&&(this.palabraMostrada[n]=e)}reiniciarJuego(){this.inicializarJuego()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-ahorcado"]],standalone:!0,features:[it],decls:29,vars:13,consts:[[1,"container"],[4,"ngFor","ngForOf"],[1,"ahorcado-dibujo"],["width","200","height","250"],["x1","10","y1","230","x2","150","y2","230","stroke","black","stroke-width","5"],["x1","80","y1","230","x2","80","y2","30","stroke","black","stroke-width","5"],["x1","80","y1","30","x2","150","y2","30","stroke","black","stroke-width","5"],["x1","150","y1","30","x2","150","y2","50","stroke","black","stroke-width","5"],["cx","150","cy","70","r","20","stroke","black","stroke-width","5","fill","none",4,"ngIf"],["x1","150","y1","90","x2","150","y2","150","stroke","black","stroke-width","5",4,"ngIf"],["x1","150","y1","110","x2","120","y2","130","stroke","black","stroke-width","5",4,"ngIf"],["x1","150","y1","110","x2","180","y2","130","stroke","black","stroke-width","5",4,"ngIf"],["x1","150","y1","150","x2","120","y2","180","stroke","black","stroke-width","5",4,"ngIf"],["x1","150","y1","150","x2","180","y2","180","stroke","black","stroke-width","5",4,"ngIf"],[1,"botones-letras"],[1,"fila-teclado"],[3,"disabled","click",4,"ngFor","ngForOf"],[4,"ngIf"],["cx","150","cy","70","r","20","stroke","black","stroke-width","5","fill","none"],["x1","150","y1","90","x2","150","y2","150","stroke","black","stroke-width","5"],["x1","150","y1","110","x2","120","y2","130","stroke","black","stroke-width","5"],["x1","150","y1","110","x2","180","y2","130","stroke","black","stroke-width","5"],["x1","150","y1","150","x2","120","y2","180","stroke","black","stroke-width","5"],["x1","150","y1","150","x2","180","y2","180","stroke","black","stroke-width","5"],[3,"click","disabled"],[1,"btn-p"],[1,"btn",3,"click"]],template:function(n,r){n&1&&(x(0,"div",0)(1,"h1"),V(2,"Juego del Ahorcado"),k(),x(3,"p"),V(4," Palabra: "),Qt(5,Yj,2,1,"span",1),k(),x(6,"div",2),hr(),x(7,"svg",3),ye(8,"line",4)(9,"line",5)(10,"line",6)(11,"line",7),Qt(12,Zj,1,0,"circle",8)(13,Jj,1,0,"line",9)(14,Xj,1,0,"line",10)(15,eU,1,0,"line",11)(16,tU,1,0,"line",12)(17,nU,1,0,"line",13),k()(),nE(),x(18,"div",14)(19,"div",15),Qt(20,rU,2,2,"button",16),k(),x(21,"div",15),Qt(22,iU,2,2,"button",16),k(),x(23,"div",15),Qt(24,oU,2,2,"button",16),k(),x(25,"p"),V(26),k(),Qt(27,sU,5,0,"div",17)(28,aU,7,1,"div",17),k()()),n&2&&(Z(5),pe("ngForOf",r.palabraMostrada),Z(7),pe("ngIf",r.intentosRestantes<=5),Z(),pe("ngIf",r.intentosRestantes<=4),Z(),pe("ngIf",r.intentosRestantes<=3),Z(),pe("ngIf",r.intentosRestantes<=2),Z(),pe("ngIf",r.intentosRestantes<=1),Z(),pe("ngIf",r.intentosRestantes===0),Z(3),pe("ngForOf",r.alfabeto.slice(0,10)),Z(2),pe("ngForOf",r.alfabeto.slice(10,19)),Z(2),pe("ngForOf",r.alfabeto.slice(19)),Z(2),mr("Oportunidades restantes: ",r.intentosRestantes,""),Z(),pe("ngIf",r.ganaste),Z(),pe("ngIf",r.perdiste))},dependencies:[Ct,il,L0],styles:[".container[_ngcontent-%COMP%]{text-align:center;font-family:Arial,sans-serif}.palabraMostrada[_ngcontent-%COMP%]{font-size:24px;margin-bottom:20px}.botones-letras[_ngcontent-%COMP%]{margin:20px 0;display:inline-block}.fila-teclado[_ngcontent-%COMP%]{margin-bottom:10px}p[_ngcontent-%COMP%]{font-size:30px}button[_ngcontent-%COMP%]{margin:5px;padding:10px;font-size:30px;width:70px;height:70px;border-radius:5px;border:1px solid #ccc;cursor:pointer}.btn[_ngcontent-%COMP%]{margin:5px;padding:10px;font-size:30px;width:100px;height:70px;border-radius:5px;border:1px solid #f97272;cursor:pointer;font-size:10px}button[_ngcontent-%COMP%]:disabled{background-color:#ddd;cursor:not-allowed}button.reiniciar[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;font-size:20px;padding:12px 24px;border:none;border-radius:8px;cursor:pointer;transition:background-color .3s ease}button.reiniciar[_ngcontent-%COMP%]:hover{background-color:#45a049}button.reiniciar[_ngcontent-%COMP%]:active{background-color:#3e8e41}"]})};var XT=[{path:"login",component:zd},{path:"home",component:Dl},{path:"registro",component:Wd},{path:"yo",component:qd},{path:"pacman",component:Gd},{path:"ahorcado",component:Kd},{path:"",redirectTo:"/login",pathMatch:"full"}];var eS={providers:[w0({eventCoalescing:!0}),MD(XT),Ab(()=>Mb({projectId:"salajuegos-4ae7b",appId:"1:503761293861:web:ab3251c9869b57c5df25cc",storageBucket:"salajuegos-4ae7b.appspot.com",apiKey:"AIzaSyA4ILBSXBbhBV67ikiunUgSE08pFJX5aMc",authDomain:"salajuegos-4ae7b.firebaseapp.com",messagingSenderId:"503761293861"})),CC(()=>SC()),QT(()=>YT())]};var Qd=class t{title="ejercicio1";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-root"]],standalone:!0,features:[it],decls:1,vars:0,template:function(n,r){n&1&&ye(0,"router-outlet")},dependencies:[Tg]})};G0(Qd,eS).catch(t=>console.error(t));
