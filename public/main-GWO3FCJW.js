var bx=Object.defineProperty,Dx=Object.defineProperties;var Tx=Object.getOwnPropertyDescriptors;var MI=Object.getOwnPropertySymbols,Sx=Object.getPrototypeOf,Ax=Object.prototype.hasOwnProperty,Mx=Object.prototype.propertyIsEnumerable,xx=Reflect.get;var xI=(t,e,n)=>e in t?bx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})Ax.call(e,n)&&xI(t,n,e[n]);if(MI)for(var n of MI(e))Mx.call(e,n)&&xI(t,n,e[n]);return t},ue=(t,e)=>Dx(t,Tx(e));var Cr=(t,e,n)=>xx(Sx(t),n,e);var I=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{a(n.next(u))}catch(l){i(l)}},s=u=>{try{a(n.throw(u))}catch(l){i(l)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((n=n.apply(t,e)).next())});function RI(t,e){return Object.is(t,e)}var Qe=null,yu=!1,vu=1,zn=Symbol("SIGNAL");function _e(t){let e=Qe;return Qe=t,e}function NI(){return Qe}var ya={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Uf(t){if(yu)throw new Error("");if(Qe===null)return;Qe.consumerOnSignalRead(t);let e=Qe.nextProducerIndex++;if(Eu(Qe),e<Qe.producerNode.length&&Qe.producerNode[e]!==t&&ma(Qe)){let n=Qe.producerNode[e];Iu(n,Qe.producerIndexOfThis[e])}Qe.producerNode[e]!==t&&(Qe.producerNode[e]=t,Qe.producerIndexOfThis[e]=ma(Qe)?FI(t,Qe,e):0),Qe.producerLastReadVersion[e]=t.version}function Rx(){vu++}function PI(t){if(!(ma(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===vu)){if(!t.producerMustRecompute(t)&&!$f(t)){t.dirty=!1,t.lastCleanEpoch=vu;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=vu}}function OI(t){if(t.liveConsumerNode===void 0)return;let e=yu;yu=!0;try{for(let n of t.liveConsumerNode)n.dirty||Nx(n)}finally{yu=e}}function kI(){return Qe?.consumerAllowSignalWrites!==!1}function Nx(t){t.dirty=!0,OI(t),t.consumerMarkedDirty?.(t)}function wu(t){return t&&(t.nextProducerIndex=0),_e(t)}function Bf(t,e){if(_e(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(ma(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Iu(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function $f(t){Eu(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(PI(n),r!==n.version))return!0}return!1}function Hf(t){if(Eu(t),ma(t))for(let e=0;e<t.producerNode.length;e++)Iu(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function FI(t,e,n){if(LI(t),t.liveConsumerNode.length===0&&VI(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=FI(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Iu(t,e){if(LI(t),t.liveConsumerNode.length===1&&VI(t))for(let r=0;r<t.producerNode.length;r++)Iu(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Eu(i),i.producerIndexOfThis[r]=e}}function ma(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Eu(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function LI(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function VI(t){return t.producerNode!==void 0}function jI(t){let e=Object.create(Px);e.computation=t;let n=()=>{if(PI(e),Uf(e),e.value===_u)throw e.error;return e.value};return n[zn]=e,n}var Vf=Symbol("UNSET"),jf=Symbol("COMPUTING"),_u=Symbol("ERRORED"),Px=ue(F({},ya),{value:Vf,dirty:!0,error:null,equal:RI,producerMustRecompute(t){return t.value===Vf||t.value===jf},producerRecomputeValue(t){if(t.value===jf)throw new Error("Detected cycle in computations.");let e=t.value;t.value=jf;let n=wu(t),r;try{r=t.computation()}catch(i){r=_u,t.error=i}finally{Bf(t,n)}if(e!==Vf&&e!==_u&&r!==_u&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function Ox(){throw new Error}var UI=Ox;function BI(){UI()}function $I(t){UI=t}var kx=null;function HI(t){let e=Object.create(qI);e.value=t;let n=()=>(Uf(e),e.value);return n[zn]=e,n}function zf(t,e){kI()||BI(),t.equal(t.value,e)||(t.value=e,Fx(t))}function zI(t,e){kI()||BI(),zf(t,e(t.value))}var qI=ue(F({},ya),{equal:RI,value:void 0});function Fx(t){t.version++,Rx(),OI(t),kx?.()}function te(t){return typeof t=="function"}function _o(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Cu=_o(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function hi(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ve=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(te(r))try{r()}catch(o){e=o instanceof Cu?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{GI(o)}catch(s){e=e??[],s instanceof Cu?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Cu(e)}}add(e){var n;if(e&&e!==this)if(this.closed)GI(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&hi(n,e)}remove(e){let{_finalizers:n}=this;n&&hi(n,e),e instanceof t&&e._removeParent(this)}};Ve.EMPTY=(()=>{let t=new Ve;return t.closed=!0,t})();var qf=Ve.EMPTY;function bu(t){return t instanceof Ve||t&&"closed"in t&&te(t.remove)&&te(t.add)&&te(t.unsubscribe)}function GI(t){te(t)?t():t.unsubscribe()}var sn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wo={setTimeout(t,e,...n){let{delegate:r}=wo;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=wo;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Du(t){wo.setTimeout(()=>{let{onUnhandledError:e}=sn;if(e)e(t);else throw t})}function va(){}var WI=Gf("C",void 0,void 0);function KI(t){return Gf("E",void 0,t)}function QI(t){return Gf("N",t,void 0)}function Gf(t,e,n){return{kind:t,value:e,error:n}}var fi=null;function Io(t){if(sn.useDeprecatedSynchronousErrorHandling){let e=!fi;if(e&&(fi={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=fi;if(fi=null,n)throw r}}else t()}function YI(t){sn.useDeprecatedSynchronousErrorHandling&&fi&&(fi.errorThrown=!0,fi.error=t)}var pi=class extends Ve{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,bu(e)&&e.add(this)):this.destination=jx}static create(e,n,r){return new Eo(e,n,r)}next(e){this.isStopped?Kf(QI(e),this):this._next(e)}error(e){this.isStopped?Kf(KI(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Kf(WI,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},Lx=Function.prototype.bind;function Wf(t,e){return Lx.call(t,e)}var Qf=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Tu(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Tu(r)}else Tu(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Tu(n)}}},Eo=class extends pi{constructor(e,n,r){super();let i;if(te(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&sn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Wf(e.next,o),error:e.error&&Wf(e.error,o),complete:e.complete&&Wf(e.complete,o)}):i=e}this.destination=new Qf(i)}};function Tu(t){sn.useDeprecatedSynchronousErrorHandling?YI(t):Du(t)}function Vx(t){throw t}function Kf(t,e){let{onStoppedNotification:n}=sn;n&&wo.setTimeout(()=>n(t,e))}var jx={closed:!0,next:va,error:Vx,complete:va};var Co=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Ot(t){return t}function Su(...t){return Yf(t)}function Yf(t){return t.length===0?Ot:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var fe=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=Bx(n)?n:new Eo(n,r,i);return Io(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=ZI(r),new r((i,o)=>{let s=new Eo({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Co](){return this}pipe(...n){return Yf(n)(this)}toPromise(n){return n=ZI(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function ZI(t){var e;return(e=t??sn.Promise)!==null&&e!==void 0?e:Promise}function Ux(t){return t&&te(t.next)&&te(t.error)&&te(t.complete)}function Bx(t){return t&&t instanceof pi||Ux(t)&&bu(t)}function Zf(t){return te(t?.lift)}function ye(t){return e=>{if(Zf(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function pe(t,e,n,r,i){return new Jf(t,e,n,r,i)}var Jf=class extends pi{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function bo(){return ye((t,e)=>{let n=null;t._refCount++;let r=pe(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Do=class extends fe{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Zf(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ve;let n=this.getSubject();e.add(this.source.subscribe(pe(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ve.EMPTY)}return e}refCount(){return bo()(this)}};var JI=_o(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var tt=(()=>{class t extends fe{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Au(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new JI}next(n){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Io(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?qf:(this.currentObservers=null,o.push(n),new Ve(()=>{this.currentObservers=null,hi(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new fe;return n.source=this,n}}return t.create=(e,n)=>new Au(e,n),t})(),Au=class extends tt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:qf}};var at=class extends tt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Xf={now(){return(Xf.delegate||Date).now()},delegate:void 0};var Mu=class extends Ve{constructor(e,n){super()}schedule(e,n=0){return this}};var _a={setInterval(t,e,...n){let{delegate:r}=_a;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=_a;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var To=class extends Mu{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return _a.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&_a.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,hi(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var So=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};So.now=Xf.now;var Ao=class extends So{constructor(e,n=So.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var ep=new Ao(To);var xu=class extends To{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Ru=class extends Ao{};var tp=new Ru(xu);var kt=new fe(t=>t.complete());function XI(t){return t&&te(t.schedule)}function eE(t){return t[t.length-1]}function Nu(t){return te(eE(t))?t.pop():void 0}function br(t){return XI(eE(t))?t.pop():void 0}function np(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function nE(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(h){try{l(r.next(h))}catch(p){s(p)}}function u(h){try{l(r.throw(h))}catch(p){s(p)}}function l(h){h.done?o(h.value):i(h.value).then(a,u)}l((r=r.apply(t,e||[])).next())})}function tE(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gi(t){return this instanceof gi?(this.v=t,this):new gi(t)}function rE(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(v){return function(S){return Promise.resolve(S).then(v,p)}}function a(v,S){r[v]&&(i[v]=function(N){return new Promise(function(M,j){o.push([v,N,M,j])>1||u(v,N)})},S&&(i[v]=S(i[v])))}function u(v,S){try{l(r[v](S))}catch(N){m(o[0][3],N)}}function l(v){v.value instanceof gi?Promise.resolve(v.value.v).then(h,p):m(o[0][2],v)}function h(v){u("next",v)}function p(v){u("throw",v)}function m(v,S){v(S),o.shift(),o.length&&u(o[0][0],o[0][1])}}function iE(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof tE=="function"?tE(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(l){o({value:l,done:a})},s)}}var Pu=t=>t&&typeof t.length=="number"&&typeof t!="function";function Ou(t){return te(t?.then)}function ku(t){return te(t[Co])}function Fu(t){return Symbol.asyncIterator&&te(t?.[Symbol.asyncIterator])}function Lu(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function $x(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Vu=$x();function ju(t){return te(t?.[Vu])}function Uu(t){return rE(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield gi(n.read());if(i)return yield gi(void 0);yield yield gi(r)}}finally{n.releaseLock()}})}function Bu(t){return te(t?.getReader)}function He(t){if(t instanceof fe)return t;if(t!=null){if(ku(t))return Hx(t);if(Pu(t))return zx(t);if(Ou(t))return qx(t);if(Fu(t))return oE(t);if(ju(t))return Gx(t);if(Bu(t))return Wx(t)}throw Lu(t)}function Hx(t){return new fe(e=>{let n=t[Co]();if(te(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function zx(t){return new fe(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function qx(t){return new fe(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Du)})}function Gx(t){return new fe(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function oE(t){return new fe(e=>{Kx(t,e).catch(n=>e.error(n))})}function Wx(t){return oE(Uu(t))}function Kx(t,e){var n,r,i,o;return nE(this,void 0,void 0,function*(){try{for(n=iE(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function At(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Dr(t,e=0){return ye((n,r)=>{n.subscribe(pe(r,i=>At(r,t,()=>r.next(i),e),()=>At(r,t,()=>r.complete(),e),i=>At(r,t,()=>r.error(i),e)))})}function Tr(t,e=0){return ye((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function sE(t,e){return He(t).pipe(Tr(e),Dr(e))}function aE(t,e){return He(t).pipe(Tr(e),Dr(e))}function cE(t,e){return new fe(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function uE(t,e){return new fe(n=>{let r;return At(n,e,()=>{r=t[Vu](),At(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>te(r?.return)&&r.return()})}function $u(t,e){if(!t)throw new Error("Iterable cannot be null");return new fe(n=>{At(n,e,()=>{let r=t[Symbol.asyncIterator]();At(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function lE(t,e){return $u(Uu(t),e)}function dE(t,e){if(t!=null){if(ku(t))return sE(t,e);if(Pu(t))return cE(t,e);if(Ou(t))return aE(t,e);if(Fu(t))return $u(t,e);if(ju(t))return uE(t,e);if(Bu(t))return lE(t,e)}throw Lu(t)}function je(t,e){return e?dE(t,e):He(t)}function ne(...t){let e=br(t);return je(t,e)}function Mo(t,e){let n=te(t)?t:()=>t,r=i=>i.error(n());return new fe(e?i=>e.schedule(r,0,i):r)}function rp(t){return!!t&&(t instanceof fe||te(t.lift)&&te(t.subscribe))}var qn=_o(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function re(t,e){return ye((n,r)=>{let i=0;n.subscribe(pe(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:Qx}=Array;function Yx(t,e){return Qx(e)?t(...e):t(e)}function Hu(t){return re(e=>Yx(t,e))}var{isArray:Zx}=Array,{getPrototypeOf:Jx,prototype:Xx,keys:eR}=Object;function zu(t){if(t.length===1){let e=t[0];if(Zx(e))return{args:e,keys:null};if(tR(e)){let n=eR(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function tR(t){return t&&typeof t=="object"&&Jx(t)===Xx}function qu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Gu(...t){let e=br(t),n=Nu(t),{args:r,keys:i}=zu(t);if(r.length===0)return je([],e);let o=new fe(nR(r,e,i?s=>qu(i,s):Ot));return n?o.pipe(Hu(n)):o}function nR(t,e,n=Ot){return r=>{hE(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)hE(e,()=>{let l=je(t[u],e),h=!1;l.subscribe(pe(r,p=>{o[u]=p,h||(h=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function hE(t,e,n){t?At(n,t,e):e()}function fE(t,e,n,r,i,o,s,a){let u=[],l=0,h=0,p=!1,m=()=>{p&&!u.length&&!l&&e.complete()},v=N=>l<r?S(N):u.push(N),S=N=>{o&&e.next(N),l++;let M=!1;He(n(N,h++)).subscribe(pe(e,j=>{i?.(j),o?v(j):e.next(j)},()=>{M=!0},void 0,()=>{if(M)try{for(l--;u.length&&l<r;){let j=u.shift();s?At(e,s,()=>S(j)):S(j)}m()}catch(j){e.error(j)}}))};return t.subscribe(pe(e,v,()=>{p=!0,m()})),()=>{a?.()}}function Ye(t,e,n=1/0){return te(e)?Ye((r,i)=>re((o,s)=>e(r,o,i,s))(He(t(r,i))),n):(typeof e=="number"&&(n=e),ye((r,i)=>fE(r,i,t,n)))}function ip(t=1/0){return Ye(Ot,t)}function pE(){return ip(1)}function xo(...t){return pE()(je(t,br(t)))}function Wu(t){return new fe(e=>{He(t()).subscribe(e)})}function op(...t){let e=Nu(t),{args:n,keys:r}=zu(t),i=new fe(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,l=s;for(let h=0;h<s;h++){let p=!1;He(n[h]).subscribe(pe(o,m=>{p||(p=!0,l--),a[h]=m},()=>u--,void 0,()=>{(!u||!p)&&(l||o.next(r?qu(r,a):a),o.complete())}))}});return e?i.pipe(Hu(e)):i}function Gt(t,e){return ye((n,r)=>{let i=0;n.subscribe(pe(r,o=>t.call(e,o,i++)&&r.next(o)))})}function Sr(t){return ye((e,n)=>{let r=null,i=!1,o;r=e.subscribe(pe(n,void 0,void 0,s=>{o=He(t(s,Sr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function gE(t,e,n,r,i){return(o,s)=>{let a=n,u=e,l=0;o.subscribe(pe(s,h=>{let p=l++;u=a?t(u,h,p):(a=!0,h),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function Ro(t,e){return te(e)?Ye(t,e,1):Ye(t,1)}function Ar(t){return ye((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Gn(t){return t<=0?()=>kt:ye((e,n)=>{let r=0;e.subscribe(pe(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function sp(t){return re(()=>t)}function Ku(t=rR){return ye((e,n)=>{let r=!1;e.subscribe(pe(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function rR(){return new qn}function wa(t){return ye((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function In(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Gt((i,o)=>t(i,o,r)):Ot,Gn(1),n?Ar(e):Ku(()=>new qn))}function No(t){return t<=0?()=>kt:ye((e,n)=>{let r=[];e.subscribe(pe(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function ap(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Gt((i,o)=>t(i,o,r)):Ot,No(1),n?Ar(e):Ku(()=>new qn))}function Qu(t,e){return ye(gE(t,e,arguments.length>=2,!0))}function Yu(...t){let e=br(t);return ye((n,r)=>{(e?xo(t,n,e):xo(t,n)).subscribe(r)})}function an(t,e){return ye((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(pe(r,u=>{i?.unsubscribe();let l=0,h=o++;He(t(u,h)).subscribe(i=pe(r,p=>r.next(e?e(u,p,h,l++):p),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function cp(t){return ye((e,n)=>{He(t).subscribe(pe(n,()=>n.complete(),va)),!n.closed&&e.subscribe(n)})}function Ze(t,e,n){let r=te(t)||e||n?{next:t,error:e,complete:n}:t;return r?ye((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(pe(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;a=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Ot}var n0="https://g.co/ng/security#xss",$=class extends Error{constructor(e,n){super(lg(e,n)),this.code=e}};function lg(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Ra(t){return{toString:t}.toString()}var Zu="__parameters__";function iR(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function r0(t,e,n){return Ra(()=>{let r=iR(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,l,h){let p=u.hasOwnProperty(Zu)?u[Zu]:Object.defineProperty(u,Zu,{value:[]})[Zu];for(;p.length<=h;)p.push(null);return(p[h]=p[h]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var _i=globalThis;function Me(t){for(let e in t)if(t[e]===Me)return e;throw Error("Could not find renamed property on target object.")}function oR(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Et(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Et).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function mE(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var sR=Me({__forward_ref__:Me});function Qo(t){return t.__forward_ref__=Qo,t.toString=function(){return Et(this())},t}function It(t){return i0(t)?t():t}function i0(t){return typeof t=="function"&&t.hasOwnProperty(sR)&&t.__forward_ref__===Qo}function W(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function xi(t){return{providers:t.providers||[],imports:t.imports||[]}}function Nl(t){return yE(t,s0)||yE(t,a0)}function o0(t){return Nl(t)!==null}function yE(t,e){return t.hasOwnProperty(e)?t[e]:null}function aR(t){let e=t&&(t[s0]||t[a0]);return e||null}function vE(t){return t&&(t.hasOwnProperty(_E)||t.hasOwnProperty(cR))?t[_E]:null}var s0=Me({\u0275prov:Me}),_E=Me({\u0275inj:Me}),a0=Me({ngInjectableDef:Me}),cR=Me({ngInjectorDef:Me}),H=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=W({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function c0(t){return t&&!!t.\u0275providers}var uR=Me({\u0275cmp:Me}),lR=Me({\u0275dir:Me}),dR=Me({\u0275pipe:Me}),hR=Me({\u0275mod:Me}),al=Me({\u0275fac:Me}),Ca=Me({__NG_ELEMENT_ID__:Me}),wE=Me({__NG_ENV_ID__:Me});function Pl(t){return typeof t=="string"?t:t==null?"":String(t)}function fR(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Pl(t)}function pR(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new $(-200,t)}function dg(t,e){throw new $(-201,!1)}var ae=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(ae||{}),Cp;function u0(){return Cp}function Mt(t){let e=Cp;return Cp=t,e}function l0(t,e,n){let r=Nl(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&ae.Optional)return null;if(e!==void 0)return e;dg(t,"Injector")}var gR={},ba=gR,bp="__NG_DI_FLAG__",cl="ngTempTokenPath",mR="ngTokenPath",yR=/\n/gm,vR="\u0275",IE="__source",Fo;function _R(){return Fo}function Mr(t){let e=Fo;return Fo=t,e}function wR(t,e=ae.Default){if(Fo===void 0)throw new $(-203,!1);return Fo===null?l0(t,void 0,e):Fo.get(t,e&ae.Optional?null:void 0,e)}function le(t,e=ae.Default){return(u0()||wR)(It(t),e)}function L(t,e=ae.Default){return le(t,Ol(e))}function Ol(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function Dp(t){let e=[];for(let n=0;n<t.length;n++){let r=It(t[n]);if(Array.isArray(r)){if(r.length===0)throw new $(900,!1);let i,o=ae.Default;for(let s=0;s<r.length;s++){let a=r[s],u=IR(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(le(i,o))}else e.push(le(r))}return e}function d0(t,e){return t[bp]=e,t.prototype[bp]=e,t}function IR(t){return t[bp]}function ER(t,e,n,r){let i=t[cl];throw e[IE]&&i.unshift(e[IE]),t.message=CR(`
`+t.message,i,n,r),t[mR]=i,t[cl]=null,t}function CR(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==vR?t.slice(2):t;let i=Et(e);if(Array.isArray(e))i=e.map(Et).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Et(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(yR,`
  `)}`}var bt=d0(r0("Optional"),8);var h0=d0(r0("SkipSelf"),4);function Ii(t,e){let n=t.hasOwnProperty(al);return n?t[al]:null}function hg(t,e){t.forEach(n=>Array.isArray(n)?hg(n,e):e(n))}function f0(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ul(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function bR(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function DR(t,e,n){let r=Na(t,e);return r>=0?t[r|1]=n:(r=~r,bR(t,r,e,n)),r}function up(t,e){let n=Na(t,e);if(n>=0)return t[n|1]}function Na(t,e){return TR(t,e,1)}function TR(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var Vo={},Wt=[],jo=new H(""),p0=new H("",-1),g0=new H(""),ll=class{get(e,n=ba){if(n===ba){let r=new Error(`NullInjectorError: No provider for ${Et(e)}!`);throw r.name="NullInjectorError",r}return n}},m0=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(m0||{}),bn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(bn||{}),Nr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Nr||{});function SR(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Tp(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];AR(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function y0(t){return t===3||t===4||t===6}function AR(t){return t.charCodeAt(0)===64}function Da(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?EE(t,n,i,null,e[++r]):EE(t,n,i,null,null))}}return t}function EE(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var v0="ng-template";function MR(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&SR(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(fg(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function fg(t){return t.type===4&&t.value!==v0}function xR(t,e,n){let r=t.type===4&&!n?v0:t.value;return e===r}function RR(t,e,n){let r=4,i=t.attrs,o=i!==null?OR(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!cn(r)&&!cn(u))return!1;if(s&&cn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!xR(t,u,n)||u===""&&e.length===1){if(cn(r))return!1;s=!0}}else if(r&8){if(i===null||!MR(t,i,u,n)){if(cn(r))return!1;s=!0}}else{let l=e[++a],h=NR(u,i,fg(t),n);if(h===-1){if(cn(r))return!1;s=!0;continue}if(l!==""){let p;if(h>o?p="":p=i[h+1].toLowerCase(),r&2&&l!==p){if(cn(r))return!1;s=!0}}}}return cn(r)||s}function cn(t){return(t&1)===0}function NR(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return kR(e,t)}function PR(t,e,n=!1){for(let r=0;r<e.length;r++)if(RR(t,e[r],n))return!0;return!1}function OR(t){for(let e=0;e<t.length;e++){let n=t[e];if(y0(n))return e}return t.length}function kR(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function CE(t,e){return t?":not("+e.trim()+")":e}function FR(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!cn(s)&&(e+=CE(o,i),i=""),r=s,o=o||!cn(r);n++}return i!==""&&(e+=CE(o,i)),e}function LR(t){return t.map(FR).join(",")}function VR(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!cn(i))break;i=o}r++}return{attrs:e,classes:n}}function nt(t){return Ra(()=>{let e=C0(t),n=ue(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===m0.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||bn.Emulated,styles:t.styles||Wt,_:null,schemas:t.schemas||null,tView:null,id:""});b0(n);let r=t.dependencies;return n.directiveDefs=DE(r,!1),n.pipeDefs=DE(r,!0),n.id=BR(n),n})}function jR(t){return Ei(t)||_0(t)}function UR(t){return t!==null}function Ri(t){return Ra(()=>({type:t.type,bootstrap:t.bootstrap||Wt,declarations:t.declarations||Wt,imports:t.imports||Wt,exports:t.exports||Wt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function bE(t,e){if(t==null)return Vo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Nr.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Nr.None?[r,a]:r,e[o]=s):n[o]=r}return n}function pt(t){return Ra(()=>{let e=C0(t);return b0(e),e})}function pg(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Ei(t){return t[uR]||null}function _0(t){return t[lR]||null}function w0(t){return t[dR]||null}function I0(t){let e=Ei(t)||_0(t)||w0(t);return e!==null?e.standalone:!1}function E0(t,e){let n=t[hR]||null;if(!n&&e===!0)throw new Error(`Type ${Et(t)} does not have '\u0275mod' property.`);return n}function C0(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Vo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||Wt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:bE(t.inputs,e),outputs:bE(t.outputs),debugInfo:null}}function b0(t){t.features?.forEach(e=>e(t))}function DE(t,e){if(!t)return null;let n=e?w0:jR;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(UR)}function BR(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function An(t){return{\u0275providers:t}}function $R(...t){return{\u0275providers:D0(!0,t),\u0275fromNgModule:!0}}function D0(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return hg(e,s=>{let a=s;Sp(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&T0(i,o),n}function T0(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];gg(i,o=>{e(o,r)})}}function Sp(t,e,n,r){if(t=It(t),!t)return!1;let i=null,o=vE(t),s=!o&&Ei(t);if(!o&&!s){let u=t.ngModule;if(o=vE(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)Sp(l,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let l;try{hg(o.imports,h=>{Sp(h,e,n,r)&&(l||=[],l.push(h))})}finally{}l!==void 0&&T0(l,e)}if(!a){let l=Ii(i)||(()=>new i);e({provide:i,useFactory:l,deps:Wt},i),e({provide:g0,useValue:i,multi:!0},i),e({provide:jo,useValue:()=>le(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let l=t;gg(u,h=>{e(h,l)})}}else return!1;return i!==t&&t.providers!==void 0}function gg(t,e){for(let n of t)c0(n)&&(n=n.\u0275providers),Array.isArray(n)?gg(n,e):e(n)}var HR=Me({provide:String,useValue:Me});function S0(t){return t!==null&&typeof t=="object"&&HR in t}function zR(t){return!!(t&&t.useExisting)}function qR(t){return!!(t&&t.useFactory)}function Uo(t){return typeof t=="function"}function GR(t){return!!t.useClass}var kl=new H(""),nl={},WR={},lp;function mg(){return lp===void 0&&(lp=new ll),lp}var Yt=class{},Ta=class extends Yt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Mp(e,s=>this.processProvider(s)),this.records.set(p0,Po(void 0,this)),i.has("environment")&&this.records.set(Yt,Po(void 0,this));let o=this.records.get(kl);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(g0,Wt,ae.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=_e(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),_e(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Mr(this),r=Mt(void 0),i;try{return e()}finally{Mr(n),Mt(r)}}get(e,n=ba,r=ae.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(wE))return e[wE](this);r=Ol(r);let i,o=Mr(this),s=Mt(void 0);try{if(!(r&ae.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=JR(e)&&Nl(e);l&&this.injectableDefInScope(l)?u=Po(Ap(e),nl):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&ae.Self?mg():this.parent;return n=r&ae.Optional&&n===ba?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[cl]=a[cl]||[]).unshift(Et(e)),o)throw a;return ER(a,e,"R3InjectorError",this.source)}else throw a}finally{Mt(s),Mr(o)}}resolveInjectorInitializers(){let e=_e(null),n=Mr(this),r=Mt(void 0),i;try{let o=this.get(jo,Wt,ae.Self);for(let s of o)s()}finally{Mr(n),Mt(r),_e(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Et(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new $(205,!1)}processProvider(e){e=It(e);let n=Uo(e)?e:It(e&&e.provide),r=QR(e);if(!Uo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Po(void 0,nl,!0),i.factory=()=>Dp(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=_e(null);try{return n.value===nl&&(n.value=WR,n.value=n.factory()),typeof n.value=="object"&&n.value&&ZR(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{_e(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=It(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Ap(t){let e=Nl(t),n=e!==null?e.factory:Ii(t);if(n!==null)return n;if(t instanceof H)throw new $(204,!1);if(t instanceof Function)return KR(t);throw new $(204,!1)}function KR(t){if(t.length>0)throw new $(204,!1);let n=aR(t);return n!==null?()=>n.factory(t):()=>new t}function QR(t){if(S0(t))return Po(void 0,t.useValue);{let e=A0(t);return Po(e,nl)}}function A0(t,e,n){let r;if(Uo(t)){let i=It(t);return Ii(i)||Ap(i)}else if(S0(t))r=()=>It(t.useValue);else if(qR(t))r=()=>t.useFactory(...Dp(t.deps||[]));else if(zR(t))r=()=>le(It(t.useExisting));else{let i=It(t&&(t.useClass||t.provide));if(YR(t))r=()=>new i(...Dp(t.deps));else return Ii(i)||Ap(i)}return r}function Po(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function YR(t){return!!t.deps}function ZR(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function JR(t){return typeof t=="function"||typeof t=="object"&&t instanceof H}function Mp(t,e){for(let n of t)Array.isArray(n)?Mp(n,e):n&&c0(n)?Mp(n.\u0275providers,e):e(n)}function Yn(t,e){t instanceof Ta&&t.assertNotDestroyed();let n,r=Mr(t),i=Mt(void 0);try{return e()}finally{Mr(r),Mt(i)}}function XR(){return u0()!==void 0||_R()!=null}function eN(t){return typeof t=="function"}var Zn=0,he=1,J=2,Ct=3,un=4,hn=5,dl=6,hl=7,ln=8,Bo=9,Dn=10,Je=11,Sa=12,TE=13,Yo=14,Tn=15,$o=16,Oo=17,Ho=18,Fl=19,M0=20,xr=21,dp=22,Kt=23,dn=25,x0=1;var Ci=7,fl=8,pl=9,Qt=10,gl=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(gl||{});function Rr(t){return Array.isArray(t)&&typeof t[x0]=="object"}function Jn(t){return Array.isArray(t)&&t[x0]===!0}function R0(t){return(t.flags&4)!==0}function Ll(t){return t.componentOffset>-1}function yg(t){return(t.flags&1)===1}function Pr(t){return!!t.template}function xp(t){return(t[J]&512)!==0}var Rp=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function N0(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Ni(){return P0}function P0(t){return t.type.prototype.ngOnChanges&&(t.setInput=nN),tN}Ni.ngInherit=!0;function tN(){let t=k0(this),e=t?.current;if(e){let n=t.previous;if(n===Vo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function nN(t,e,n,r,i){let o=this.declaredInputs[r],s=k0(t)||rN(t,{previous:Vo,current:null}),a=s.current||(s.current={}),u=s.previous,l=u[o];a[o]=new Rp(l&&l.currentValue,n,u===Vo),N0(t,e,i,n)}var O0="__ngSimpleChanges__";function k0(t){return t[O0]||null}function rN(t,e){return t[O0]=e}var SE=null;var En=function(t,e,n){SE?.(t,e,n)},F0="svg",iN="math";function Sn(t){for(;Array.isArray(t);)t=t[Zn];return t}function L0(t,e){return Sn(e[t])}function Zt(t,e){return Sn(e[t.index])}function V0(t,e){return t.data[e]}function j0(t,e){return t[e]}function Fr(t,e){let n=e[t];return Rr(n)?n:n[Zn]}function vg(t){return(t[J]&128)===128}function oN(t){return Jn(t[Ct])}function ml(t,e){return e==null?null:t[e]}function U0(t){t[Oo]=0}function B0(t){t[J]&1024||(t[J]|=1024,vg(t)&&jl(t))}function sN(t,e){for(;t>0;)e=e[Yo],t--;return e}function Vl(t){return!!(t[J]&9216||t[Kt]?.dirty)}function Np(t){t[Dn].changeDetectionScheduler?.notify(8),t[J]&64&&(t[J]|=1024),Vl(t)&&jl(t)}function jl(t){t[Dn].changeDetectionScheduler?.notify(0);let e=bi(t);for(;e!==null&&!(e[J]&8192||(e[J]|=8192,!vg(e)));)e=bi(e)}function $0(t,e){if((t[J]&256)===256)throw new $(911,!1);t[xr]===null&&(t[xr]=[]),t[xr].push(e)}function aN(t,e){if(t[xr]===null)return;let n=t[xr].indexOf(e);n!==-1&&t[xr].splice(n,1)}function bi(t){let e=t[Ct];return Jn(e)?e[Ct]:e}var ce={lFrame:Z0(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var H0=!1;function cN(){return ce.lFrame.elementDepthCount}function uN(){ce.lFrame.elementDepthCount++}function lN(){ce.lFrame.elementDepthCount--}function z0(){return ce.bindingsEnabled}function dN(){return ce.skipHydrationRootTNode!==null}function hN(t){return ce.skipHydrationRootTNode===t}function fN(){ce.skipHydrationRootTNode=null}function Te(){return ce.lFrame.lView}function Rt(){return ce.lFrame.tView}function Zo(t){return ce.lFrame.contextLView=t,t[ln]}function Jo(t){return ce.lFrame.contextLView=null,t}function Dt(){let t=q0();for(;t!==null&&t.type===64;)t=t.parent;return t}function q0(){return ce.lFrame.currentTNode}function pN(){let t=ce.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Pa(t,e){let n=ce.lFrame;n.currentTNode=t,n.isParent=e}function G0(){return ce.lFrame.isParent}function gN(){ce.lFrame.isParent=!1}function W0(){return H0}function AE(t){H0=t}function _g(){let t=ce.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function mN(t){return ce.lFrame.bindingIndex=t}function Ul(){return ce.lFrame.bindingIndex++}function yN(t){let e=ce.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function vN(){return ce.lFrame.inI18n}function _N(t,e){let n=ce.lFrame;n.bindingIndex=n.bindingRootIndex=t,Pp(e)}function wN(){return ce.lFrame.currentDirectiveIndex}function Pp(t){ce.lFrame.currentDirectiveIndex=t}function IN(t){let e=ce.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function K0(t){ce.lFrame.currentQueryIndex=t}function EN(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[hn]:null}function Q0(t,e,n){if(n&ae.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&ae.Host);)if(i=EN(o),i===null||(o=o[Yo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ce.lFrame=Y0();return r.currentTNode=e,r.lView=t,!0}function wg(t){let e=Y0(),n=t[he];ce.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function Y0(){let t=ce.lFrame,e=t===null?null:t.child;return e===null?Z0(t):e}function Z0(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function J0(){let t=ce.lFrame;return ce.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var X0=J0;function Ig(){let t=J0();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function CN(t){return(ce.lFrame.contextLView=sN(t,ce.lFrame.contextLView))[ln]}function Xo(){return ce.lFrame.selectedIndex}function Di(t){ce.lFrame.selectedIndex=t}function Eg(){let t=ce.lFrame;return V0(t.tView,t.selectedIndex)}function Lr(){ce.lFrame.currentNamespace=F0}function eC(){bN()}function bN(){ce.lFrame.currentNamespace=null}function DN(){return ce.lFrame.currentNamespace}var tC=!0;function Cg(){return tC}function bg(t){tC=t}function TN(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=P0(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function Dg(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:h}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),h!=null&&(t.destroyHooks??=[]).push(n,h)}}function rl(t,e,n){nC(t,e,3,n)}function il(t,e,n,r){(t[J]&3)===n&&nC(t,e,n,r)}function hp(t,e){let n=t[J];(n&3)===e&&(n&=16383,n+=1,t[J]=n)}function nC(t,e,n,r){let i=r!==void 0?t[Oo]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Oo]+=65536),(a<o||o==-1)&&(SN(t,n,e,u),t[Oo]=(t[Oo]&4294901760)+u+2),u++}function ME(t,e){En(4,t,e);let n=_e(null);try{e.call(t)}finally{_e(n),En(5,t,e)}}function SN(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[J]>>14<t[Oo]>>16&&(t[J]&3)===e&&(t[J]+=16384,ME(a,o)):ME(a,o)}var Lo=-1,Ti=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function AN(t){return t instanceof Ti}function MN(t){return(t.flags&8)!==0}function xN(t){return(t.flags&16)!==0}var fp={},Op=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Ol(r);let i=this.injector.get(e,fp,r);return i!==fp||n===fp?i:this.parentInjector.get(e,n,r)}};function rC(t){return t!==Lo}function yl(t){return t&32767}function RN(t){return t>>16}function vl(t,e){let n=RN(t),r=e;for(;n>0;)r=r[Yo],n--;return r}var kp=!0;function _l(t){let e=kp;return kp=t,e}var NN=256,iC=NN-1,oC=5,PN=0,Cn={};function ON(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Ca)&&(r=n[Ca]),r==null&&(r=n[Ca]=PN++);let i=r&iC,o=1<<i;e.data[t+(i>>oC)]|=o}function wl(t,e){let n=sC(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,pp(r.data,t),pp(e,null),pp(r.blueprint,null));let i=Tg(t,e),o=t.injectorIndex;if(rC(i)){let s=yl(i),a=vl(i,e),u=a[he].data;for(let l=0;l<8;l++)e[o+l]=a[s+l]|u[s+l]}return e[o+8]=i,o}function pp(t,e){t.push(0,0,0,0,0,0,0,0,e)}function sC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Tg(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=dC(i),r===null)return Lo;if(n++,i=i[Yo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Lo}function Fp(t,e,n){ON(t,e,n)}function kN(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(y0(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function aC(t,e,n){if(n&ae.Optional||t!==void 0)return t;dg(e,"NodeInjector")}function cC(t,e,n,r){if(n&ae.Optional&&r===void 0&&(r=null),!(n&(ae.Self|ae.Host))){let i=t[Bo],o=Mt(void 0);try{return i?i.get(e,r,n&ae.Optional):l0(e,r,n&ae.Optional)}finally{Mt(o)}}return aC(r,e,n)}function uC(t,e,n,r=ae.Default,i){if(t!==null){if(e[J]&2048&&!(r&ae.Self)){let s=UN(t,e,n,r,Cn);if(s!==Cn)return s}let o=lC(t,e,n,r,Cn);if(o!==Cn)return o}return cC(e,n,r,i)}function lC(t,e,n,r,i){let o=VN(n);if(typeof o=="function"){if(!Q0(e,t,r))return r&ae.Host?aC(i,n,r):cC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&ae.Optional))dg(n);else return s}finally{X0()}}else if(typeof o=="number"){let s=null,a=sC(t,e),u=Lo,l=r&ae.Host?e[Tn][hn]:null;for((a===-1||r&ae.SkipSelf)&&(u=a===-1?Tg(t,e):e[a+8],u===Lo||!RE(r,!1)?a=-1:(s=e[he],a=yl(u),e=vl(u,e)));a!==-1;){let h=e[he];if(xE(o,a,h.data)){let p=FN(a,e,n,s,r,l);if(p!==Cn)return p}u=e[a+8],u!==Lo&&RE(r,e[he].data[a+8]===l)&&xE(o,a,e)?(s=h,a=yl(u),e=vl(u,e)):a=-1}}return i}function FN(t,e,n,r,i,o){let s=e[he],a=s.data[t+8],u=r==null?Ll(a)&&kp:r!=s&&(a.type&3)!==0,l=i&ae.Host&&o===a,h=LN(a,s,n,u,l);return h!==null?zo(e,s,h,a):Cn}function LN(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,l=t.directiveEnd,h=o>>20,p=r?a:a+h,m=i?a+h:l;for(let v=p;v<m;v++){let S=s[v];if(v<u&&n===S||v>=u&&S.type===n)return v}if(i){let v=s[u];if(v&&Pr(v)&&v.type===n)return u}return null}function zo(t,e,n,r){let i=t[n],o=e.data;if(AN(i)){let s=i;s.resolving&&pR(fR(o[n]));let a=_l(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Mt(s.injectImpl):null,h=Q0(t,r,ae.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&TN(n,o[n],e)}finally{l!==null&&Mt(l),_l(a),s.resolving=!1,X0()}}return i}function VN(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Ca)?t[Ca]:void 0;return typeof e=="number"?e>=0?e&iC:jN:e}function xE(t,e,n){let r=1<<t;return!!(n[e+(t>>oC)]&r)}function RE(t,e){return!(t&ae.Self)&&!(t&ae.Host&&e)}var wi=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return uC(this._tNode,this._lView,e,Ol(r),n)}};function jN(){return new wi(Dt(),Te())}function Oa(t){return Ra(()=>{let e=t.prototype.constructor,n=e[al]||Lp(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[al]||Lp(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Lp(t){return i0(t)?()=>{let e=Lp(It(t));return e&&e()}:Ii(t)}function UN(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[J]&2048&&!(s[J]&512);){let a=lC(o,s,n,r|ae.Self,Cn);if(a!==Cn)return a;let u=o.parent;if(!u){let l=s[M0];if(l){let h=l.get(n,Cn,r);if(h!==Cn)return h}u=dC(s),s=s[Yo]}o=u}return i}function dC(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[hn]:null}function Sg(t){return kN(Dt(),t)}function NE(t,e=null,n=null,r){let i=hC(t,e,n,r);return i.resolveInjectorInitializers(),i}function hC(t,e=null,n=null,r,i=new Set){let o=[n||Wt,$R(t)];return r=r||(typeof t=="object"?void 0:Et(t)),new Ta(o,e||mg(),r||null,i)}var yi=class yi{static create(e,n){if(Array.isArray(e))return NE({name:""},n,e,"");{let r=e.name??"";return NE({name:r},e.parent,e.providers,r)}}};yi.THROW_IF_NOT_FOUND=ba,yi.NULL=new ll,yi.\u0275prov=W({token:yi,providedIn:"any",factory:()=>le(p0)}),yi.__NG_ELEMENT_ID__=-1;var xt=yi;var BN=new H("");BN.__NG_ELEMENT_ID__=t=>{let e=Dt();if(e===null)throw new $(204,!1);if(e.type&2)return e.value;if(t&ae.Optional)return null;throw new $(204,!1)};var $N="ngOriginalError";function gp(t){return t[$N]}var fC=!0,pC=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=HN,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Vp=class extends pC{constructor(e){super(),this._lView=e}onDestroy(e){return $0(this._lView,e),()=>aN(this._lView,e)}};function HN(){return new Vp(Te())}var es=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new at(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var jp=class extends tt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,XR()&&(this.destroyRef=L(pC,{optional:!0})??void 0,this.pendingTasks=L(es,{optional:!0})??void 0)}emit(e){let n=_e(null);try{super.next(e)}finally{_e(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof Ve&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},ze=jp;function Il(...t){}function gC(t){let e,n;function r(){t=Il;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function PE(t){return queueMicrotask(()=>t()),()=>{t=Il}}var Ag="isAngularZone",El=Ag+"_ID",zN=0,Se=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ze(!1),this.onMicrotaskEmpty=new ze(!1),this.onStable=new ze(!1),this.onError=new ze(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=fC}=e;if(typeof Zone>"u")throw new $(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,WN(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Ag)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new $(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new $(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,qN,Il,Il);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},qN={};function Mg(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function GN(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){gC(()=>{t.callbackScheduled=!1,Up(t),t.isCheckStableRunning=!0,Mg(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Up(t)}function WN(t){let e=()=>{GN(t)},n=zN++;t._inner=t._inner.fork({name:"angular",properties:{[Ag]:!0,[El]:n,[El+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(KN(u))return r.invokeTask(o,s,a,u);try{return OE(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),kE(t)}},onInvoke:(r,i,o,s,a,u,l)=>{try{return OE(t),r.invoke(o,s,a,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!QN(u)&&e(),kE(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Up(t),Mg(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Up(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function OE(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function kE(t){t._nesting--,Mg(t)}var Bp=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ze,this.onMicrotaskEmpty=new ze,this.onStable=new ze,this.onError=new ze}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function KN(t){return mC(t,"__ignore_ng_zone__")}function QN(t){return mC(t,"__scheduler_tick__")}function mC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Wn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&gp(e);for(;n&&gp(n);)n=gp(n);return n||null}},YN=new H("",{providedIn:"root",factory:()=>{let t=L(Se),e=L(Wn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function ZN(){return Bl(Dt(),Te())}function Bl(t,e){return new Xn(Zt(t,e))}var Xn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=ZN;let t=e;return t})();function yC(t){return(t.flags&128)===128}var vC=new Map,JN=0;function XN(){return JN++}function eP(t){vC.set(t[Fl],t)}function $p(t){vC.delete(t[Fl])}var FE="__ngContext__";function Si(t,e){Rr(e)?(t[FE]=e[Fl],eP(e)):t[FE]=e}function _C(t){return IC(t[Sa])}function wC(t){return IC(t[un])}function IC(t){for(;t!==null&&!Jn(t);)t=t[un];return t}var Hp;function EC(t){Hp=t}function tP(){if(Hp!==void 0)return Hp;if(typeof document<"u")return document;throw new $(210,!1)}var xg=new H("",{providedIn:"root",factory:()=>nP}),nP="ng",Rg=new H(""),Vr=new H("",{providedIn:"platform",factory:()=>"unknown"});var Ng=new H("",{providedIn:"root",factory:()=>tP().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var rP="h",iP="b";var oP=()=>null;function Pg(t,e,n=!1){return oP(t,e,n)}var CC=!1,sP=new H("",{providedIn:"root",factory:()=>CC});var Ju;function aP(){if(Ju===void 0&&(Ju=null,_i.trustedTypes))try{Ju=_i.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Ju}function LE(t){return aP()?.createScriptURL(t)||t}var Cl=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${n0})`}};function ka(t){return t instanceof Cl?t.changingThisBreaksApplicationSecurity:t}function Og(t,e){let n=cP(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${n0})`)}return n===e}function cP(t){return t instanceof Cl&&t.getTypeName()||null}var uP=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function bC(t){return t=String(t),t.match(uP)?t:"unsafe:"+t}var $l=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}($l||{});function lP(t){let e=TC();return e?e.sanitize($l.URL,t)||"":Og(t,"URL")?ka(t):bC(Pl(t))}function dP(t){let e=TC();if(e)return LE(e.sanitize($l.RESOURCE_URL,t)||"");if(Og(t,"ResourceURL"))return LE(ka(t));throw new $(904,!1)}function hP(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?dP:lP}function DC(t,e,n){return hP(e,n)(t)}function TC(){let t=Te();return t&&t[Dn].sanitizer}function SC(t){return t.ownerDocument.defaultView}function AC(t){return t instanceof Function?t():t}var Kn=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Kn||{}),fP;function kg(t,e){return fP(t,e)}function ko(t,e,n,r,i){if(r!=null){let o,s=!1;Jn(r)?o=r:Rr(r)&&(s=!0,r=r[Zn]);let a=Sn(r);t===0&&n!==null?i==null?PC(e,n,a):bl(e,n,a,i||null,!0):t===1&&n!==null?bl(e,n,a,i||null,!0):t===2?AP(e,a,s):t===3&&e.destroyNode(a),o!=null&&xP(e,t,o,n,i)}}function pP(t,e){return t.createText(e)}function gP(t,e,n){t.setValue(e,n)}function MC(t,e,n){return t.createElement(e,n)}function mP(t,e){xC(t,e),e[Zn]=null,e[hn]=null}function yP(t,e,n,r,i,o){r[Zn]=i,r[hn]=e,Hl(t,r,n,1,i,o)}function xC(t,e){e[Dn].changeDetectionScheduler?.notify(9),Hl(t,e,e[Je],2,null,null)}function vP(t){let e=t[Sa];if(!e)return mp(t[he],t);for(;e;){let n=null;if(Rr(e))n=e[Sa];else{let r=e[Qt];r&&(n=r)}if(!n){for(;e&&!e[un]&&e!==t;)Rr(e)&&mp(e[he],e),e=e[Ct];e===null&&(e=t),Rr(e)&&mp(e[he],e),n=e&&e[un]}e=n}}function _P(t,e,n,r){let i=Qt+r,o=n.length;r>0&&(n[i-1][un]=e),r<o-Qt?(e[un]=n[i],f0(n,Qt+r,e)):(n.push(e),e[un]=null),e[Ct]=n;let s=e[$o];s!==null&&n!==s&&RC(s,e);let a=e[Ho];a!==null&&a.insertView(t),Np(e),e[J]|=128}function RC(t,e){let n=t[pl],r=e[Ct];if(Rr(r))t[J]|=gl.HasTransplantedViews;else{let i=r[Ct][Tn];e[Tn]!==i&&(t[J]|=gl.HasTransplantedViews)}n===null?t[pl]=[e]:n.push(e)}function Fg(t,e){let n=t[pl],r=n.indexOf(e);n.splice(r,1)}function zp(t,e){if(t.length<=Qt)return;let n=Qt+e,r=t[n];if(r){let i=r[$o];i!==null&&i!==t&&Fg(i,r),e>0&&(t[n-1][un]=r[un]);let o=ul(t,Qt+e);mP(r[he],r);let s=o[Ho];s!==null&&s.detachView(o[he]),r[Ct]=null,r[un]=null,r[J]&=-129}return r}function NC(t,e){if(!(e[J]&256)){let n=e[Je];n.destroyNode&&Hl(t,e,n,3,null,null),vP(e)}}function mp(t,e){if(e[J]&256)return;let n=_e(null);try{e[J]&=-129,e[J]|=256,e[Kt]&&Hf(e[Kt]),IP(t,e),wP(t,e),e[he].type===1&&e[Je].destroy();let r=e[$o];if(r!==null&&Jn(e[Ct])){r!==e[Ct]&&Fg(r,e);let i=e[Ho];i!==null&&i.detachView(t)}$p(e)}finally{_e(n)}}function wP(t,e){let n=t.cleanup,r=e[hl];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[hl]=null);let i=e[xr];if(i!==null){e[xr]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function IP(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Ti)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];En(4,a,u);try{u.call(a)}finally{En(5,a,u)}}else{En(4,i,o);try{o.call(i)}finally{En(5,i,o)}}}}}function EP(t,e,n){return CP(t,e.parent,n)}function CP(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Zn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===bn.None||o===bn.Emulated)return null}return Zt(r,n)}}function bl(t,e,n,r,i){t.insertBefore(e,n,r,i)}function PC(t,e,n){t.appendChild(e,n)}function VE(t,e,n,r,i){r!==null?bl(t,e,n,r,i):PC(t,e,n)}function OC(t,e){return t.parentNode(e)}function bP(t,e){return t.nextSibling(e)}function DP(t,e,n){return SP(t,e,n)}function TP(t,e,n){return t.type&40?Zt(t,n):null}var SP=TP,jE;function Lg(t,e,n,r){let i=EP(t,r,e),o=e[Je],s=r.parent||e[hn],a=DP(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)VE(o,i,n[u],a,!1);else VE(o,i,n,a,!1);jE!==void 0&&jE(o,r,e,n,i)}function Ia(t,e){if(e!==null){let n=e.type;if(n&3)return Zt(e,t);if(n&4)return qp(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Ia(t,r);{let i=t[e.index];return Jn(i)?qp(-1,i):Sn(i)}}else{if(n&128)return Ia(t,e.next);if(n&32)return kg(e,t)()||Sn(t[e.index]);{let r=kC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=bi(t[Tn]);return Ia(i,r)}else return Ia(t,e.next)}}}return null}function kC(t,e){if(e!==null){let r=t[Tn][hn],i=e.projection;return r.projection[i]}return null}function qp(t,e){let n=Qt+t+1;if(n<e.length){let r=e[n],i=r[he].firstChild;if(i!==null)return Ia(r,i)}return e[Ci]}function AP(t,e,n){t.removeChild(null,e,n)}function Vg(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Si(Sn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Vg(t,e,n.child,r,i,o,!1),ko(e,t,i,a,o);else if(u&32){let l=kg(n,r),h;for(;h=l();)ko(e,t,i,h,o);ko(e,t,i,a,o)}else u&16?MP(t,e,r,n,i,o):ko(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Hl(t,e,n,r,i,o){Vg(n,r,t.firstChild,e,i,o,!1)}function MP(t,e,n,r,i,o){let s=n[Tn],u=s[hn].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let h=u[l];ko(e,t,i,h,o)}else{let l=u,h=s[Ct];yC(r)&&(l.flags|=128),Vg(t,e,l,h,i,o,!0)}}function xP(t,e,n,r,i){let o=n[Ci],s=Sn(n);o!==s&&ko(e,t,r,o,i);for(let a=Qt;a<n.length;a++){let u=n[a];Hl(u[he],u,t,e,r,o)}}function RP(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Kn.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Kn.Important),t.setStyle(n,r,i,o))}}function NP(t,e,n){t.setAttribute(e,"style",n)}function FC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function LC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Tp(t,e,r),i!==null&&FC(t,e,i),o!==null&&NP(t,e,o)}var jr={};function q(t=1){VC(Rt(),Te(),Xo()+t,!1)}function VC(t,e,n,r){if(!r)if((e[J]&3)===3){let o=t.preOrderCheckHooks;o!==null&&rl(e,o,n)}else{let o=t.preOrderHooks;o!==null&&il(e,o,0,n)}Di(n)}function Q(t,e=ae.Default){let n=Te();if(n===null)return le(t,e);let r=Dt();return uC(r,n,It(t),e)}function jC(t,e,n,r,i,o){let s=_e(null);try{let a=null;i&Nr.SignalBased&&(a=e[r][zn]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Nr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):N0(e,a,r,o)}finally{_e(s)}}function PP(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Di(~i);else{let o=i,s=n[++r],a=n[++r];_N(s,o);let u=e[o];a(2,u)}}}finally{Di(-1)}}function zl(t,e,n,r,i,o,s,a,u,l,h){let p=e.blueprint.slice();return p[Zn]=i,p[J]=r|4|128|8|64,(l!==null||t&&t[J]&2048)&&(p[J]|=2048),U0(p),p[Ct]=p[Yo]=t,p[ln]=n,p[Dn]=s||t&&t[Dn],p[Je]=a||t&&t[Je],p[Bo]=u||t&&t[Bo]||null,p[hn]=o,p[Fl]=XN(),p[dl]=h,p[M0]=l,p[Tn]=e.type==2?t[Tn]:p,p}function ql(t,e,n,r,i){let o=t.data[e];if(o===null)o=OP(t,e,n,r,i),vN()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=pN();o.injectorIndex=s===null?-1:s.injectorIndex}return Pa(o,!0),o}function OP(t,e,n,r,i){let o=q0(),s=G0(),a=s?o:o&&o.parent,u=t.data[e]=jP(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function UC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function BC(t,e,n,r,i){let o=Xo(),s=r&2;try{Di(-1),s&&e.length>dn&&VC(t,e,dn,!1),En(s?2:0,i),n(r,i)}finally{Di(o),En(s?3:1,i)}}function $C(t,e,n){if(R0(e)){let r=_e(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{_e(r)}}}function HC(t,e,n){z0()&&(qP(t,e,n,Zt(n,e)),(n.flags&64)===64&&QC(t,e,n))}function zC(t,e,n=Zt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function qC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=jg(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function jg(t,e,n,r,i,o,s,a,u,l,h){let p=dn+r,m=p+i,v=kP(p,m),S=typeof l=="function"?l():l;return v[he]={type:t,blueprint:v,template:n,queries:null,viewQuery:a,declTNode:e,data:v.slice().fill(null,p),bindingStartIndex:p,expandoStartIndex:m,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:S,incompleteFirstPass:!1,ssrId:h}}function kP(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:jr);return n}function FP(t,e,n,r){let o=r.get(sP,CC)||n===bn.ShadowDom,s=t.selectRootElement(e,o);return LP(s),s}function LP(t){VP(t)}var VP=()=>null;function jP(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return dN()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function UE(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Nr.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?BE(r,n,l,a,u):BE(r,n,l,a)}return r}function BE(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function UP(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,l=null;for(let h=r;h<i;h++){let p=o[h],m=n?n.get(p):null,v=m?m.inputs:null,S=m?m.outputs:null;u=UE(0,p.inputs,h,u,v),l=UE(1,p.outputs,h,l,S);let N=u!==null&&s!==null&&!fg(e)?n1(u,h,s):null;a.push(N)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=l}function BP(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function GC(t,e,n,r,i,o,s,a){let u=Zt(e,n),l=e.inputs,h;!a&&l!=null&&(h=l[r])?(Ug(t,n,h,r,i),Ll(e)&&$P(n,e.index)):e.type&3?(r=BP(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function $P(t,e){let n=Fr(e,t);n[J]&16||(n[J]|=64)}function WC(t,e,n,r){if(z0()){let i=r===null?null:{"":-1},o=WP(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&KC(t,e,n,s,i,a),i&&KP(n,r,i)}n.mergedAttrs=Da(n.mergedAttrs,n.attrs)}function KC(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Fp(wl(n,e),t,r[l].type);YP(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let h=r[l];h.providersResolver&&h.providersResolver(h)}let s=!1,a=!1,u=UC(t,e,r.length,null);for(let l=0;l<r.length;l++){let h=r[l];n.mergedAttrs=Da(n.mergedAttrs,h.hostAttrs),ZP(t,n,e,u,h),QP(u,h,i),h.contentQueries!==null&&(n.flags|=4),(h.hostBindings!==null||h.hostAttrs!==null||h.hostVars!==0)&&(n.flags|=64);let p=h.type.prototype;!s&&(p.ngOnChanges||p.ngOnInit||p.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(p.ngOnChanges||p.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}UP(t,n,o)}function HP(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;zP(s)!=a&&s.push(a),s.push(n,r,o)}}function zP(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function qP(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Ll(n)&&JP(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||wl(n,e),Si(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],l=zo(e,t,a,n);if(Si(l,e),s!==null&&t1(e,a-i,l,u,n,s),Pr(u)){let h=Fr(n.index,e);h[ln]=zo(e,t,a,n)}}}function QC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=wN();try{Di(o);for(let a=r;a<i;a++){let u=t.data[a],l=e[a];Pp(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&GP(u,l)}}finally{Di(-1),Pp(s)}}function GP(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function WP(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(PR(e,s.selectors,!1))if(r||(r=[]),Pr(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Gp(t,e,u)}else r.unshift(s),Gp(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Gp(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function KP(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new $(-301,!1);r.push(e[i],o)}}}function QP(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Pr(e)&&(n[""]=t)}}function YP(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function ZP(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Ii(i.type,!0)),s=new Ti(o,Pr(i),Q);t.blueprint[r]=s,n[r]=s,HP(t,e,r,UC(t,n,i.hostVars,jr),i)}function JP(t,e,n){let r=Zt(e,t),i=qC(n),o=t[Dn].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Gl(t,zl(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function XP(t,e,n,r,i,o){let s=Zt(t,e);e1(e[Je],s,o,t.value,n,r,i)}function e1(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?Pl(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function t1(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],l=s[a++],h=s[a++],p=s[a++];jC(r,n,u,l,h,p)}}function n1(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function YC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function ZC(t,e){let n=t.contentQueries;if(n!==null){let r=_e(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];K0(o),a.contentQueries(2,e[s],s)}}}finally{_e(r)}}}function Gl(t,e){return t[Sa]?t[TE][un]=e:t[Sa]=e,t[TE]=e,e}function Wp(t,e,n){K0(0);let r=_e(null);try{e(t,n)}finally{_e(r)}}function r1(t){return t[hl]??=[]}function i1(t){return t.cleanup??=[]}function JC(t,e){let n=t[Bo],r=n?n.get(Wn,null):null;r&&r.handleError(e)}function Ug(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],l=e[s],h=t.data[s];jC(h,l,r,a,u,i)}}function o1(t,e,n){let r=L0(e,t);gP(t[Je],r,n)}function s1(t,e){let n=Fr(e,t),r=n[he];a1(r,n);let i=n[Zn];i!==null&&n[dl]===null&&(n[dl]=Pg(i,n[Bo])),Bg(r,n,n[ln])}function a1(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Bg(t,e,n){wg(e);try{let r=t.viewQuery;r!==null&&Wp(1,r,n);let i=t.template;i!==null&&BC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Ho]?.finishViewCreation(t),t.staticContentQueries&&ZC(t,e),t.staticViewQueries&&Wp(2,t.viewQuery,n);let o=t.components;o!==null&&c1(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[J]&=-5,Ig()}}function c1(t,e){for(let n=0;n<e.length;n++)s1(t,e[n])}function u1(t,e,n,r){let i=_e(null);try{let o=e.tView,a=t[J]&4096?4096:16,u=zl(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[$o]=l;let h=t[Ho];return h!==null&&(u[Ho]=h.createEmbeddedView(o)),Bg(o,u,n),u}finally{_e(i)}}function $E(t,e){return!e||e.firstChild===null||yC(t)}function l1(t,e,n,r=!0){let i=e[he];if(_P(i,e,t,n),r){let s=qp(n,t),a=e[Je],u=OC(a,t[Ci]);u!==null&&yP(i,t[hn],a,e,u,s)}let o=e[dl];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Dl(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(Sn(o)),Jn(o)&&d1(o,r);let s=n.type;if(s&8)Dl(t,e,n.child,r);else if(s&32){let a=kg(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=kC(e,n);if(Array.isArray(a))r.push(...a);else{let u=bi(e[Tn]);Dl(u[he],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function d1(t,e){for(let n=Qt;n<t.length;n++){let r=t[n],i=r[he].firstChild;i!==null&&Dl(r[he],r,i,e)}t[Ci]!==t[Zn]&&e.push(t[Ci])}var XC=[];function h1(t){return t[Kt]??f1(t)}function f1(t){let e=XC.pop()??Object.create(g1);return e.lView=t,e}function p1(t){t.lView[Kt]!==t&&(t.lView=null,XC.push(t))}var g1=ue(F({},ya),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{jl(t.lView)},consumerOnSignalRead(){this.lView[Kt]=this}});function m1(t){let e=t[Kt]??Object.create(y1);return e.lView=t,e}var y1=ue(F({},ya),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=bi(t.lView);for(;e&&!eb(e[he]);)e=bi(e);e&&B0(e)},consumerOnSignalRead(){this.lView[Kt]=this}});function eb(t){return t.type!==2}var v1=100;function tb(t,e=!0,n=0){let r=t[Dn],i=r.rendererFactory,o=!1;o||i.begin?.();try{_1(t,n)}catch(s){throw e&&JC(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function _1(t,e){let n=W0();try{AE(!0),Kp(t,e);let r=0;for(;Vl(t);){if(r===v1)throw new $(103,!1);r++,Kp(t,1)}}finally{AE(n)}}function w1(t,e,n,r){let i=e[J];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Dn].inlineEffectRunner?.flush(),wg(e);let a=!0,u=null,l=null;o||(eb(t)?(l=h1(e),u=wu(l)):NI()===null?(a=!1,l=m1(e),u=wu(l)):e[Kt]&&(Hf(e[Kt]),e[Kt]=null));try{U0(e),mN(t.bindingStartIndex),n!==null&&BC(t,e,n,2,r);let h=(i&3)===3;if(!o)if(h){let v=t.preOrderCheckHooks;v!==null&&rl(e,v,null)}else{let v=t.preOrderHooks;v!==null&&il(e,v,0,null),hp(e,0)}if(s||I1(e),nb(e,0),t.contentQueries!==null&&ZC(t,e),!o)if(h){let v=t.contentCheckHooks;v!==null&&rl(e,v)}else{let v=t.contentHooks;v!==null&&il(e,v,1),hp(e,1)}PP(t,e);let p=t.components;p!==null&&ib(e,p,0);let m=t.viewQuery;if(m!==null&&Wp(2,m,r),!o)if(h){let v=t.viewCheckHooks;v!==null&&rl(e,v)}else{let v=t.viewHooks;v!==null&&il(e,v,2),hp(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[dp]){for(let v of e[dp])v();e[dp]=null}o||(e[J]&=-73)}catch(h){throw o||jl(e),h}finally{l!==null&&(Bf(l,u),a&&p1(l)),Ig()}}function nb(t,e){for(let n=_C(t);n!==null;n=wC(n))for(let r=Qt;r<n.length;r++){let i=n[r];rb(i,e)}}function I1(t){for(let e=_C(t);e!==null;e=wC(e)){if(!(e[J]&gl.HasTransplantedViews))continue;let n=e[pl];for(let r=0;r<n.length;r++){let i=n[r];B0(i)}}}function E1(t,e,n){let r=Fr(e,t);rb(r,n)}function rb(t,e){vg(t)&&Kp(t,e)}function Kp(t,e){let r=t[he],i=t[J],o=t[Kt],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&$f(o)),s||=!1,o&&(o.dirty=!1),t[J]&=-9217,s)w1(r,t,r.template,t[ln]);else if(i&8192){nb(t,1);let a=r.components;a!==null&&ib(t,a,1)}}function ib(t,e,n){for(let r=0;r<e.length;r++)E1(t,e[r],n)}function $g(t,e){let n=W0()?64:1088;for(t[Dn].changeDetectionScheduler?.notify(e);t;){t[J]|=n;let r=bi(t);if(xp(t)&&!r)return t;t=r}return null}var Ai=class{get rootNodes(){let e=this._lView,n=e[he];return Dl(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[ln]}set context(e){this._lView[ln]=e}get destroyed(){return(this._lView[J]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ct];if(Jn(e)){let n=e[fl],r=n?n.indexOf(this):-1;r>-1&&(zp(e,r),ul(n,r))}this._attachedToViewContainer=!1}NC(this._lView[he],this._lView)}onDestroy(e){$0(this._lView,e)}markForCheck(){$g(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[J]&=-129}reattach(){Np(this._lView),this._lView[J]|=128}detectChanges(){this._lView[J]|=1024,tb(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new $(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=xp(this._lView),n=this._lView[$o];n!==null&&!e&&Fg(n,this._lView),xC(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new $(902,!1);this._appRef=e;let n=xp(this._lView),r=this._lView[$o];r!==null&&!n&&RC(r,this._lView),Np(this._lView)}},Wl=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=D1;let t=e;return t})(),C1=Wl,b1=class extends C1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=u1(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ai(i)}};function D1(){return T1(Dt(),Te())}function T1(t,e){return t.type&4?new b1(e,t,Bl(t,e)):null}var E9=new RegExp(`^(\\d+)*(${iP}|${rP})*(.*)`);var S1=()=>null;function HE(t,e){return S1(t,e)}var qo=class{},Hg=new H("",{providedIn:"root",factory:()=>!1});var ob=new H(""),sb=new H(""),Qp=class{},Tl=class{};function A1(t){let e=Error(`No component factory found for ${Et(t)}.`);return e[M1]=t,e}var M1="ngComponent";var Yp=class{resolveComponentFactory(e){throw A1(e)}},Jg=class Jg{};Jg.NULL=new Yp;var Go=Jg,Wo=class{},Ur=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>x1();let t=e;return t})();function x1(){let t=Te(),e=Dt(),n=Fr(e.index,t);return(Rr(n)?n:t)[Je]}var R1=(()=>{let e=class e{};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Zp(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=mE(i,a);else if(o==2){let u=a,l=e[++s];r=mE(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Sl=class extends Go{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ei(e);return new Aa(n,this.ngModule)}};function zE(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Nr.None;e?n.push({propName:s,templateName:r,isSignal:(a&Nr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function N1(t){let e=t.toLowerCase();return e==="svg"?F0:e==="math"?iN:null}var Aa=class extends Tl{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=zE(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return zE(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=LR(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=_e(null);try{i=i||this.ngModule;let s=i instanceof Yt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Op(e,s):e,u=a.get(Wo,null);if(u===null)throw new $(407,!1);let l=a.get(R1,null),h=a.get(qo,null),p={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:h},m=u.createRenderer(null,this.componentDef),v=this.componentDef.selectors[0][0]||"div",S=r?FP(m,r,this.componentDef.encapsulation,a):MC(m,v,N1(v)),N=512;this.componentDef.signals?N|=4096:this.componentDef.onPush||(N|=16);let M=null;S!==null&&(M=Pg(S,a,!0));let j=jg(0,null,null,1,0,null,null,null,null,null,null),z=zl(null,j,null,N,null,null,p,m,a,null,M);wg(z);let K,de,Fe=null;try{let ee=this.componentDef,C,y=null;ee.findHostDirectiveDefs?(C=[],y=new Map,ee.findHostDirectiveDefs(ee,C,y),C.push(ee)):C=[ee];let _=P1(z,S);Fe=O1(_,S,ee,C,z,p,m),de=V0(j,dn),S&&L1(m,ee,S,r),n!==void 0&&V1(de,this.ngContentSelectors,n),K=F1(Fe,ee,C,y,z,[j1]),Bg(j,z,null)}catch(ee){throw Fe!==null&&$p(Fe),$p(z),ee}finally{Ig()}return new Jp(this.componentType,K,Bl(de,z),z,de)}finally{_e(o)}}},Jp=class extends Qp{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ai(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Ug(o[he],o,i,e,n),this.previousInputValues.set(e,n);let s=Fr(this._tNode.index,o);$g(s,1)}}get injector(){return new wi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function P1(t,e){let n=t[he],r=dn;return t[r]=e,ql(n,r,2,"#host",null)}function O1(t,e,n,r,i,o,s){let a=i[he];k1(r,t,e,s);let u=null;e!==null&&(u=Pg(e,i[Bo]));let l=o.rendererFactory.createRenderer(e,n),h=16;n.signals?h=4096:n.onPush&&(h=64);let p=zl(i,qC(n),null,h,i[t.index],t,o,l,null,null,u);return a.firstCreatePass&&Gp(a,t,r.length-1),Gl(i,p),i[t.index]=p}function k1(t,e,n,r){for(let i of t)e.mergedAttrs=Da(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Zp(e,e.mergedAttrs,!0),n!==null&&LC(r,n,e))}function F1(t,e,n,r,i,o){let s=Dt(),a=i[he],u=Zt(s,i);KC(a,i,s,n,null,r);for(let h=0;h<n.length;h++){let p=s.directiveStart+h,m=zo(i,a,p,s);Si(m,i)}QC(a,i,s),u&&Si(u,i);let l=zo(i,a,s.directiveStart+s.componentOffset,s);if(t[ln]=i[ln]=l,o!==null)for(let h of o)h(l,e);return $C(a,s,i),l}function L1(t,e,n,r){if(r)Tp(t,n,["ng-version","18.2.2"]);else{let{attrs:i,classes:o}=VR(e.selectors[0]);i&&Tp(t,n,i),o&&o.length>0&&FC(t,n,o.join(" "))}}function V1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function j1(){let t=Dt();Dg(Te()[he],t)}var ts=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=U1;let t=e;return t})();function U1(){let t=Dt();return $1(t,Te())}var B1=ts,ab=class extends B1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Bl(this._hostTNode,this._hostLView)}get injector(){return new wi(this._hostTNode,this._hostLView)}get parentInjector(){let e=Tg(this._hostTNode,this._hostLView);if(rC(e)){let n=vl(e,this._hostLView),r=yl(e),i=n[he].data[r+8];return new wi(i,n)}else return new wi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=qE(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Qt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=HE(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,$E(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!eN(e),a;if(s)a=n;else{let S=n||{};a=S.index,r=S.injector,i=S.projectableNodes,o=S.environmentInjector||S.ngModuleRef}let u=s?e:new Aa(Ei(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let N=(s?l:this.parentInjector).get(Yt,null);N&&(o=N)}let h=Ei(u.componentType??{}),p=HE(this._lContainer,h?.id??null),m=p?.firstChild??null,v=u.create(l,i,m,o);return this.insertImpl(v.hostView,a,$E(this._hostTNode,p)),v}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(oN(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ct],l=new ab(u,u[hn],u[Ct]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return l1(s,i,o,r),e.attachToViewContainerRef(),f0(yp(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=qE(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=zp(this._lContainer,n);r&&(ul(yp(this._lContainer),n),NC(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=zp(this._lContainer,n);return r&&ul(yp(this._lContainer),n)!=null?new Ai(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function qE(t){return t[fl]}function yp(t){return t[fl]||(t[fl]=[])}function $1(t,e){let n,r=e[t.index];return Jn(r)?n=r:(n=YC(r,e,null,t),e[t.index]=n,Gl(e,n)),z1(n,e,t,r),new ab(n,t,e)}function H1(t,e){let n=t[Je],r=n.createComment(""),i=Zt(e,t),o=OC(n,i);return bl(n,o,r,bP(n,i),!1),r}var z1=W1,q1=()=>!1;function G1(t,e,n){return q1(t,e,n)}function W1(t,e,n,r){if(t[Ci])return;let i;n.type&8?i=Sn(r):i=H1(e,n),t[Ci]=i}var GE=new Set;function Fa(t){GE.has(t)||(GE.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function K1(t){return typeof t=="function"&&t[zn]!==void 0}function La(t,e){Fa("NgSignals");let n=HI(t),r=n[zn];return e?.equal&&(r.equal=e.equal),n.set=i=>zf(r,i),n.update=i=>zI(r,i),n.asReadonly=Q1.bind(n),n}function Q1(){let t=this[zn];if(t.readonlyFn===void 0){let e=()=>this();e[zn]=t,t.readonlyFn=e}return t.readonlyFn}function cb(t){return K1(t)&&typeof t.set=="function"}function Y1(t){return Object.getPrototypeOf(t.prototype).constructor}function Br(t){let e=Y1(t.type),n=!0,r=[t];for(;e;){let i;if(Pr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new $(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Xu(t.inputs),s.inputTransforms=Xu(t.inputTransforms),s.declaredInputs=Xu(t.declaredInputs),s.outputs=Xu(t.outputs);let a=i.hostBindings;a&&tO(t,a);let u=i.viewQuery,l=i.contentQueries;if(u&&X1(t,u),l&&eO(t,l),Z1(t,i),oR(t.outputs,i.outputs),Pr(i)&&i.data.animation){let h=t.data;h.animation=(h.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===Br&&(n=!1)}}e=Object.getPrototypeOf(e)}J1(r)}function Z1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function J1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Da(i.hostAttrs,n=Da(n,i.hostAttrs))}}function Xu(t){return t===Vo?{}:t===Wt?[]:t}function X1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function eO(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function tO(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function zg(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Or=class{},Ma=class{};var Xp=class extends Or{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Sl(this);let o=E0(e);this._bootstrapComponents=AC(o.bootstrap),this._r3Injector=hC(e,n,[{provide:Or,useValue:this},{provide:Go,useValue:this.componentFactoryResolver},...r],Et(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},eg=class extends Ma{constructor(e){super(),this.moduleType=e}create(e){return new Xp(this.moduleType,e,[])}};var Al=class extends Or{constructor(e){super(),this.componentFactoryResolver=new Sl(this),this.instance=null;let n=new Ta([...e.providers,{provide:Or,useValue:this},{provide:Go,useValue:this.componentFactoryResolver}],e.parent||mg(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function qg(t,e,n=null){return new Al({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function ub(t){return rO(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function nO(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function rO(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function Gg(t,e,n){return t[e]=n}function iO(t,e){return t[e]}function kr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function oO(t,e,n,r){let i=kr(t,e,n);return kr(t,e+1,r)||i}function sO(t){return(t.flags&32)===32}function aO(t,e,n,r,i,o,s,a,u){let l=e.consts,h=ql(e,t,4,s||null,a||null);WC(e,n,h,ml(l,u)),Dg(e,h);let p=h.tView=jg(2,h,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,h),p.queries=e.queries.embeddedTView(h)),h}function cO(t,e,n,r,i,o,s,a,u,l){let h=n+dn,p=e.firstCreatePass?aO(h,e,t,r,i,o,s,a,u):e.data[h];Pa(p,!1);let m=uO(e,t,p,n);Cg()&&Lg(e,t,m,p),Si(m,t);let v=YC(m,t,m,p);return t[h]=v,Gl(t,v),G1(v,p,t),yg(p)&&HC(e,t,p),u!=null&&zC(t,p,l),p}function Ft(t,e,n,r,i,o,s,a){let u=Te(),l=Rt(),h=ml(l.consts,o);return cO(u,l,t,e,n,r,i,h,s,a),Ft}var uO=lO;function lO(t,e,n,r){return bg(!0),e[Je].createComment("")}var Ea=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Ea||{}),dO=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=W({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),vi=class vi{constructor(){this.ngZone=L(Se),this.scheduler=L(qo),this.errorHandler=L(Wn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of vi.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};vi.PHASES=[Ea.EarlyRead,Ea.Write,Ea.MixedReadWrite,Ea.Read],vi.\u0275prov=W({token:vi,providedIn:"root",factory:()=>new vi});var WE=vi;function Kl(t,e,n,r){let i=Te(),o=Ul();if(kr(i,o,e)){let s=Rt(),a=Eg();XP(a,i,t,e,n,r)}return Kl}function hO(t,e,n,r){return kr(t,Ul(),n)?e+Pl(n)+r:jr}function el(t,e){return t<<17|e<<2}function Mi(t){return t>>17&32767}function fO(t){return(t&2)==2}function pO(t,e){return t&131071|e<<17}function tg(t){return t|2}function Ko(t){return(t&131068)>>2}function vp(t,e){return t&-131069|e<<2}function gO(t){return(t&1)===1}function ng(t){return t|1}function mO(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Mi(s),u=Ko(s);t[r]=n;let l=!1,h;if(Array.isArray(n)){let p=n;h=p[1],(h===null||Na(p,h)>0)&&(l=!0)}else h=n;if(i)if(u!==0){let m=Mi(t[a+1]);t[r+1]=el(m,a),m!==0&&(t[m+1]=vp(t[m+1],r)),t[a+1]=pO(t[a+1],r)}else t[r+1]=el(a,0),a!==0&&(t[a+1]=vp(t[a+1],r)),a=r;else t[r+1]=el(u,0),a===0?a=r:t[u+1]=vp(t[u+1],r),u=r;l&&(t[r+1]=tg(t[r+1])),KE(t,h,r,!0),KE(t,h,r,!1),yO(e,h,t,r,o),s=el(a,u),o?e.classBindings=s:e.styleBindings=s}function yO(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Na(o,e)>=0&&(n[r+1]=ng(n[r+1]))}function KE(t,e,n,r){let i=t[n+1],o=e===null,s=r?Mi(i):Ko(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],l=t[s+1];vO(u,e)&&(a=!0,t[s+1]=r?ng(l):tg(l)),s=r?Mi(l):Ko(l)}a&&(t[n+1]=r?tg(i):ng(i))}function vO(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Na(t,e)>=0:!1}function se(t,e,n){let r=Te(),i=Ul();if(kr(r,i,e)){let o=Rt(),s=Eg();GC(o,s,r,t,e,r[Je],n,!1)}return se}function QE(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Ug(t,n,o[s],s,r)}function Ql(t,e){return _O(t,e,null,!0),Ql}function _O(t,e,n,r){let i=Te(),o=Rt(),s=yN(2);if(o.firstUpdatePass&&IO(o,t,s,r),e!==jr&&kr(i,s,e)){let a=o.data[Xo()];TO(o,a,i,i[Je],t,i[s+1]=SO(e,n),r,s)}}function wO(t,e){return e>=t.expandoStartIndex}function IO(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Xo()],s=wO(t,n);AO(o,r)&&e===null&&!s&&(e=!1),e=EO(i,o,e,r),mO(i,o,e,n,s,r)}}function EO(t,e,n,r){let i=IN(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=_p(null,t,e,n,r),n=xa(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=_p(i,t,e,n,r),o===null){let u=CO(t,e,r);u!==void 0&&Array.isArray(u)&&(u=_p(null,t,e,u[1],r),u=xa(u,e.attrs,r),bO(t,e,r,u))}else o=DO(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function CO(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Ko(r)!==0)return t[Mi(r)]}function bO(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Mi(i)]=r}function DO(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=xa(r,s,n)}return xa(r,e.attrs,n)}function _p(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=xa(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function xa(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),DR(t,s,n?!0:e[++o]))}return t===void 0?null:t}function TO(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,l=u[a+1],h=gO(l)?YE(u,e,n,i,Ko(l),s):void 0;if(!Ml(h)){Ml(o)||fO(l)&&(o=YE(u,null,n,i,a,s));let p=L0(Xo(),n);RP(r,s,p,i,o)}}function YE(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],l=Array.isArray(u),h=l?u[1]:u,p=h===null,m=n[i+1];m===jr&&(m=p?Wt:void 0);let v=p?up(m,r):h===r?m:void 0;if(l&&!Ml(v)&&(v=up(u,r)),Ml(v)&&(a=v,s))return a;let S=t[i+1];i=s?Mi(S):Ko(S)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=up(u,r))}return a}function Ml(t){return t!==void 0}function SO(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Et(ka(t)))),t}function AO(t,e){return(t.flags&(e?8:16))!==0}function MO(t,e,n,r,i,o){let s=e.consts,a=ml(s,i),u=ql(e,t,2,r,a);return WC(e,n,u,ml(s,o)),u.attrs!==null&&Zp(u,u.attrs,!1),u.mergedAttrs!==null&&Zp(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function R(t,e,n,r){let i=Te(),o=Rt(),s=dn+t,a=i[Je],u=o.firstCreatePass?MO(s,o,i,e,n,r):o.data[s],l=xO(o,i,u,a,e,t);i[s]=l;let h=yg(u);return Pa(u,!0),LC(a,l,u),!sO(u)&&Cg()&&Lg(o,i,l,u),cN()===0&&Si(l,i),uN(),h&&(HC(o,i,u),$C(o,u,i)),r!==null&&zC(i,u),R}function P(){let t=Dt();G0()?gN():(t=t.parent,Pa(t,!1));let e=t;hN(e)&&fN(),lN();let n=Rt();return n.firstCreatePass&&(Dg(n,t),R0(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&MN(e)&&QE(n,e,Te(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&xN(e)&&QE(n,e,Te(),e.stylesWithoutHost,!1),P}function we(t,e,n,r){return R(t,e,n,r),P(),we}var xO=(t,e,n,r,i,o)=>(bg(!0),MC(r,i,DN()));function ns(){return Te()}var mi=void 0;function RO(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var NO=["en",[["a","p"],["AM","PM"],mi],[["AM","PM"],mi,mi],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],mi,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],mi,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",mi,"{1} 'at' {0}",mi],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",RO],wp={};function Jt(t){let e=PO(t),n=ZE(e);if(n)return n;let r=e.split("-")[0];if(n=ZE(r),n)return n;if(r==="en")return NO;throw new $(701,!1)}function ZE(t){return t in wp||(wp[t]=_i.ng&&_i.ng.common&&_i.ng.common.locales&&_i.ng.common.locales[t]),wp[t]}var Be=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Be||{});function PO(t){return t.toLowerCase().replace(/_/g,"-")}var xl="en-US";var OO=xl;function kO(t){typeof t=="string"&&(OO=t.toLowerCase().replace(/_/g,"-"))}var FO=(t,e,n)=>{};function $e(t,e,n,r){let i=Te(),o=Rt(),s=Dt();return lb(o,i,i[Je],s,t,e,r),$e}function LO(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[hl],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function lb(t,e,n,r,i,o,s){let a=yg(r),l=t.firstCreatePass&&i1(t),h=e[ln],p=r1(e),m=!0;if(r.type&3||s){let N=Zt(r,e),M=s?s(N):N,j=p.length,z=s?de=>s(Sn(de[r.index])):r.index,K=null;if(!s&&a&&(K=LO(t,e,i,r.index)),K!==null){let de=K.__ngLastListenerFn__||K;de.__ngNextListenerFn__=o,K.__ngLastListenerFn__=o,m=!1}else{o=XE(r,e,h,o),FO(N,i,o);let de=n.listen(M,i,o);p.push(o,de),l&&l.push(i,z,j,j+1)}}else o=XE(r,e,h,o);let v=r.outputs,S;if(m&&v!==null&&(S=v[i])){let N=S.length;if(N)for(let M=0;M<N;M+=2){let j=S[M],z=S[M+1],Fe=e[j][z].subscribe(o),ee=p.length;p.push(o,Fe),l&&l.push(i,r.index,ee,-(ee+1))}}}function JE(t,e,n,r){let i=_e(null);try{return En(6,e,n),n(r)!==!1}catch(o){return JC(t,o),!1}finally{En(7,e,n),_e(i)}}function XE(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Fr(t.index,e):e;$g(s,5);let a=JE(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=JE(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function Lt(t=1){return CN(t)}function VO(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function V(t,e=""){let n=Te(),r=Rt(),i=t+dn,o=r.firstCreatePass?ql(r,i,1,e,null):r.data[i],s=jO(r,n,o,e,t);n[i]=s,Cg()&&Lg(r,n,s,o),Pa(o,!1)}var jO=(t,e,n,r,i)=>(bg(!0),pP(e[Je],r));function Pi(t){return Xt("",t,""),Pi}function Xt(t,e,n){let r=Te(),i=hO(r,t,e,n);return i!==jr&&o1(r,Xo(),i),Xt}function Mn(t,e,n){cb(e)&&(e=e());let r=Te(),i=Ul();if(kr(r,i,e)){let o=Rt(),s=Eg();GC(o,s,r,t,e,r[Je],n,!1)}return Mn}function er(t,e){let n=cb(t);return n&&t.set(e),n}function xn(t,e){let n=Te(),r=Rt(),i=Dt();return lb(r,n,n[Je],i,t,e),xn}function UO(t,e,n){let r=Rt();if(r.firstCreatePass){let i=Pr(t);rg(n,r.data,r.blueprint,i,!0),rg(e,r.data,r.blueprint,i,!1)}}function rg(t,e,n,r,i){if(t=It(t),Array.isArray(t))for(let o=0;o<t.length;o++)rg(t[o],e,n,r,i);else{let o=Rt(),s=Te(),a=Dt(),u=Uo(t)?t:It(t.provide),l=A0(t),h=a.providerIndexes&1048575,p=a.directiveStart,m=a.providerIndexes>>20;if(Uo(t)||!t.multi){let v=new Ti(l,i,Q),S=Ep(u,e,i?h:h+m,p);S===-1?(Fp(wl(a,s),o,u),Ip(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(v),s.push(v)):(n[S]=v,s[S]=v)}else{let v=Ep(u,e,h+m,p),S=Ep(u,e,h,h+m),N=v>=0&&n[v],M=S>=0&&n[S];if(i&&!M||!i&&!N){Fp(wl(a,s),o,u);let j=HO(i?$O:BO,n.length,i,r,l);!i&&M&&(n[S].providerFactory=j),Ip(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=db(n[i?S:v],l,!i&&r);Ip(o,t,v>-1?v:S,j)}!i&&r&&M&&n[S].componentProviders++}}}function Ip(t,e,n,r){let i=Uo(e),o=GR(e);if(i||o){let u=(o?It(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let h=l.indexOf(n);h===-1?l.push(n,[r,u]):l[h+1].push(r,u)}else l.push(n,u)}}}function db(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Ep(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function BO(t,e,n,r){return ig(this.multi,[])}function $O(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=zo(n,n[he],this.providerFactory.index,r);o=a.slice(0,s),ig(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],ig(i,o);return o}function ig(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function HO(t,e,n,r,i){let o=new Ti(t,n,Q);return o.multi=[],o.index=e,o.componentProviders=0,db(o,i,r&&!n),o}function Yl(t,e=[]){return n=>{n.providersResolver=(r,i)=>UO(r,i?i(t):t,e)}}var zO=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=D0(!1,r.type),o=i.length>0?qg([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=W({token:e,providedIn:"environment",factory:()=>new e(le(Yt))});let t=e;return t})();function rt(t){Fa("NgStandalone"),t.getStandaloneInjector=e=>e.get(zO).getOrCreateStandaloneInjector(t)}function Xe(t,e,n){let r=_g()+t,i=Te();return i[r]===jr?Gg(i,r,n?e.call(n):e()):iO(i,r)}function hb(t,e){let n=t[e];return n===jr?void 0:n}function qO(t,e,n,r,i,o){let s=e+n;return kr(t,s,i)?Gg(t,s+1,o?r.call(o,i):r(i)):hb(t,s+1)}function GO(t,e,n,r,i,o,s){let a=e+n;return oO(t,a,i,o)?Gg(t,a+2,s?r.call(s,i,o):r(i,o)):hb(t,a+2)}function Wg(t,e){let n=Rt(),r,i=t+dn;n.firstCreatePass?(r=WO(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Ii(r.type,!0)),s,a=Mt(Q);try{let u=_l(!1),l=o();return _l(u),VO(n,Te(),i,l),l}finally{Mt(a)}}function WO(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function fb(t,e,n){let r=t+dn,i=Te(),o=j0(i,r);return gb(i,r)?qO(i,_g(),e,o.transform,n,o):o.transform(n)}function pb(t,e,n,r){let i=t+dn,o=Te(),s=j0(o,i);return gb(o,i)?GO(o,_g(),e,s.transform,n,r,s):s.transform(n,r)}function gb(t,e){return t[he].data[e].pure}var Qn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},mb=new Qn("18.2.2");var Zl=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var yb=new H("");function $r(t){return!!t&&typeof t.then=="function"}function Kg(t){return!!t&&typeof t.subscribe=="function"}var vb=new H(""),_b=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=L(vb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if($r(s))r.push(s);else if(Kg(s)){let a=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qg=new H("");function KO(){$I(()=>{throw new $(600,!1)})}function QO(t){return t.isBoundToModule}var YO=10;function ZO(t,e,n){try{let r=n();return $r(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Oi=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(YN),this.afterRenderManager=L(dO),this.zonelessEnabled=L(Hg),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new tt,this.afterTick=new tt,this.componentTypes=[],this.components=[],this.isStable=L(es).hasPendingTasks.pipe(re(r=>!r)),this._injector=L(Yt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Tl;if(!this._injector.get(_b).done){let v=!o&&I0(r),S=!1;throw new $(405,S)}let a;o?a=r:a=this._injector.get(Go).resolveComponentFactory(r),this.componentTypes.push(a.componentType);let u=QO(a)?void 0:this._injector.get(Or),l=i||a.selector,h=a.create(xt.NULL,[],l,u),p=h.location.nativeElement,m=h.injector.get(yb,null);return m?.registerApplication(p),h.onDestroy(()=>{this.detachView(h.hostView),ol(this.components,h),m?.unregisterApplication(p)}),this._loadComponent(h),h}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new $(101,!1);let r=_e(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,_e(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(Wo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<YO;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)JO(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>Vl(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;ol(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Qg,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>ol(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new $(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function ol(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function JO(t,e,n,r){if(!n&&!Vl(t))return;tb(t,e,n&&!r?0:1)}var og=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Yg=(()=>{let e=class e{compileModuleSync(r){return new eg(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=E0(r),s=AC(o.declarations).reduce((a,u)=>{let l=Ei(u);return l&&a.push(new Aa(l)),a},[]);return new og(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var XO=(()=>{let e=class e{constructor(){this.zone=L(Se),this.changeDetectionScheduler=L(qo),this.applicationRef=L(Oi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),ek=new H("",{factory:()=>!1});function wb({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Se(ue(F({},Eb()),{scheduleInRootZone:n})),[{provide:Se,useFactory:t},{provide:jo,multi:!0,useFactory:()=>{let r=L(XO,{optional:!0});return()=>r.initialize()}},{provide:jo,multi:!0,useFactory:()=>{let r=L(tk);return()=>{r.initialize()}}},e===!0?{provide:ob,useValue:!0}:[],{provide:sb,useValue:n??fC}]}function Ib(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=wb({ngZoneFactory:()=>{let i=Eb(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Fa("NgZone_CoalesceEvent"),new Se(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return An([{provide:ek,useValue:!0},{provide:Hg,useValue:!1},r])}function Eb(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var tk=(()=>{let e=class e{constructor(){this.subscription=new Ve,this.initialized=!1,this.zone=L(Se),this.pendingTasks=L(es)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Se.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Se.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var nk=(()=>{let e=class e{constructor(){this.appRef=L(Oi),this.taskService=L(es),this.ngZone=L(Se),this.zonelessEnabled=L(Hg),this.disableScheduling=L(ob,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ve,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(El):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(sb,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Bp||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?PE:gC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(El+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,PE(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function rk(){return typeof $localize<"u"&&$localize.locale||xl}var Jl=new H("",{providedIn:"root",factory:()=>L(Jl,ae.Optional|ae.SkipSelf)||rk()});var Cb=new H("");function tl(t){return!!t.platformInjector}function ik(t){let e=tl(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Se);return n.run(()=>{tl(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Wn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),tl(t)){let o=()=>e.destroy(),s=t.platformInjector.get(Cb);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{ol(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return ZO(r,n,()=>{let o=e.get(_b);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Jl,xl);if(kO(s||xl),tl(t)){let a=e.get(Oi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return ok(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function ok(t,e){let n=t.injector.get(Oi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new $(-403,!1);e.push(t)}var sl=null;function sk(t=[],e){return xt.create({name:e,providers:[{provide:kl,useValue:"platform"},{provide:Cb,useValue:new Set([()=>sl=null])},...t]})}function ak(t=[]){if(sl)return sl;let e=sk(t);return sl=e,KO(),ck(e),e}function ck(t){t.get(Rg,null)?.forEach(n=>n())}var Hr=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=uk;let t=e;return t})();function uk(t){return lk(Dt(),Te(),(t&16)===16)}function lk(t,e,n){if(Ll(t)&&!n){let r=Fr(t.index,e);return new Ai(r,r)}else if(t.type&175){let r=e[Tn];return new Ai(r,e)}return null}var sg=class{constructor(){}supports(e){return ub(e)}create(e){return new ag(e)}},dk=(t,e)=>e,ag=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||dk}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<e0(r,i,o)?n:r,a=e0(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=a-i,h=u-i;if(l!=h){for(let m=0;m<l;m++){let v=m<o.length?o[m]:o[m]=0,S=v+m;h<=S&&S<l&&(o[m]=v+1)}let p=s.previousIndex;o[p]=h-l}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!ub(e))throw new $(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,nO(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new cg(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Rl),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Rl),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},cg=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},ug=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Rl=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new ug,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function e0(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function t0(){return new Zg([new sg])}var Zg=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||t0()),deps:[[e,new h0,new bt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new $(901,!1)}};e.\u0275prov=W({token:e,providedIn:"root",factory:t0});let t=e;return t})();function bb(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=ak(r),o=[wb({}),{provide:qo,useExisting:nk},...n||[]],s=new Al({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return ik({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var Db=new H("");function ki(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function Va(t,e){Fa("NgSignals");let n=jI(t);return e?.equal&&(n[zn].equal=e.equal),n}function fn(t){let e=_e(null);try{return t()}finally{_e(e)}}var Nb=null;function rr(){return Nb}function Pb(t){Nb??=t}var ad=class{};var jt=new H(""),Ob=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>L(hk),providedIn:"platform"});let t=e;return t})();var hk=(()=>{let e=class e extends Ob{constructor(){super(),this._doc=L(jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return rr().getBaseHref(this._doc)}onPopState(r){let i=rr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=rr().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function kb(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function Tb(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Fi(t){return t&&t[0]!=="?"?"?"+t:t}var rs=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>L(Fb),providedIn:"root"});let t=e;return t})(),fk=new H(""),Fb=(()=>{let e=class e extends rs{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??L(jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return kb(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+Fi(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let a=this.prepareExternalUrl(o+Fi(s));this._platformLocation.pushState(r,i,a)}replaceState(r,i,o,s){let a=this.prepareExternalUrl(o+Fi(s));this._platformLocation.replaceState(r,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(le(Ob),le(fk,8))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var ja=(()=>{let e=class e{constructor(r){this._subject=new ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=mk(Tb(Sb(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+Fi(i))}normalize(r){return e.stripTrailingSlash(gk(this._basePath,Sb(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fi(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+Fi(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=Fi,e.joinWithSlash=kb,e.stripTrailingSlash=Tb,e.\u0275fac=function(i){return new(i||e)(le(rs))},e.\u0275prov=W({token:e,factory:()=>pk(),providedIn:"root"});let t=e;return t})();function pk(){return new ja(le(rs))}function gk(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function Sb(t){return t.replace(/\/index.html$/,"")}function mk(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var Tt=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}(Tt||{}),xe=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(xe||{}),Vt=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(Vt||{}),zr={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function yk(t){return Jt(t)[Be.LocaleId]}function vk(t,e,n){let r=Jt(t),i=[r[Be.DayPeriodsFormat],r[Be.DayPeriodsStandalone]],o=en(i,e);return en(o,n)}function _k(t,e,n){let r=Jt(t),i=[r[Be.DaysFormat],r[Be.DaysStandalone]],o=en(i,e);return en(o,n)}function wk(t,e,n){let r=Jt(t),i=[r[Be.MonthsFormat],r[Be.MonthsStandalone]],o=en(i,e);return en(o,n)}function Ik(t,e){let r=Jt(t)[Be.Eras];return en(r,e)}function Xl(t,e){let n=Jt(t);return en(n[Be.DateFormat],e)}function ed(t,e){let n=Jt(t);return en(n[Be.TimeFormat],e)}function td(t,e){let r=Jt(t)[Be.DateTimeFormat];return en(r,e)}function ld(t,e){let n=Jt(t),r=n[Be.NumberSymbols][e];if(typeof r>"u"){if(e===zr.CurrencyDecimal)return n[Be.NumberSymbols][zr.Decimal];if(e===zr.CurrencyGroup)return n[Be.NumberSymbols][zr.Group]}return r}function Lb(t){if(!t[Be.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Be.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function Ek(t){let e=Jt(t);return Lb(e),(e[Be.ExtraData][2]||[]).map(r=>typeof r=="string"?Xg(r):[Xg(r[0]),Xg(r[1])])}function Ck(t,e,n){let r=Jt(t);Lb(r);let i=[r[Be.ExtraData][0],r[Be.ExtraData][1]],o=en(i,e)||[];return en(o,n)||[]}function en(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function Xg(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var bk=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,nd={},Dk=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,nr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(nr||{}),be=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(be||{}),Ce=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ce||{});function Tk(t,e,n,r){let i=kk(t);e=tr(n,e)||e;let s=[],a;for(;e;)if(a=Dk.exec(e),a){s=s.concat(a.slice(1));let h=s.pop();if(!h)break;e=h}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=jb(r,u),i=Ok(i,r,!0));let l="";return s.forEach(h=>{let p=Nk(h);l+=p?p(i,n,u):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),l}function cd(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function tr(t,e){let n=yk(t);if(nd[n]??={},nd[n][e])return nd[n][e];let r="";switch(e){case"shortDate":r=Xl(t,Vt.Short);break;case"mediumDate":r=Xl(t,Vt.Medium);break;case"longDate":r=Xl(t,Vt.Long);break;case"fullDate":r=Xl(t,Vt.Full);break;case"shortTime":r=ed(t,Vt.Short);break;case"mediumTime":r=ed(t,Vt.Medium);break;case"longTime":r=ed(t,Vt.Long);break;case"fullTime":r=ed(t,Vt.Full);break;case"short":let i=tr(t,"shortTime"),o=tr(t,"shortDate");r=rd(td(t,Vt.Short),[i,o]);break;case"medium":let s=tr(t,"mediumTime"),a=tr(t,"mediumDate");r=rd(td(t,Vt.Medium),[s,a]);break;case"long":let u=tr(t,"longTime"),l=tr(t,"longDate");r=rd(td(t,Vt.Long),[u,l]);break;case"full":let h=tr(t,"fullTime"),p=tr(t,"fullDate");r=rd(td(t,Vt.Full),[h,p]);break}return r&&(nd[n][e]=r),r}function rd(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function pn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function Sk(t,e){return pn(t,3).substring(0,e)}function qe(t,e,n=0,r=!1,i=!1){return function(o,s){let a=Ak(t,o);if((n>0||a>-n)&&(a+=n),t===be.Hours)a===0&&n===-12&&(a=12);else if(t===be.FractionalSeconds)return Sk(a,e);let u=ld(s,zr.MinusSign);return pn(a,e,u,r,i)}}function Ak(t,e){switch(t){case be.FullYear:return e.getFullYear();case be.Month:return e.getMonth();case be.Date:return e.getDate();case be.Hours:return e.getHours();case be.Minutes:return e.getMinutes();case be.Seconds:return e.getSeconds();case be.FractionalSeconds:return e.getMilliseconds();case be.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function Ne(t,e,n=Tt.Format,r=!1){return function(i,o){return Mk(i,o,t,e,n,r)}}function Mk(t,e,n,r,i,o){switch(n){case Ce.Months:return wk(e,i,r)[t.getMonth()];case Ce.Days:return _k(e,i,r)[t.getDay()];case Ce.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let l=Ek(e),h=Ck(e,i,r),p=l.findIndex(m=>{if(Array.isArray(m)){let[v,S]=m,N=s>=v.hours&&a>=v.minutes,M=s<S.hours||s===S.hours&&a<S.minutes;if(v.hours<S.hours){if(N&&M)return!0}else if(N||M)return!0}else if(m.hours===s&&m.minutes===a)return!0;return!1});if(p!==-1)return h[p]}return vk(e,i,r)[s<12?0:1];case Ce.Eras:return Ik(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function id(t){return function(e,n,r){let i=-1*r,o=ld(n,zr.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case nr.Short:return(i>=0?"+":"")+pn(s,2,o)+pn(Math.abs(i%60),2,o);case nr.ShortGMT:return"GMT"+(i>=0?"+":"")+pn(s,1,o);case nr.Long:return"GMT"+(i>=0?"+":"")+pn(s,2,o)+":"+pn(Math.abs(i%60),2,o);case nr.Extended:return r===0?"Z":(i>=0?"+":"")+pn(s,2,o)+":"+pn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var xk=0,sd=4;function Rk(t){let e=cd(t,xk,1).getDay();return cd(t,0,1+(e<=sd?sd:sd+7)-e)}function Vb(t){let e=t.getDay(),n=e===0?-3:sd-e;return cd(t.getFullYear(),t.getMonth(),t.getDate()+n)}function em(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=Vb(n),s=Rk(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return pn(i,t,ld(r,zr.MinusSign))}}function od(t,e=!1){return function(n,r){let o=Vb(n).getFullYear();return pn(o,t,ld(r,zr.MinusSign),e)}}var tm={};function Nk(t){if(tm[t])return tm[t];let e;switch(t){case"G":case"GG":case"GGG":e=Ne(Ce.Eras,xe.Abbreviated);break;case"GGGG":e=Ne(Ce.Eras,xe.Wide);break;case"GGGGG":e=Ne(Ce.Eras,xe.Narrow);break;case"y":e=qe(be.FullYear,1,0,!1,!0);break;case"yy":e=qe(be.FullYear,2,0,!0,!0);break;case"yyy":e=qe(be.FullYear,3,0,!1,!0);break;case"yyyy":e=qe(be.FullYear,4,0,!1,!0);break;case"Y":e=od(1);break;case"YY":e=od(2,!0);break;case"YYY":e=od(3);break;case"YYYY":e=od(4);break;case"M":case"L":e=qe(be.Month,1,1);break;case"MM":case"LL":e=qe(be.Month,2,1);break;case"MMM":e=Ne(Ce.Months,xe.Abbreviated);break;case"MMMM":e=Ne(Ce.Months,xe.Wide);break;case"MMMMM":e=Ne(Ce.Months,xe.Narrow);break;case"LLL":e=Ne(Ce.Months,xe.Abbreviated,Tt.Standalone);break;case"LLLL":e=Ne(Ce.Months,xe.Wide,Tt.Standalone);break;case"LLLLL":e=Ne(Ce.Months,xe.Narrow,Tt.Standalone);break;case"w":e=em(1);break;case"ww":e=em(2);break;case"W":e=em(1,!0);break;case"d":e=qe(be.Date,1);break;case"dd":e=qe(be.Date,2);break;case"c":case"cc":e=qe(be.Day,1);break;case"ccc":e=Ne(Ce.Days,xe.Abbreviated,Tt.Standalone);break;case"cccc":e=Ne(Ce.Days,xe.Wide,Tt.Standalone);break;case"ccccc":e=Ne(Ce.Days,xe.Narrow,Tt.Standalone);break;case"cccccc":e=Ne(Ce.Days,xe.Short,Tt.Standalone);break;case"E":case"EE":case"EEE":e=Ne(Ce.Days,xe.Abbreviated);break;case"EEEE":e=Ne(Ce.Days,xe.Wide);break;case"EEEEE":e=Ne(Ce.Days,xe.Narrow);break;case"EEEEEE":e=Ne(Ce.Days,xe.Short);break;case"a":case"aa":case"aaa":e=Ne(Ce.DayPeriods,xe.Abbreviated);break;case"aaaa":e=Ne(Ce.DayPeriods,xe.Wide);break;case"aaaaa":e=Ne(Ce.DayPeriods,xe.Narrow);break;case"b":case"bb":case"bbb":e=Ne(Ce.DayPeriods,xe.Abbreviated,Tt.Standalone,!0);break;case"bbbb":e=Ne(Ce.DayPeriods,xe.Wide,Tt.Standalone,!0);break;case"bbbbb":e=Ne(Ce.DayPeriods,xe.Narrow,Tt.Standalone,!0);break;case"B":case"BB":case"BBB":e=Ne(Ce.DayPeriods,xe.Abbreviated,Tt.Format,!0);break;case"BBBB":e=Ne(Ce.DayPeriods,xe.Wide,Tt.Format,!0);break;case"BBBBB":e=Ne(Ce.DayPeriods,xe.Narrow,Tt.Format,!0);break;case"h":e=qe(be.Hours,1,-12);break;case"hh":e=qe(be.Hours,2,-12);break;case"H":e=qe(be.Hours,1);break;case"HH":e=qe(be.Hours,2);break;case"m":e=qe(be.Minutes,1);break;case"mm":e=qe(be.Minutes,2);break;case"s":e=qe(be.Seconds,1);break;case"ss":e=qe(be.Seconds,2);break;case"S":e=qe(be.FractionalSeconds,1);break;case"SS":e=qe(be.FractionalSeconds,2);break;case"SSS":e=qe(be.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=id(nr.Short);break;case"ZZZZZ":e=id(nr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=id(nr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=id(nr.Long);break;default:return null}return tm[t]=e,e}function jb(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function Pk(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function Ok(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=jb(e,i);return Pk(t,r*(o-i))}function kk(t){if(Ab(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return cd(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(bk))return Fk(r)}let e=new Date(t);if(!Ab(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function Fk(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),l=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,l),e}function Ab(t){return t instanceof Date&&!isNaN(t.valueOf())}function Ub(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var nm=/\s+/,Mb=[],Bb=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=Mb,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(nm):Mb}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(nm):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(nm).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(Q(Xn),Q(Ur))},e.\u0275dir=pt({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var rm=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},is=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,a)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new rm(o.item,this._ngForOf,-1,-1),a===null?void 0:a);else if(a==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,a),xb(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);xb(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Q(ts),Q(Wl),Q(Zg))},e.\u0275dir=pt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function xb(t,e){t.context.$implicit=e.item}var $b=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new im,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){Rb("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){Rb("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Q(ts),Q(Wl))},e.\u0275dir=pt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),im=class{constructor(){this.$implicit=null,this.ngIf=null}};function Rb(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Et(e)}'.`)}function Hb(t,e){return new $(2100,!1)}var om=class{createSubscription(e,n){return fn(()=>e.subscribe({next:n,error:r=>{throw r}}))}dispose(e){fn(()=>e.unsubscribe())}},sm=class{createSubscription(e,n){return e.then(n,r=>{throw r})}dispose(e){}},Lk=new sm,Vk=new om,zb=(()=>{let e=class e{constructor(r){this._latestValue=null,this.markForCheckOnValueUpdate=!0,this._subscription=null,this._obj=null,this._strategy=null,this._ref=r}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(r){if(!this._obj){if(r)try{this.markForCheckOnValueUpdate=!1,this._subscribe(r)}finally{this.markForCheckOnValueUpdate=!0}return this._latestValue}return r!==this._obj?(this._dispose(),this.transform(r)):this._latestValue}_subscribe(r){this._obj=r,this._strategy=this._selectStrategy(r),this._subscription=this._strategy.createSubscription(r,i=>this._updateLatestValue(r,i))}_selectStrategy(r){if($r(r))return Lk;if(Kg(r))return Vk;throw Hb(e,r)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(r,i){r===this._obj&&(this._latestValue=i,this.markForCheckOnValueUpdate&&this._ref?.markForCheck())}};e.\u0275fac=function(i){return new(i||e)(Q(Hr,16))},e.\u0275pipe=pg({name:"async",type:e,pure:!1,standalone:!0});let t=e;return t})();var jk="mediumDate",Uk=new H(""),Bk=new H(""),qb=(()=>{let e=class e{constructor(r,i,o){this.locale=r,this.defaultTimezone=i,this.defaultOptions=o}transform(r,i,o,s){if(r==null||r===""||r!==r)return null;try{let a=i??this.defaultOptions?.dateFormat??jk,u=o??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return Tk(r,a,s||this.locale,u)}catch(a){throw Hb(e,a.message)}}};e.\u0275fac=function(i){return new(i||e)(Q(Jl,16),Q(Uk,24),Q(Bk,24))},e.\u0275pipe=pg({name:"date",type:e,pure:!0,standalone:!0});let t=e;return t})();var St=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=xi({});let t=e;return t})(),Gb="browser",$k="server";function am(t){return t===$k}var ud=class{};var lm=class extends ad{constructor(){super(...arguments),this.supportsDOMEvents=!0}},dm=class t extends lm{static makeCurrent(){Pb(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=Hk();return n==null?null:zk(n)}resetBaseElement(){Ua=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Ub(document.cookie,e)}},Ua=null;function Hk(){return Ua=Ua||document.querySelector("base"),Ua?Ua.getAttribute("href"):null}function zk(t){return new URL(t,document.baseURI).pathname}var qk=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),hd=new H(""),Yb=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new $(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(le(hd),le(Se))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Ba=class{constructor(e){this._doc=e}},cm="ng-app-id",Zb=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=am(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${cm}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute(cm),s;{let a=this.doc.createElement("style");return this.nonce&&a.setAttribute("nonce",this.nonce),a.textContent=i,this.platformIsServer&&a.setAttribute(cm,this.appId),r.appendChild(a),a}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,a=s.get(i)?.elements;a?a.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(le(jt),le(xg),le(Ng,8),le(Vr))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),um={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fm=/%COMP%/g,Jb="%COMP%",Gk=`_nghost-${Jb}`,Wk=`_ngcontent-${Jb}`,Kk=!0,Qk=new H("",{providedIn:"root",factory:()=>Kk});function Yk(t){return Wk.replace(fm,t)}function Zk(t){return Gk.replace(fm,t)}function Xb(t,e){return e.map(n=>n.replace(fm,t))}var Wb=(()=>{let e=class e{constructor(r,i,o,s,a,u,l,h=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=a,this.platformId=u,this.ngZone=l,this.nonce=h,this.rendererByCompId=new Map,this.platformIsServer=am(u),this.defaultRenderer=new $a(r,a,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===bn.ShadowDom&&(i=ue(F({},i),{encapsulation:bn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof fd?o.applyToHost(r):o instanceof Ha&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let a=this.doc,u=this.ngZone,l=this.eventManager,h=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,m=this.platformIsServer;switch(i.encapsulation){case bn.Emulated:s=new fd(l,h,i,this.appId,p,a,u,m);break;case bn.ShadowDom:return new hm(l,h,r,i,a,u,this.nonce,m);default:s=new Ha(l,h,i,p,a,u,m);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(le(Yb),le(Zb),le(xg),le(Qk),le(jt),le(Vr),le(Se),le(Ng))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),$a=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(um[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(Kb(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(Kb(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new $(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=um[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=um[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Kn.DashCase|Kn.Important)?e.style.setProperty(n,r,i&Kn.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Kn.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=rr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function Kb(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var hm=class extends $a{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=Xb(i.id,i.styles);for(let h of l){let p=document.createElement("style");a&&p.setAttribute("nonce",a),p.textContent=h,this.shadowRoot.appendChild(p)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ha=class extends $a{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?Xb(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},fd=class extends Ha{constructor(e,n,r,i,o,s,a,u){let l=i+"-"+r.id;super(e,n,r,o,s,a,u,l),this.contentAttr=Yk(l),this.hostAttr=Zk(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},Jk=(()=>{let e=class e extends Ba{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(le(jt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Xk=(()=>{let e=class e extends Ba{constructor(r){super(r),this.delegate=L(Db,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(le(jt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})(),Qb=["alt","control","meta","shift"],eF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},tF={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},nF=(()=>{let e=class e extends Ba{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),a=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>rr().onAndCancel(r,s.domEventName,a))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),a="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),a="code."),Qb.forEach(h=>{let p=i.indexOf(h);p>-1&&(i.splice(p,1),a+=h+".")}),a+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=a,l}static matchEventFullKeyCode(r,i){let o=eF[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),Qb.forEach(a=>{if(a!==o){let u=tF[a];u(r)&&(s+=a+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(le(jt))},e.\u0275prov=W({token:e,factory:e.\u0275fac});let t=e;return t})();function eD(t,e){return bb(F({rootComponent:t},rF(e)))}function rF(t){return{appProviders:[...cF,...t?.providers??[]],platformProviders:aF}}function iF(){dm.makeCurrent()}function oF(){return new Wn}function sF(){return EC(document),document}var aF=[{provide:Vr,useValue:Gb},{provide:Rg,useValue:iF,multi:!0},{provide:jt,useFactory:sF,deps:[]}];var cF=[{provide:kl,useValue:"root"},{provide:Wn,useFactory:oF,deps:[]},{provide:hd,useClass:Jk,multi:!0,deps:[jt,Se,Vr]},{provide:hd,useClass:nF,multi:!0,deps:[jt]},{provide:hd,useClass:Xk,multi:!0},Wb,Zb,Yb,{provide:Wo,useExisting:Wb},{provide:ud,useClass:qk,deps:[]},[]];var tD=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(le(jt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oe="primary",oc=Symbol("RouteTitle"),vm=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ls(t){return new vm(t)}function lF(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function dF(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!Rn(t[n],e[n]))return!1;return!0}function Rn(t,e){let n=t?_m(t):void 0,r=e?_m(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!uD(t[i],e[i]))return!1;return!0}function _m(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function uD(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function lD(t){return t.length>0?t[t.length-1]:null}function Gr(t){return rp(t)?t:$r(t)?je(Promise.resolve(t)):ne(t)}var hF={exact:hD,subset:fD},dD={exact:fF,subset:pF,ignored:()=>!0};function nD(t,e,n){return hF[n.paths](t.root,e.root,n.matrixParams)&&dD[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function fF(t,e){return Rn(t,e)}function hD(t,e,n){if(!Vi(t.segments,e.segments)||!md(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!hD(t.children[r],e.children[r],n))return!1;return!0}function pF(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>uD(t[n],e[n]))}function fD(t,e,n){return pD(t,e,e.segments,n)}function pD(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Vi(i,n)||e.hasChildren()||!md(i,n,r))}else if(t.segments.length===n.length){if(!Vi(t.segments,n)||!md(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!fD(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Vi(t.segments,i)||!md(t.segments,i,r)||!t.children[oe]?!1:pD(t.children[oe],e,o,r)}}function md(t,e,n){return e.every((r,i)=>dD[n](t[i].parameters,r.parameters))}var or=class{constructor(e=new De([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){return yF.serialize(this)}},De=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yd(this)}},Li=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ls(this.parameters),this._parameterMap}toString(){return mD(this)}};function gF(t,e){return Vi(t,e)&&t.every((n,r)=>Rn(n.parameters,e[r].parameters))}function Vi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function mF(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===oe&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==oe&&(n=n.concat(e(i,r)))}),n}var qm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>new Ya,providedIn:"root"});let t=e;return t})(),Ya=class{parse(e){let n=new Im(e);return new or(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${za(e.root,!0)}`,r=wF(e.queryParams),i=typeof e.fragment=="string"?`#${vF(e.fragment)}`:"";return`${n}${r}${i}`}},yF=new Ya;function yd(t){return t.segments.map(e=>mD(e)).join("/")}function za(t,e){if(!t.hasChildren())return yd(t);if(e){let n=t.children[oe]?za(t.children[oe],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==oe&&r.push(`${i}:${za(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=mF(t,(r,i)=>i===oe?[za(t.children[oe],!1)]:[`${i}:${za(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[oe]!=null?`${yd(t)}/${n[0]}`:`${yd(t)}/(${n.join("//")})`}}function gD(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pd(t){return gD(t).replace(/%3B/gi,";")}function vF(t){return encodeURI(t)}function wm(t){return gD(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function vd(t){return decodeURIComponent(t)}function rD(t){return vd(t.replace(/\+/g,"%20"))}function mD(t){return`${wm(t.path)}${_F(t.parameters)}`}function _F(t){return Object.entries(t).map(([e,n])=>`;${wm(e)}=${wm(n)}`).join("")}function wF(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${pd(n)}=${pd(i)}`).join("&"):`${pd(n)}=${pd(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var IF=/^[^\/()?;#]+/;function pm(t){let e=t.match(IF);return e?e[0]:""}var EF=/^[^\/()?;=#]+/;function CF(t){let e=t.match(EF);return e?e[0]:""}var bF=/^[^=?&#]+/;function DF(t){let e=t.match(bF);return e?e[0]:""}var TF=/^[^&#]+/;function SF(t){let e=t.match(TF);return e?e[0]:""}var Im=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new De([],{}):new De([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[oe]=new De(e,n)),r}parseSegment(){let e=pm(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new $(4009,!1);return this.capture(e),new Li(vd(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=CF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=pm(this.remaining);i&&(r=i,this.capture(r))}e[vd(n)]=vd(r)}parseQueryParam(e){let n=DF(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=SF(this.remaining);s&&(r=s,this.capture(r))}let i=rD(n),o=rD(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=pm(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new $(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=oe);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[oe]:new De([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new $(4011,!1)}};function yD(t){return t.segments.length>0?new De([],{[oe]:t}):t}function vD(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=vD(i);if(r===oe&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new De(t.segments,e);return AF(n)}function AF(t){if(t.numberOfChildren===1&&t.children[oe]){let e=t.children[oe];return new De(t.segments.concat(e.segments),e.children)}return t}function ji(t){return t instanceof or}function MF(t,e,n=null,r=null){let i=_D(t);return wD(i,e,n,r)}function _D(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let a=new De(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=yD(r);return e??i}function wD(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return gm(i,i,i,n,r);let o=xF(e);if(o.toRoot())return gm(i,i,new De([],{}),n,r);let s=RF(o,i,t),a=s.processChildren?Wa(s.segmentGroup,s.index,o.commands):ED(s.segmentGroup,s.index,o.commands);return gm(i,s.segmentGroup,a,n,r)}function _d(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function Za(t){return typeof t=="object"&&t!=null&&t.outlets}function gm(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(h=>`${h}`):`${l}`});let s;t===e?s=n:s=ID(t,e,n);let a=yD(vD(s));return new or(a,o,i)}function ID(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=ID(o,e,n)}),new De(t.segments,r)}var wd=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&_d(r[0]))throw new $(4003,!1);let i=r.find(Za);if(i&&i!==lD(r))throw new $(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function xF(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new wd(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new wd(n,e,r)}var as=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function RF(t,e,n){if(t.isAbsolute)return new as(e,!0,0);if(!n)return new as(e,!1,NaN);if(n.parent===null)return new as(n,!0,0);let r=_d(t.commands[0])?0:1,i=n.segments.length-1+r;return NF(n,i,t.numberOfDoubleDots)}function NF(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new $(4005,!1);i=r.segments.length}return new as(r,!1,i-o)}function PF(t){return Za(t[0])?t[0].outlets:{[oe]:t}}function ED(t,e,n){if(t??=new De([],{}),t.segments.length===0&&t.hasChildren())return Wa(t,e,n);let r=OF(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new De(t.segments.slice(0,r.pathIndex),{});return o.children[oe]=new De(t.segments.slice(r.pathIndex),t.children),Wa(o,0,i)}else return r.match&&i.length===0?new De(t.segments,{}):r.match&&!t.hasChildren()?Em(t,e,n):r.match?Wa(t,0,i):Em(t,e,n)}function Wa(t,e,n){if(n.length===0)return new De(t.segments,{});{let r=PF(n),i={};if(Object.keys(r).some(o=>o!==oe)&&t.children[oe]&&t.numberOfChildren===1&&t.children[oe].segments.length===0){let o=Wa(t.children[oe],e,n);return new De(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=ED(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new De(t.segments,i)}}function OF(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(Za(a))break;let u=`${a}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!oD(u,l,s))return o;r+=2}else{if(!oD(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Em(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(Za(o)){let u=kF(o.outlets);return new De(r,u)}if(i===0&&_d(n[0])){let u=t.segments[e];r.push(new Li(u.path,iD(n[0]))),i++;continue}let s=Za(o)?o.outlets[oe]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&_d(a)?(r.push(new Li(s,iD(a))),i+=2):(r.push(new Li(s,{})),i++)}return new De(r,{})}function kF(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Em(new De([],{}),0,r))}),e}function iD(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function oD(t,e,n){return t==n.path&&Rn(e,n.parameters)}var Ka="imperative",ct=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(ct||{}),tn=class{constructor(e,n){this.id=e,this.url=n}},Ja=class extends tn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=ct.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},qr=class extends tn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=ct.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Bt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(Bt||{}),Cm=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Cm||{}),ir=class extends tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ct.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Ui=class extends tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=ct.NavigationSkipped}},Xa=class extends tn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=ct.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Id=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bm=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Dm=class extends tn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ct.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Tm=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Sm=class extends tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=ct.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Am=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Mm=class{constructor(e){this.route=e,this.type=ct.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},xm=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rm=class{constructor(e){this.snapshot=e,this.type=ct.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Nm=class{constructor(e){this.snapshot=e,this.type=ct.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pm=class{constructor(e){this.snapshot=e,this.type=ct.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var ec=class{},ds=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function FF(t,e){return t.providers&&!t._injector&&(t._injector=qg(t.providers,e,`Route: ${t.path}`)),t._injector??e}function gn(t){return t.outlet||oe}function LF(t,e){let n=t.filter(r=>gn(r)===e);return n.push(...t.filter(r=>gn(r)!==e)),n}function sc(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Om=class{get injector(){return sc(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Ad(this.rootInjector),this.attachRef=null}},Ad=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new Om(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(le(Yt))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ed=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=km(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=km(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=Fm(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fm(e,this._root).map(n=>n.value)}};function km(t,e){if(t===e.value)return e;for(let n of e.children){let r=km(t,n);if(r)return r}return null}function Fm(t,e){if(t===e.value)return[e];for(let n of e.children){let r=Fm(t,n);if(r.length)return r.unshift(e),r}return[]}var Ut=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function ss(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Cd=class extends Ed{constructor(e,n){super(e),this.snapshot=n,Gm(this,e)}toString(){return this.snapshot.toString()}};function CD(t){let e=VF(t),n=new at([new Li("",{})]),r=new at({}),i=new at({}),o=new at({}),s=new at(""),a=new Bi(n,r,o,s,i,oe,t,e.root);return a.snapshot=e.root,new Cd(new Ut(a,[]),e)}function VF(t){let e={},n={},r={},i="",o=new cs([],e,r,i,n,oe,t,null,{});return new Dd("",new Ut(o,[]))}var Bi=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(re(l=>l[oc]))??ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(re(e=>ls(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(re(e=>ls(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bd(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&DD(i)&&(r.resolve[oc]=i.title),r}var cs=class{get title(){return this.data?.[oc]}constructor(e,n,r,i,o,s,a,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ls(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ls(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Dd=class extends Ed{constructor(e,n){super(n),this.url=e,Gm(this,n)}toString(){return bD(this._root)}};function Gm(t,e){e.value._routerState=t,e.children.forEach(n=>Gm(t,n))}function bD(t){let e=t.children.length>0?` { ${t.children.map(bD).join(", ")} } `:"";return`${t.value}${e}`}function mm(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Rn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),Rn(e.params,n.params)||t.paramsSubject.next(n.params),dF(e.url,n.url)||t.urlSubject.next(n.url),Rn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Lm(t,e){let n=Rn(t.params,e.params)&&gF(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Lm(t.parent,e.parent))}function DD(t){return typeof t.title=="string"||t.title===null}var Wm=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=oe,this.activateEvents=new ze,this.deactivateEvents=new ze,this.attachEvents=new ze,this.detachEvents=new ze,this.parentContexts=L(Ad),this.location=L(ts),this.changeDetector=L(Hr),this.inputBinder=L(Km,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new $(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new $(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new $(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new $(4013,!1);this._activatedRoute=r;let o=this.location,a=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new Vm(r,u,o.injector);this.activated=o.createComponent(a,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=pt({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Ni]});let t=e;return t})(),Vm=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Bi?this.route:e===Ad?this.childContexts:this.parent.get(e,n)}},Km=new H("");function jF(t,e,n){let r=tc(t,e._root,n?n._root:void 0);return new Cd(r,e)}function tc(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=UF(t,e,n);return new Ut(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>tc(t,a)),s}}let r=BF(e.value),i=e.children.map(o=>tc(t,o));return new Ut(r,i)}}function UF(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return tc(t,r,i);return tc(t,r)})}function BF(t){return new Bi(new at(t.url),new at(t.params),new at(t.queryParams),new at(t.fragment),new at(t.data),t.outlet,t.component,t)}var nc=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},TD="ngNavigationCancelingError";function Td(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=ji(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=SD(!1,Bt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function SD(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[TD]=!0,n.cancellationCode=e,n}function $F(t){return AD(t)&&ji(t.url)}function AD(t){return!!t&&t[TD]}var HF=(t,e,n,r)=>re(i=>(new jm(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),jm=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),mm(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=ss(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ss(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=ss(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=ss(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Pm(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Rm(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(mm(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),mm(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Sd=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},us=class{constructor(e,n){this.component=e,this.route=n}};function zF(t,e,n){let r=t._root,i=e?e._root:null;return qa(r,i,n,[r.value])}function qF(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function fs(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!o0(t)?t:e.get(t):r}function qa(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ss(e);return t.children.forEach(s=>{GF(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Qa(a,n.getContext(s),i)),i}function GF(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=WF(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Sd(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?qa(t,e,a?a.children:null,r,i):qa(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new us(a.outlet.component,s))}else s&&Qa(e,a,i),i.canActivateChecks.push(new Sd(r)),o.component?qa(t,null,a?a.children:null,r,i):qa(t,null,n,r,i);return i}function WF(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Vi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Vi(t.url,e.url)||!Rn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Lm(t,e)||!Rn(t.queryParams,e.queryParams);case"paramsChange":default:return!Lm(t,e)}}function Qa(t,e,n){let r=ss(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Qa(s,e.children.getContext(o),n):Qa(s,null,n):Qa(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new us(e.outlet.component,i)):n.canDeactivateChecks.push(new us(null,i)):n.canDeactivateChecks.push(new us(null,i))}function ac(t){return typeof t=="function"}function KF(t){return typeof t=="boolean"}function QF(t){return t&&ac(t.canLoad)}function YF(t){return t&&ac(t.canActivate)}function ZF(t){return t&&ac(t.canActivateChild)}function JF(t){return t&&ac(t.canDeactivate)}function XF(t){return t&&ac(t.canMatch)}function MD(t){return t instanceof qn||t?.name==="EmptyError"}var gd=Symbol("INITIAL_VALUE");function hs(){return an(t=>Gu(t.map(e=>e.pipe(Gn(1),Yu(gd)))).pipe(re(e=>{for(let n of e)if(n!==!0){if(n===gd)return gd;if(n===!1||eL(n))return n}return!0}),Gt(e=>e!==gd),Gn(1)))}function eL(t){return ji(t)||t instanceof nc}function tL(t,e){return Ye(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ne(ue(F({},n),{guardsResult:!0})):nL(s,r,i,t).pipe(Ye(a=>a&&KF(a)?rL(r,o,t,e):ne(a)),re(a=>ue(F({},n),{guardsResult:a})))})}function nL(t,e,n,r){return je(t).pipe(Ye(i=>cL(i.component,i.route,n,e,r)),In(i=>i!==!0,!0))}function rL(t,e,n,r){return je(e).pipe(Ro(i=>xo(oL(i.route.parent,r),iL(i.route,r),aL(t,i.path,n),sL(t,i.route,n))),In(i=>i!==!0,!0))}function iL(t,e){return t!==null&&e&&e(new Nm(t)),ne(!0)}function oL(t,e){return t!==null&&e&&e(new xm(t)),ne(!0)}function sL(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>Wu(()=>{let s=sc(e)??n,a=fs(o,s),u=YF(a)?a.canActivate(e,t):Yn(s,()=>a(e,t));return Gr(u).pipe(In())}));return ne(i).pipe(hs())}function aL(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>qF(s)).filter(s=>s!==null).map(s=>Wu(()=>{let a=s.guards.map(u=>{let l=sc(s.node)??n,h=fs(u,l),p=ZF(h)?h.canActivateChild(r,t):Yn(l,()=>h(r,t));return Gr(p).pipe(In())});return ne(a).pipe(hs())}));return ne(o).pipe(hs())}function cL(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let u=sc(e)??i,l=fs(a,u),h=JF(l)?l.canDeactivate(t,e,n,r):Yn(u,()=>l(t,e,n,r));return Gr(h).pipe(In())});return ne(s).pipe(hs())}function uL(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=fs(s,t),u=QF(a)?a.canLoad(e,n):Yn(t,()=>a(e,n));return Gr(u)});return ne(o).pipe(hs(),xD(r))}function xD(t){return Su(Ze(e=>{if(typeof e!="boolean")throw Td(t,e)}),re(e=>e===!0))}function lL(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=fs(s,t),u=XF(a)?a.canMatch(e,n):Yn(t,()=>a(e,n));return Gr(u)});return ne(o).pipe(hs(),xD(r))}var rc=class{constructor(e){this.segmentGroup=e||null}},ic=class extends Error{constructor(e){super(),this.urlTree=e}};function os(t){return Mo(new rc(t))}function dL(t){return Mo(new $(4e3,!1))}function hL(t){return Mo(SD(!1,Bt.GuardRejected))}var Um=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[oe])return dL(`${e.redirectTo}`);i=i.children[oe]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,params:v,data:S,title:N}=i,M=Yn(o,()=>a({params:v,data:S,queryParams:u,fragment:l,routeConfig:h,url:p,outlet:m,title:N}));if(M instanceof or)throw new ic(M);n=M}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new ic(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new or(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new De(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new $(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Bm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fL(t,e,n,r,i){let o=RD(t,e,n);return o.matched?(r=FF(e,r),lL(r,e,n,i).pipe(re(s=>s===!0?o:F({},Bm)))):ne(o)}function RD(t,e,n){if(e.path==="**")return pL(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Bm):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||lF)(n,t,e);if(!i)return F({},Bm);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function pL(t){return{matched:!0,parameters:t.length>0?lD(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function sD(t,e,n,r){return n.length>0&&yL(t,n,r)?{segmentGroup:new De(e,mL(r,new De(n,t.children))),slicedSegments:[]}:n.length===0&&vL(t,n,r)?{segmentGroup:new De(t.segments,gL(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new De(t.segments,t.children),slicedSegments:n}}function gL(t,e,n,r){let i={};for(let o of n)if(Md(t,e,o)&&!r[gn(o)]){let s=new De([],{});i[gn(o)]=s}return F(F({},r),i)}function mL(t,e){let n={};n[oe]=e;for(let r of t)if(r.path===""&&gn(r)!==oe){let i=new De([],{});n[gn(r)]=i}return n}function yL(t,e,n){return n.some(r=>Md(t,e,r)&&gn(r)!==oe)}function vL(t,e,n){return n.some(r=>Md(t,e,r))}function Md(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function _L(t,e,n){return e.length===0&&!t.children[n]}var $m=class{};function wL(t,e,n,r,i,o,s="emptyOnly"){return new Hm(t,e,n,r,i,s,o).recognize()}var IL=31,Hm=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Um(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new $(4002,`'${e.segmentGroup}'`)}recognize(){let e=sD(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(re(({children:n,rootSnapshot:r})=>{let i=new Ut(r,n),o=new Dd("",i),s=MF(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new cs([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),oe,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,oe,n).pipe(re(r=>({children:r,rootSnapshot:n})),Sr(r=>{if(r instanceof ic)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof rc?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(re(s=>s instanceof Ut?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return je(o).pipe(Ro(s=>{let a=r.children[s],u=LF(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Qu((s,a)=>(s.push(...a),s)),Ar(null),ap(),Ye(s=>{if(s===null)return os(r);let a=ND(s);return EL(a),ne(a)}))}processSegment(e,n,r,i,o,s,a){return je(n).pipe(Ro(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(Sr(l=>{if(l instanceof rc)return ne(null);throw l}))),In(u=>!!u),Sr(u=>{if(MD(u))return _L(r,i,o)?ne(new $m):os(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return gn(r)!==s&&(s===oe||!Md(i,o,r))?os(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):os(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:l,consumedSegments:h,positionalParamSegments:p,remainingSegments:m}=RD(n,i,o);if(!u)return os(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>IL&&(this.allowRedirects=!1));let v=new cs(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,aD(i),gn(i),i.component??i._loadedComponent??null,i,cD(i)),S=bd(v,a,this.paramsInheritanceStrategy);v.params=Object.freeze(S.params),v.data=Object.freeze(S.data);let N=this.applyRedirects.applyRedirectCommands(h,i.redirectTo,p,v,e);return this.applyRedirects.lineralizeSegments(i,N).pipe(Ye(M=>this.processSegment(e,r,n,M.concat(m),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=fL(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(an(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(an(({routes:l})=>{let h=r._loadedInjector??e,{parameters:p,consumedSegments:m,remainingSegments:v}=u,S=new cs(m,p,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,aD(r),gn(r),r.component??r._loadedComponent??null,r,cD(r)),N=bd(S,s,this.paramsInheritanceStrategy);S.params=Object.freeze(N.params),S.data=Object.freeze(N.data);let{segmentGroup:M,slicedSegments:j}=sD(n,m,v,l);if(j.length===0&&M.hasChildren())return this.processChildren(h,l,M,S).pipe(re(K=>new Ut(S,K)));if(l.length===0&&j.length===0)return ne(new Ut(S,[]));let z=gn(r)===o;return this.processSegment(h,l,M,j,z?oe:o,!0,S).pipe(re(K=>new Ut(S,K instanceof Ut?[K]:[])))}))):os(n)))}getChildConfig(e,n,r){return n.children?ne({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):uL(e,n,r,this.urlSerializer).pipe(Ye(i=>i?this.configLoader.loadChildren(e,n).pipe(Ze(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):hL(n))):ne({routes:[],injector:e})}};function EL(t){t.sort((e,n)=>e.value.outlet===oe?-1:n.value.outlet===oe?1:e.value.outlet.localeCompare(n.value.outlet))}function CL(t){let e=t.value.routeConfig;return e&&e.path===""}function ND(t){let e=[],n=new Set;for(let r of t){if(!CL(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=ND(r.children);e.push(new Ut(r.value,i))}return e.filter(r=>!n.has(r))}function aD(t){return t.data||{}}function cD(t){return t.resolve||{}}function bL(t,e,n,r,i,o){return Ye(s=>wL(t,e,n,r,s.extractedUrl,i,o).pipe(re(({state:a,tree:u})=>ue(F({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function DL(t,e){return Ye(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of PD(u))s.add(l);let a=0;return je(s).pipe(Ro(u=>o.has(u)?TL(u,r,t,e):(u.data=bd(u,u.parent,t).resolve,ne(void 0))),Ze(()=>a++),No(1),Ye(u=>a===s.size?ne(n):kt))})}function PD(t){let e=t.children.map(n=>PD(n)).flat();return[t,...e]}function TL(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!DD(i)&&(o[oc]=i.title),SL(o,t,e,r).pipe(re(s=>(t._resolvedData=s,t.data=bd(t,t.parent,n).resolve,null)))}function SL(t,e,n,r){let i=_m(t);if(i.length===0)return ne({});let o={};return je(i).pipe(Ye(s=>AL(t[s],e,n,r).pipe(In(),Ze(a=>{if(a instanceof nc)throw Td(new Ya,a);o[s]=a}))),No(1),sp(o),Sr(s=>MD(s)?kt:Mo(s)))}function AL(t,e,n,r){let i=sc(e)??r,o=fs(t,i),s=o.resolve?o.resolve(e,n):Yn(i,()=>o(e,n));return Gr(s)}function ym(t){return an(e=>{let n=t(e);return n?je(n).pipe(re(()=>e)):ne(e)})}var OD=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===oe);return i}getResolvedTitleForRoute(r){return r.data[oc]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>L(ML),providedIn:"root"});let t=e;return t})(),ML=(()=>{let e=class e extends OD{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(le(tD))},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Qm=new H("",{providedIn:"root",factory:()=>({})}),xL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=nt({type:e,selectors:[["ng-component"]],standalone:!0,features:[rt],decls:1,vars:0,template:function(i,o){i&1&&we(0,"router-outlet")},dependencies:[Wm],encapsulation:2});let t=e;return t})();function Ym(t){let e=t.children&&t.children.map(Ym),n=e?ue(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==oe&&(n.component=xL),n}var Zm=new H(""),RL=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(Yg)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return ne(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Gr(r.loadComponent()).pipe(re(kD),Ze(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),wa(()=>{this.componentLoaders.delete(r)})),o=new Do(i,()=>new tt).pipe(bo());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return ne({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=NL(i,this.compiler,r,this.onLoadEndListener).pipe(wa(()=>{this.childrenLoaders.delete(i)})),a=new Do(s,()=>new tt).pipe(bo());return this.childrenLoaders.set(i,a),a}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function NL(t,e,n,r){return Gr(t.loadChildren()).pipe(re(kD),Ye(i=>i instanceof Ma||Array.isArray(i)?ne(i):je(e.compileModuleAsync(i))),re(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(Zm,[],{optional:!0,self:!0}).flat()),{routes:s.map(Ym),injector:o}}))}function PL(t){return t&&typeof t=="object"&&"default"in t}function kD(t){return PL(t)?t.default:t}var Jm=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>L(OL),providedIn:"root"});let t=e;return t})(),OL=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),kL=new H("");var FL=new H(""),LL=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new tt,this.transitionAbortSubject=new tt,this.configLoader=L(RL),this.environmentInjector=L(Yt),this.urlSerializer=L(qm),this.rootContexts=L(Ad),this.location=L(ja),this.inputBindingEnabled=L(Km,{optional:!0})!==null,this.titleStrategy=L(OD),this.options=L(Qm,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(Jm),this.createViewTransition=L(kL,{optional:!0}),this.navigationErrorHandler=L(FL,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let r=o=>this.events.next(new Am(o)),i=o=>this.events.next(new Mm(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(ue(F(F({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new at({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Ka,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Gt(s=>s.id!==0),re(s=>ue(F({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),an(s=>{let a=!1,u=!1;return ne(s).pipe(an(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",Bt.SupersededByNewNavigation),kt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?ue(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let h=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!h&&p!=="reload"){let m="";return this.events.next(new Ui(l.id,this.urlSerializer.serialize(l.rawUrl),m,Cm.IgnoredSameUrlNavigation)),l.resolve(!1),kt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return ne(l).pipe(an(m=>{let v=this.transitions?.getValue();return this.events.next(new Ja(m.id,this.urlSerializer.serialize(m.extractedUrl),m.source,m.restoredState)),v!==this.transitions?.getValue()?kt:Promise.resolve(m)}),bL(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ze(m=>{s.targetSnapshot=m.targetSnapshot,s.urlAfterRedirects=m.urlAfterRedirects,this.currentNavigation=ue(F({},this.currentNavigation),{finalUrl:m.urlAfterRedirects});let v=new Id(m.id,this.urlSerializer.serialize(m.extractedUrl),this.urlSerializer.serialize(m.urlAfterRedirects),m.targetSnapshot);this.events.next(v)}));if(h&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:m,extractedUrl:v,source:S,restoredState:N,extras:M}=l,j=new Ja(m,this.urlSerializer.serialize(v),S,N);this.events.next(j);let z=CD(this.rootComponentType).snapshot;return this.currentTransition=s=ue(F({},l),{targetSnapshot:z,urlAfterRedirects:v,extras:ue(F({},M),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=v,ne(s)}else{let m="";return this.events.next(new Ui(l.id,this.urlSerializer.serialize(l.extractedUrl),m,Cm.IgnoredByUrlHandlingStrategy)),l.resolve(!1),kt}}),Ze(l=>{let h=new bm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),re(l=>(this.currentTransition=s=ue(F({},l),{guards:zF(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),tL(this.environmentInjector,l=>this.events.next(l)),Ze(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw Td(this.urlSerializer,l.guardsResult);let h=new Dm(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Gt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",Bt.GuardRejected),!1)),ym(l=>{if(l.guards.canActivateChecks.length)return ne(l).pipe(Ze(h=>{let p=new Tm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),an(h=>{let p=!1;return ne(h).pipe(DL(this.paramsInheritanceStrategy,this.environmentInjector),Ze({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(h,"",Bt.NoDataFromResolver)}}))}),Ze(h=>{let p=new Sm(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),ym(l=>{let h=p=>{let m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe(Ze(v=>{p.component=v}),re(()=>{})));for(let v of p.children)m.push(...h(v));return m};return Gu(h(l.targetSnapshot.root)).pipe(Ar(null),Gn(1))}),ym(()=>this.afterPreactivation()),an(()=>{let{currentSnapshot:l,targetSnapshot:h}=s,p=this.createViewTransition?.(this.environmentInjector,l.root,h.root);return p?je(p).pipe(re(()=>s)):ne(s)}),re(l=>{let h=jF(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=ue(F({},l),{targetRouterState:h}),this.currentNavigation.targetRouterState=h,s}),Ze(()=>{this.events.next(new ec)}),HF(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Gn(1),Ze({next:l=>{a=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new qr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{a=!0}}),cp(this.transitionAbortSubject.pipe(Ze(l=>{throw l}))),wa(()=>{!a&&!u&&this.cancelNavigationTransition(s,"",Bt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Sr(l=>{if(u=!0,AD(l))this.events.next(new ir(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),$F(l)?this.events.next(new ds(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let h=new Xa(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let p=Yn(this.environmentInjector,()=>this.navigationErrorHandler?.(h));if(p instanceof nc){let{message:m,cancellationCode:v}=Td(this.urlSerializer,p);this.events.next(new ir(s.id,this.urlSerializer.serialize(s.extractedUrl),m,v)),this.events.next(new ds(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(h);let m=r.errorHandler(l);s.resolve(!!m)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return kt}))}))}cancelNavigationTransition(r,i,o){let s=new ir(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function VL(t){return t!==Ka}var jL=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>L(UL),providedIn:"root"});let t=e;return t})(),zm=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},UL=(()=>{let e=class e extends zm{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Oa(e)))(o||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),FD=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:()=>L(BL),providedIn:"root"});let t=e;return t})(),BL=(()=>{let e=class e extends FD{constructor(){super(...arguments),this.location=L(ja),this.urlSerializer=L(qm),this.options=L(Qm,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(Jm),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=CD(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof Ja)this.stateMemento=this.createStateMemento();else if(r instanceof Ui)this.rawUrlTree=i.initialUrl;else if(r instanceof Id){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof ec?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof ir&&(r.code===Bt.GuardRejected||r.code===Bt.NoDataFromResolver)?this.restoreHistory(i):r instanceof Xa?this.restoreHistory(i,!0):r instanceof qr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof or?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,a=F(F({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",a)}else{let s=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Oa(e)))(o||e)}})(),e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Ga=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(Ga||{});function $L(t,e){t.events.pipe(Gt(n=>n instanceof qr||n instanceof ir||n instanceof Xa||n instanceof Ui),re(n=>n instanceof qr||n instanceof Ui?Ga.COMPLETE:(n instanceof ir?n.code===Bt.Redirect||n.code===Bt.SupersededByNewNavigation:!1)?Ga.REDIRECTING:Ga.FAILED),Gt(n=>n!==Ga.REDIRECTING),Gn(1)).subscribe(()=>{e()})}function HL(t){throw t}var zL={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},qL={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},$i=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(Zl),this.stateManager=L(FD),this.options=L(Qm,{optional:!0})||{},this.pendingTasks=L(es),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(LL),this.urlSerializer=L(qm),this.location=L(ja),this.urlHandlingStrategy=L(Jm),this._events=new tt,this.errorHandler=this.options.errorHandler||HL,this.navigated=!1,this.routeReuseStrategy=L(jL),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(Zm,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(Km,{optional:!0}),this.eventsSubscription=new Ve,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof ir&&i.code!==Bt.Redirect&&i.code!==Bt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof qr)this.navigated=!0;else if(i instanceof ds){let a=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=F({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||VL(o.source)},a);this.scheduleNavigation(u,Ka,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}WL(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Ka,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},a=o?.navigationId?o:null;if(o){let l=F({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,a,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(Ym),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:a,queryParamsHandling:u,preserveFragment:l}=i,h=l?this.currentUrlTree.fragment:a,p=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":p=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let m;try{let v=o?o.snapshot:this.routerState.snapshot.root;m=_D(v)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),m=this.currentUrlTree.root}return wD(m,r,p,h??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=ji(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,Ka,null,i)}navigate(r,i={skipLocationChange:!1}){return GL(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=F({},zL):i===!1?o=F({},qL):o=i,ji(r))return nD(this.currentUrlTree,r,o);let s=this.parseUrl(r);return nD(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,a){if(this.disposed)return Promise.resolve(!1);let u,l,h;a?(u=a.resolve,l=a.reject,h=a.promise):h=new Promise((m,v)=>{u=m,l=v});let p=this.pendingTasks.add();return $L(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:h,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),h.catch(m=>Promise.reject(m))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=W({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function GL(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new $(4008,!1)}function WL(t){return!(t instanceof ec)&&!(t instanceof ds)}var nn=(()=>{let e=class e{constructor(r,i,o,s,a,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=a,this.locationStrategy=u,this.href=null,this.onChanges=new tt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(h=>{h instanceof qr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(ji(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,a){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||a||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:DC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:ji(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Q($i),Q(Bi),Sg("tabindex"),Q(Ur),Q(Xn),Q(rs))},e.\u0275dir=pt({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&$e("click",function(a){return o.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&Kl("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ki],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ki],replaceUrl:[2,"replaceUrl","replaceUrl",ki],routerLink:"routerLink"},standalone:!0,features:[zg,Ni]});let t=e;return t})();var KL=new H("");function LD(t,...e){return An([{provide:Zm,multi:!0,useValue:t},[],{provide:Bi,useFactory:QL,deps:[$i]},{provide:Qg,multi:!0,useFactory:YL},e.map(n=>n.\u0275providers)])}function QL(t){return t.routerState.root}function YL(){let t=L(xt);return e=>{let n=t.get(Oi);if(e!==n.components[0])return;let r=t.get($i),i=t.get(ZL);t.get(JL)===1&&r.initialNavigation(),t.get(XL,null,ae.Optional)?.setUpPreloading(),t.get(KL,null,ae.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ZL=new H("",{factory:()=>new tt}),JL=new H("",{providedIn:"root",factory:()=>1});var XL=new H("");var eV=()=>["/login"],tV=()=>["/chat"],nV=()=>["/yo"],jD="*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-image:url(https://images.unsplash.com/photo-1556856425-366d6618905d?q=80&w=1864&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);background-repeat:no-repeat;background-size:cover;background-position:center;display:flex;justify-content:center;align-items:center;min-height:100vh}.container[_ngcontent-%COMP%]{text-align:center;padding:20px}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.game[_ngcontent-%COMP%]{background-color:#000;padding:10px;border-radius:8px;box-shadow:0 4px 8px #0000001a;transition:transform .3s ease;width:80%;max-width:250px;margin:0 auto;border:3px solid transparent}.games-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;max-width:800px;margin:90px auto 0;justify-items:center}.game[_ngcontent-%COMP%]:hover{transform:scale(1.05);border-color:#ff0}.game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px}.game[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:10px;font-size:1.5rem;color:#faf7f7}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}",xd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-home"]],standalone:!0,features:[rt],decls:44,vars:6,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"container"],[1,"games-grid"],[1,"game"],["routerLink","/pacman"],["src","pacman.jpg","alt","Pacman"],["routerLink","/ahorcado"],["src","ahorcado.png","alt","Ahorcado"],["href","juego3.html"],["src","mayormenor.jpg","alt","Mayor o menor"],["href","juego4.html"],["src","preguntados.png","alt","Preguntados"]],template:function(n,r){n&1&&(R(0,"html",0)(1,"head"),we(2,"meta",1)(3,"meta",2),R(4,"title"),V(5,"Selecciona tu Juego"),P()(),R(6,"body")(7,"div",3)(8,"nav",4)(9,"ul")(10,"li")(11,"a",5),V(12,"Log in"),P()(),R(13,"li")(14,"a",5),V(15,"Chat"),P()(),R(16,"li")(17,"a",5),V(18,"Sobre Mi"),P()(),R(19,"li")(20,"a",6),V(21,"Log Out"),P()()()()(),R(22,"div",7)(23,"div",8)(24,"div",9)(25,"a",10),we(26,"img",11),R(27,"h2"),V(28,"Pacman"),P()()(),R(29,"div",9)(30,"a",12),we(31,"img",13),R(32,"h2"),V(33,"Ahorcado"),P()()(),R(34,"div",9)(35,"a",14),we(36,"img",15),R(37,"h2"),V(38,"Mayor o Menor"),P()()(),R(39,"div",9)(40,"a",16),we(41,"img",17),R(42,"h2"),V(43,"Preguntados"),P()()()()()()()),n&2&&(q(11),se("routerLink",Xe(3,eV)),q(3),se("routerLink",Xe(4,tV)),q(3),se("routerLink",Xe(5,nV)))},dependencies:[nn,St],styles:[jD,jD]})};var WD=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Q(Ur),Q(Xn))},e.\u0275dir=pt({type:e});let t=e;return t})(),rV=(()=>{let e=class e extends WD{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=Oa(e)))(o||e)}})(),e.\u0275dir=pt({type:e,features:[Br]});let t=e;return t})(),KD=new H("");var iV={provide:KD,useExisting:Qo(()=>Wr),multi:!0};function oV(){let t=rr()?rr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var sV=new H(""),Wr=(()=>{let e=class e extends WD{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!oV())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Q(Ur),Q(Xn),Q(sV,8))},e.\u0275dir=pt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&$e("input",function(a){return o._handleInput(a.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(a){return o._compositionEnd(a.target.value)})},features:[Yl([iV]),Br]});let t=e;return t})();var QD=new H(""),YD=new H("");function ZD(t){return t!=null}function JD(t){return $r(t)?je(t):t}function XD(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function eT(t,e){return e.map(n=>n(t))}function aV(t){return!t.validate}function tT(t){return t.map(e=>aV(e)?e:n=>e.validate(n))}function cV(t){if(!t)return null;let e=t.filter(ZD);return e.length==0?null:function(n){return XD(eT(n,e))}}function ey(t){return t!=null?cV(tT(t)):null}function uV(t){if(!t)return null;let e=t.filter(ZD);return e.length==0?null:function(n){let r=eT(n,e).map(JD);return op(r).pipe(re(XD))}}function ty(t){return t!=null?uV(tT(t)):null}function UD(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function lV(t){return t._rawValidators}function dV(t){return t._rawAsyncValidators}function Xm(t){return t?Array.isArray(t)?t:[t]:[]}function Nd(t,e){return Array.isArray(t)?t.includes(e):t===e}function BD(t,e){let n=Xm(e);return Xm(t).forEach(i=>{Nd(n,i)||n.push(i)}),n}function $D(t,e){return Xm(e).filter(n=>!Nd(t,n))}var Pd=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ey(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=ty(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},ms=class extends Pd{get formDirective(){return null}get path(){return null}},fc=class extends Pd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Od=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},hV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},uW=ue(F({},hV),{"[class.ng-submitted]":"isSubmitted"}),vs=(()=>{let e=class e extends Od{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Q(fc,2))},e.\u0275dir=pt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&Ql("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[Br]});let t=e;return t})(),Vd=(()=>{let e=class e extends Od{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Q(ms,10))},e.\u0275dir=pt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&Ql("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[Br]});let t=e;return t})();var cc="VALID",Rd="INVALID",ps="PENDING",uc="DISABLED",ys=class{},kd=class extends ys{constructor(e,n){super(),this.value=e,this.source=n}},dc=class extends ys{constructor(e,n){super(),this.pristine=e,this.source=n}},hc=class extends ys{constructor(e,n){super(),this.touched=e,this.source=n}},gs=class extends ys{constructor(e,n){super(),this.status=e,this.source=n}};function nT(t){return(jd(t)?t.validators:t)||null}function fV(t){return Array.isArray(t)?ey(t):t||null}function rT(t,e){return(jd(e)?e.asyncValidators:t)||null}function pV(t){return Array.isArray(t)?ty(t):t||null}function jd(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function gV(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new $(1e3,"");if(!r[n])throw new $(1001,"")}function mV(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new $(1002,"")})}var Fd=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=Va(()=>this.statusReactive()),this.statusReactive=La(void 0),this._pristine=Va(()=>this.pristineReactive()),this.pristineReactive=La(!0),this._touched=Va(()=>this.touchedReactive()),this.touchedReactive=La(!1),this._events=new tt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return fn(this.statusReactive)}set status(e){fn(()=>this.statusReactive.set(e))}get valid(){return this.status===cc}get invalid(){return this.status===Rd}get pending(){return this.status==ps}get disabled(){return this.status===uc}get enabled(){return this.status!==uc}get pristine(){return fn(this.pristineReactive)}set pristine(e){fn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return fn(this.touchedReactive)}set touched(e){fn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(BD(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(BD(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators($D(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators($D(e,this._rawAsyncValidators))}hasValidator(e){return Nd(this._rawValidators,e)}hasAsyncValidator(e){return Nd(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ue(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new hc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new hc(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ue(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new dc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new dc(!0,r))}markAsPending(e={}){this.status=ps;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new gs(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ue(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uc,this.errors=null,this._forEachChild(i=>{i.disable(ue(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kd(this.value,r)),this._events.next(new gs(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ue(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=cc,this._forEachChild(r=>{r.enable(ue(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ue(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===cc||this.status===ps)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kd(this.value,n)),this._events.next(new gs(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ue(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?uc:cc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ps,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=JD(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new gs(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?uc:this.errors?Rd:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ps)?ps:this._anyControlsHaveStatus(Rd)?Rd:cc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new dc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new hc(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jd(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=fV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=pV(this._rawAsyncValidators)}},Ld=class extends Fd{constructor(e,n,r){super(nT(n),rT(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){mV(this,!0,e),Object.keys(e).forEach(r=>{gV(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var ny=new H("CallSetDisabledState",{providedIn:"root",factory:()=>ry}),ry="always";function yV(t,e){return[...e.path,t]}function iT(t,e,n=ry){oT(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),_V(t,e),IV(t,e),wV(t,e),vV(t,e)}function HD(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function vV(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function oT(t,e){let n=lV(t);e.validator!==null?t.setValidators(UD(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=dV(t);e.asyncValidator!==null?t.setAsyncValidators(UD(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();HD(e._rawValidators,i),HD(e._rawAsyncValidators,i)}function _V(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&sT(t,e)})}function wV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&sT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function sT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function IV(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function EV(t,e){t==null,oT(t,e)}function CV(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function bV(t){return Object.getPrototypeOf(t.constructor)===rV}function DV(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function TV(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Wr?n=o:bV(o)?r=o:i=o}),i||r||n||null}var SV={provide:ms,useExisting:Qo(()=>pc)},lc=Promise.resolve(),pc=(()=>{let e=class e extends ms{get submitted(){return fn(this.submittedReactive)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=Va(()=>this.submittedReactive()),this.submittedReactive=La(!1),this._directives=new Set,this.ngSubmit=new ze,this.form=new Ld({},ey(r),ty(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){lc.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),iT(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){lc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){lc.then(()=>{let i=this._findContainer(r.path),o=new Ld({});EV(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){lc.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){lc.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),DV(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Q(QD,10),Q(YD,10),Q(ny,8))},e.\u0275dir=pt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&$e("submit",function(a){return o.onSubmit(a)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Yl([SV]),Br]});let t=e;return t})();function zD(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function qD(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var AV=class extends Fd{constructor(e=null,n,r){super(nT(n),rT(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jd(n)&&(n.nonNullable||n.initialValueIsDefault)&&(qD(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){zD(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){zD(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){qD(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var MV={provide:fc,useExisting:Qo(()=>zi)},GD=Promise.resolve(),zi=(()=>{let e=class e extends fc{constructor(r,i,o,s,a,u){super(),this._changeDetectorRef=a,this.callSetDisabledState=u,this.control=new AV,this._registered=!1,this.name="",this.update=new ze,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=TV(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),CV(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){iT(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){GD.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&ki(i);GD.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?yV(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Q(ms,9),Q(QD,10),Q(YD,10),Q(KD,10),Q(Hr,8),Q(ny,8))},e.\u0275dir=pt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Yl([MV]),Br,Ni]});let t=e;return t})(),Ud=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=pt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var xV=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=xi({});let t=e;return t})();var _s=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:ny,useValue:r.callSetDisabledState??ry}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=Ri({type:e}),e.\u0275inj=xi({imports:[xV]});let t=e;return t})();var cT=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},RV=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},uT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,h=o>>2,p=(o&3)<<4|a>>4,m=(a&15)<<2|l>>6,v=l&63;u||(v=64,s||(m=64)),r.push(n[h],n[p],n[m],n[v])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):RV(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let p=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||l==null||p==null)throw new sy;let m=o<<2|a>>4;if(r.push(m),l!==64){let v=a<<4&240|l>>2;if(r.push(v),p!==64){let S=l<<6&192|p;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},sy=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},NV=function(t){let e=cT(t);return uT.encodeByteArray(e,!0)},gc=function(t){return NV(t).replace(/\./g,"")},cy=function(t){try{return uT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function PV(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var OV=()=>PV().__FIREBASE_DEFAULTS__,kV=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},FV=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&cy(t[1]);return e&&JSON.parse(e)},$d=()=>{try{return OV()||kV()||FV()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uy=t=>{var e,n;return(n=(e=$d())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},lT=t=>{let e=uy(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},ly=()=>{var t;return(t=$d())===null||t===void 0?void 0:t.config},dy=t=>{var e;return(e=$d())===null||e===void 0?void 0:e[`_${t}`]};var Bd=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function dT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[gc(JSON.stringify(n)),gc(JSON.stringify(s)),""].join(".")}function it(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(it())}function LV(){var t;let e=(t=$d())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pT(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function gT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mT(){let t=it();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function yT(){return!LV()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hy(){try{return typeof indexedDB=="object"}catch{return!1}}function vT(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var VV="FirebaseError",$t=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=VV,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sr.prototype.create)}},sr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?jV(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new $t(i,a,r)}};function jV(t,e){return t.replace(UV,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var UV=/\{\$([^}]+)}/g;function _T(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qi(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(aT(o)&&aT(s)){if(!qi(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function aT(t){return t!==null&&typeof t=="object"}function mc(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ws(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Is(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function wT(t,e){let n=new ay(t,e);return n.subscribe.bind(n)}var ay=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BV(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=oy),i.error===void 0&&(i.error=oy),i.complete===void 0&&(i.complete=oy);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function BV(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function oy(){}var hW=4*60*60*1e3;function gt(t){return t&&t._delegate?t._delegate:t}var rn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Gi="[DEFAULT]";var fy=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Bd;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(HV(e))try{this.getOrInitializeService({instanceIdentifier:Gi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Gi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Gi){return this.instances.has(e)}getOptions(e=Gi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$V(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Gi){return this.component?this.component.multipleInstances?e:Gi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $V(t){return t===Gi?void 0:t}function HV(t){return t.instantiationMode==="EAGER"}var Hd=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new fy(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var zV=[],ge=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ge||{}),qV={debug:ge.DEBUG,verbose:ge.VERBOSE,info:ge.INFO,warn:ge.WARN,error:ge.ERROR,silent:ge.SILENT},GV=ge.INFO,WV={[ge.DEBUG]:"log",[ge.VERBOSE]:"log",[ge.INFO]:"info",[ge.WARN]:"warn",[ge.ERROR]:"error"},KV=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=WV[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Kr=class{constructor(e){this.name=e,this._logLevel=GV,this._logHandler=KV,this._userLogHandler=null,zV.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ge))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?qV[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ge.DEBUG,...e),this._logHandler(this,ge.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ge.VERBOSE,...e),this._logHandler(this,ge.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ge.INFO,...e),this._logHandler(this,ge.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ge.WARN,...e),this._logHandler(this,ge.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ge.ERROR,...e),this._logHandler(this,ge.ERROR,...e)}};var QV=(t,e)=>e.some(n=>t instanceof n),IT,ET;function YV(){return IT||(IT=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function ZV(){return ET||(ET=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var CT=new WeakMap,gy=new WeakMap,bT=new WeakMap,py=new WeakMap,yy=new WeakMap;function JV(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Nn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&CT.set(n,t)}).catch(()=>{}),yy.set(e,t),e}function XV(t){if(gy.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});gy.set(t,e)}var my={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return gy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||bT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Nn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function DT(t){my=t(my)}function e2(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(zd(this),e,...n);return bT.set(r,e.sort?e.sort():[e]),Nn(r)}:ZV().includes(t)?function(...e){return t.apply(zd(this),e),Nn(CT.get(this))}:function(...e){return Nn(t.apply(zd(this),e))}}function t2(t){return typeof t=="function"?e2(t):(t instanceof IDBTransaction&&XV(t),QV(t,YV())?new Proxy(t,my):t)}function Nn(t){if(t instanceof IDBRequest)return JV(t);if(py.has(t))return py.get(t);let e=t2(t);return e!==t&&(py.set(t,e),yy.set(e,t)),e}var zd=t=>yy.get(t);function ST(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Nn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Nn(s.result),u.oldVersion,u.newVersion,Nn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),a}var n2=["get","getKey","getAll","getAllKeys","count"],r2=["put","add","delete","clear"],vy=new Map;function TT(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(vy.get(e))return vy.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=r2.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||n2.includes(n)))return;let o=function(s,...a){return I(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(a.shift())),(yield Promise.all([l[n](...a),i&&u.done]))[0]})};return vy.set(e,o),o}DT(t=>ue(F({},t),{get:(e,n,r)=>TT(e,n)||t.get(e,n,r),has:(e,n)=>!!TT(e,n)||t.has(e,n)}));var wy=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(i2(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function i2(t){let e=t.getComponent();return e?.type==="VERSION"}var Iy="@firebase/app",AT="0.10.11";var ar=new Kr("@firebase/app"),o2="@firebase/app-compat",s2="@firebase/analytics-compat",a2="@firebase/analytics",c2="@firebase/app-check-compat",u2="@firebase/app-check",l2="@firebase/auth",d2="@firebase/auth-compat",h2="@firebase/database",f2="@firebase/database-compat",p2="@firebase/functions",g2="@firebase/functions-compat",m2="@firebase/installations",y2="@firebase/installations-compat",v2="@firebase/messaging",_2="@firebase/messaging-compat",w2="@firebase/performance",I2="@firebase/performance-compat",E2="@firebase/remote-config",C2="@firebase/remote-config-compat",b2="@firebase/storage",D2="@firebase/storage-compat",T2="@firebase/firestore",S2="@firebase/vertexai-preview",A2="@firebase/firestore-compat",M2="firebase",x2="10.13.2";var Ey="[DEFAULT]",R2={[Iy]:"fire-core",[o2]:"fire-core-compat",[a2]:"fire-analytics",[s2]:"fire-analytics-compat",[u2]:"fire-app-check",[c2]:"fire-app-check-compat",[l2]:"fire-auth",[d2]:"fire-auth-compat",[h2]:"fire-rtdb",[f2]:"fire-rtdb-compat",[p2]:"fire-fn",[g2]:"fire-fn-compat",[m2]:"fire-iid",[y2]:"fire-iid-compat",[v2]:"fire-fcm",[_2]:"fire-fcm-compat",[w2]:"fire-perf",[I2]:"fire-perf-compat",[E2]:"fire-rc",[C2]:"fire-rc-compat",[b2]:"fire-gcs",[D2]:"fire-gcs-compat",[T2]:"fire-fst",[A2]:"fire-fst-compat",[S2]:"fire-vertex","fire-js":"fire-js",[M2]:"fire-js-all"};var yc=new Map,N2=new Map,Cy=new Map;function MT(t,e){try{t.container.addComponent(e)}catch(n){ar.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Yr(t){let e=t.name;if(Cy.has(e))return ar.debug(`There were multiple attempts to register component ${e}.`),!1;Cy.set(e,t);for(let n of yc.values())MT(n,t);for(let n of N2.values())MT(n,t);return!0}function _c(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function mn(t){return t.settings!==void 0}var P2={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qr=new sr("app","Firebase",P2);var by=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new rn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qr.create("app-deleted",{appName:this._name})}};var Zr=x2;function Sy(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Ey,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Qr.create("bad-app-name",{appName:String(i)});if(n||(n=ly()),!n)throw Qr.create("no-options");let o=yc.get(i);if(o){if(qi(n,o.options)&&qi(r,o.config))return o;throw Qr.create("duplicate-app",{appName:i})}let s=new Hd(i);for(let u of Cy.values())s.addComponent(u);let a=new by(n,r,s);return yc.set(i,a),a}function Es(t=Ey){let e=yc.get(t);if(!e&&t===Ey&&ly())return Sy();if(!e)throw Qr.create("no-app",{appName:t});return e}function qd(){return Array.from(yc.values())}function et(t,e,n){var r;let i=(r=R2[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ar.warn(a.join(" "));return}Yr(new rn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var O2="firebase-heartbeat-database",k2=1,vc="firebase-heartbeat-store",_y=null;function PT(){return _y||(_y=ST(O2,k2,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(vc)}catch(n){console.warn(n)}}}}).catch(t=>{throw Qr.create("idb-open",{originalErrorMessage:t.message})})),_y}function F2(t){return I(this,null,function*(){try{let n=(yield PT()).transaction(vc),r=yield n.objectStore(vc).get(OT(t));return yield n.done,r}catch(e){if(e instanceof $t)ar.warn(e.message);else{let n=Qr.create("idb-get",{originalErrorMessage:e?.message});ar.warn(n.message)}}})}function xT(t,e){return I(this,null,function*(){try{let r=(yield PT()).transaction(vc,"readwrite");yield r.objectStore(vc).put(e,OT(t)),yield r.done}catch(n){if(n instanceof $t)ar.warn(n.message);else{let r=Qr.create("idb-set",{originalErrorMessage:n?.message});ar.warn(r.message)}}})}function OT(t){return`${t.name}!${t.options.appId}`}var L2=1024,V2=30*24*60*60*1e3,Dy=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new Ty(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=RT();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=V2}),this._storage.overwrite(this._heartbeatsCache))}catch(r){ar.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=RT(),{heartbeatsToSend:r,unsentEntries:i}=j2(this._heartbeatsCache.heartbeats),o=gc(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return ar.warn(n),""}})}};function RT(){return new Date().toISOString().substring(0,10)}function j2(t,e=L2){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),NT(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),NT(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var Ty=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return hy()?vT().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield F2(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xT(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function NT(t){return gc(JSON.stringify({version:2,heartbeats:t})).length}function U2(t){Yr(new rn("platform-logger",e=>new wy(e),"PRIVATE")),Yr(new rn("heartbeat",e=>new Dy(e),"PRIVATE")),et(Iy,AT,t),et(Iy,AT,"esm2017"),et("fire-js","")}U2("");var B2="firebase",$2="10.13.2";et(B2,$2,"app");var Ki=new Qn("ANGULARFIRE2_VERSION");function Wd(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var wc=(t,e)=>{let n=e?[e]:qd(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},bs=class{constructor(){return wc(H2)}},H2="app-check";function Cs(){}var Gd=class{zone;delegate;constructor(e,n=tp){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Ay=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cs,{},Cs,Cs)),n.pipe(Ze({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ds=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Gd(Zone.current)),this.insideAngular=n.run(()=>new Gd(Zone.current,ep)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(le(Se))};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Kd(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function z2(t){return Kd().ngZone.runOutsideAngular(()=>t())}function Wi(t){return Kd().ngZone.run(()=>t())}function q2(t){return G2(Kd())(t)}function G2(t){return function(n){return n=n.lift(new Ay(t.ngZone)),n.pipe(Tr(t.outsideAngular),Dr(t.insideAngular))}}var W2=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Wi(()=>t.apply(void 0,r))},Ht=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Wi(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Cs,{},Cs,Cs))),r[o]=W2(r[o],n));let i=z2(()=>t.apply(this,r));if(!e)if(i instanceof fe){let o=Kd();return i.pipe(Tr(o.outsideAngular),Dr(o.insideAngular))}else return Wi(()=>i);return i instanceof fe?i.pipe(q2):i instanceof Promise?Wi(()=>new Promise((o,s)=>i.then(a=>Wi(()=>o(a)),a=>Wi(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Wi(()=>i)};var cr=class{constructor(e){return e}},Qi=class{constructor(){return qd()}};function K2(t){return t&&t.length===1?t[0]:new cr(Es())}var My=new H("angularfire2._apps"),Q2={provide:cr,useFactory:K2,deps:[[new bt,My]]},Y2={provide:Qi,deps:[[new bt,My]]};function Z2(t){return(e,n)=>{let r=n.get(Vr);et("angularfire",Ki.full,"core"),et("angularfire",Ki.full,"app"),et("angular",mb.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new cr(i)}}function kT(t,...e){return An([Q2,Y2,{provide:My,useFactory:Z2(t),multi:!0,deps:[Se,xt,Ds,...e]}])}var FT=Ht(Sy,!0);function XT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var eS=XT,tS=new sr("auth","Firebase",XT());var eh=new Kr("@firebase/auth");function J2(t,...e){eh.logLevel<=ge.WARN&&eh.warn(`Auth (${Zr}): ${t}`,...e)}function Yd(t,...e){eh.logLevel<=ge.ERROR&&eh.error(`Auth (${Zr}): ${t}`,...e)}function On(t,...e){throw Jy(t,...e)}function Yi(t,...e){return Jy(t,...e)}function nS(t,e,n){let r=Object.assign(Object.assign({},eS()),{[e]:n});return new sr("auth","Firebase",r).create(e,{appName:t.name})}function dr(t){return nS(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jy(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return tS.create(t,...e)}function Y(t,e,...n){if(!t)throw Jy(e,...n)}function ur(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Yd(e),new Error(e)}function Xr(t,e){t||ur(e)}function Py(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function X2(){return LT()==="http:"||LT()==="https:"}function LT(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function ej(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(X2()||pT()||"connection"in navigator)?navigator.onLine:!0}function tj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Zi=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Xr(n>e,"Short delay should be less than long delay!"),this.isMobile=hT()||gT()}get(){return ej()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Xy(t,e){Xr(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var th=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var nj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var rj=new Zi(3e4,6e4);function ei(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ti(o,s,a,u){return I(this,arguments,function*(t,e,n,r,i={}){return rS(t,i,()=>I(this,null,function*(){let l={},h={};r&&(e==="GET"?h=r:l={body:JSON.stringify(r)});let p=mc(Object.assign({key:t.config.apiKey},h)).slice(1),m=yield t._getAdditionalHeaders();m["Content-Type"]="application/json",t.languageCode&&(m["X-Firebase-Locale"]=t.languageCode);let v=Object.assign({method:e,headers:m},l);return fT()||(v.referrerPolicy="no-referrer"),th.fetch()(iS(t,t.config.apiHost,n,p),v)}))})}function rS(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},nj),e);try{let i=new Oy(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Qd(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,l]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Qd(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Qd(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw Qd(t,"user-disabled",s);let h=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw nS(t,h,l);On(t,h)}}catch(i){if(i instanceof $t)throw i;On(t,"network-request-failed",{message:String(i)})}})}function Ac(o,s,a,u){return I(this,arguments,function*(t,e,n,r,i={}){let l=yield ti(t,e,n,r,i);return"mfaPendingCredential"in l&&On(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function iS(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Xy(t.config,i):`${t.config.apiScheme}://${i}`}function ij(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Oy=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Yi(this.auth,"network-request-failed")),rj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Qd(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Yi(t,e,r);return i.customData._tokenResponse=n,i}function VT(t){return t!==void 0&&t.enterprise!==void 0}var ky=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return ij(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function oj(t,e){return I(this,null,function*(){return ti(t,"GET","/v2/recaptchaConfig",ei(t,e))})}function sj(t,e){return I(this,null,function*(){return ti(t,"POST","/v1/accounts:delete",e)})}function oS(t,e){return I(this,null,function*(){return ti(t,"POST","/v1/accounts:lookup",e)})}function Ic(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function ev(t,e=!1){return I(this,null,function*(){let n=gt(t),r=yield n.getIdToken(e),i=tv(r);Y(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:Ic(xy(i.auth_time)),issuedAtTime:Ic(xy(i.iat)),expirationTime:Ic(xy(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function xy(t){return Number(t)*1e3}function tv(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Yd("JWT malformed, contained fewer than 3 sections"),null;try{let i=cy(n);return i?JSON.parse(i):(Yd("Failed to decode base64 JWT payload"),null)}catch(i){return Yd("Caught error parsing JWT payload as JSON",i?.toString()),null}}function jT(t){let e=tv(t);return Y(e,"internal-error"),Y(typeof e.exp<"u","internal-error"),Y(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Cc(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof $t&&aj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function aj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Fy=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var bc=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ic(this.lastLoginAt),this.creationTime=Ic(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function nh(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Cc(t,oS(n,{idToken:r}));Y(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?sS(o.providerUserInfo):[],a=cj(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!a?.length,h=u?l:!1,p={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new bc(o.createdAt,o.lastLoginAt),isAnonymous:h};Object.assign(t,p)})}function nv(t){return I(this,null,function*(){let e=gt(t);yield nh(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function cj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function sS(t){return t.map(e=>{var{providerId:n}=e,r=np(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function uj(t,e){return I(this,null,function*(){let n=yield rS(t,{},()=>I(this,null,function*(){let r=mc({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=iS(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",th.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function lj(t,e){return I(this,null,function*(){return ti(t,"POST","/v2/accounts:revokeToken",ei(t,e))})}var Ec=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Y(e.idToken,"internal-error"),Y(typeof e.idToken<"u","internal-error"),Y(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):jT(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Y(e.length!==0,"internal-error");let n=jT(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Y(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield uj(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(Y(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Y(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Y(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return ur("not implemented")}};function Jr(t,e){Y(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ts=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=np(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Fy(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new bc(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield Cc(this,this.stsTokenManager.getToken(this.auth,e));return Y(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return ev(this,e)}reload(){return nv(this)}_assign(e){this!==e&&(Y(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Y(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield nh(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(mn(this.auth.app))return Promise.reject(dr(this.auth));let e=yield this.getIdToken();return yield Cc(this,sj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,l,h;let p=(r=n.displayName)!==null&&r!==void 0?r:void 0,m=(i=n.email)!==null&&i!==void 0?i:void 0,v=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,S=(s=n.photoURL)!==null&&s!==void 0?s:void 0,N=(a=n.tenantId)!==null&&a!==void 0?a:void 0,M=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,z=(h=n.lastLoginAt)!==null&&h!==void 0?h:void 0,{uid:K,emailVerified:de,isAnonymous:Fe,providerData:ee,stsTokenManager:C}=n;Y(K&&C,e,"internal-error");let y=Ec.fromJSON(this.name,C);Y(typeof K=="string",e,"internal-error"),Jr(p,e.name),Jr(m,e.name),Y(typeof de=="boolean",e,"internal-error"),Y(typeof Fe=="boolean",e,"internal-error"),Jr(v,e.name),Jr(S,e.name),Jr(N,e.name),Jr(M,e.name),Jr(j,e.name),Jr(z,e.name);let _=new t({uid:K,auth:e,email:m,emailVerified:de,displayName:p,isAnonymous:Fe,photoURL:S,phoneNumber:v,tenantId:N,stsTokenManager:y,createdAt:j,lastLoginAt:z});return ee&&Array.isArray(ee)&&(_.providerData=ee.map(E=>Object.assign({},E))),M&&(_._redirectEventId=M),_}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new Ec;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield nh(o),o})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];Y(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?sS(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Ec;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new bc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var UT=new Map;function lr(t){Xr(t instanceof Function,"Expected a class definition");let e=UT.get(t);return e?(Xr(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,UT.set(t,e),e)}var dj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),Ly=dj;function Zd(t,e,n){return`firebase:${t}:${e}:${n}`}var rh=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Zd(this.userKey,i.apiKey,o),this.fullPersistenceKey=Zd("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ts._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(lr(Ly),e,r);let i=(yield Promise.all(n.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||lr(Ly),s=Zd(r,e.config.apiKey,e.name),a=null;for(let l of n)try{let h=yield l._get(s);if(h){let p=Ts._fromJSON(e,h);l!==o&&(a=p),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(l=>I(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function BT(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(lS(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aS(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(hS(e))return"Blackberry";if(fS(e))return"Webos";if(cS(e))return"Safari";if((e.includes("chrome/")||uS(e))&&!e.includes("edge/"))return"Chrome";if(dS(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function aS(t=it()){return/firefox\//i.test(t)}function cS(t=it()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uS(t=it()){return/crios\//i.test(t)}function lS(t=it()){return/iemobile/i.test(t)}function dS(t=it()){return/android/i.test(t)}function hS(t=it()){return/blackberry/i.test(t)}function fS(t=it()){return/webos/i.test(t)}function rv(t=it()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function hj(t=it()){var e;return rv(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function fj(){return mT()&&document.documentMode===10}function pS(t=it()){return rv(t)||dS(t)||fS(t)||hS(t)||/windows phone/i.test(t)||lS(t)}function gS(t,e=[]){let n;switch(t){case"Browser":n=BT(it());break;case"Worker":n=`${BT(it())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Zr}/${r}`}var Vy=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function pj(n){return I(this,arguments,function*(t,e={}){return ti(t,"GET","/v2/passwordPolicy",ei(t,e))})}var gj=6,jy=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:gj,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Uy=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ih(this),this.idTokenSubscription=new ih(this),this.beforeStateQueue=new Vy(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=tS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=lr(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield rh.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield oS(this,{idToken:e}),r=yield Ts._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(mn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Y(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield nh(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=tj()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(mn(this.app))return Promise.reject(dr(this));let n=e?gt(e):null;return n&&Y(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&Y(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return mn(this.app)?Promise.reject(dr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return mn(this.app)?Promise.reject(dr(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(lr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield pj(this),n=new jy(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new sr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield lj(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&lr(e)||this._popupRedirectResolver;Y(n,this,"argument-error"),this.redirectPersistenceManager=yield rh.create(this,[lr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Y(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Y(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=gS(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&J2(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Xi(t){return gt(t)}var ih=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=wT(n=>this.observer=n)}get next(){return Y(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var dh={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function mj(t){dh=t}function mS(t){return dh.loadJS(t)}function yj(){return dh.recaptchaEnterpriseScript}function vj(){return dh.gapiScript}function yS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var _j="recaptcha-enterprise",wj="NO_RECAPTCHA",By=class{constructor(e){this.type=_j,this.auth=Xi(e)}verify(e="verify",n=!1){return I(this,null,function*(){function r(o){return I(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>I(this,null,function*(){oj(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let l=new ky(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;VT(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(wj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&VT(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=yj();u.length!==0&&(u+=a),mS(u).then(()=>{i(a,o,s)}).catch(l=>{s(l)})}}).catch(a=>{s(a)})})})}};function $T(t,e,n,r=!1){return I(this,null,function*(){let i=new By(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function $y(t,e,n,r){return I(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield $T(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>I(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield $T(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function iv(t,e){let n=_c(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(qi(o,e??{}))return i;On(i,"already-initialized")}return n.initialize({options:e})}function Ij(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(lr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function ov(t,e,n){let r=Xi(t);Y(r._canInitEmulator,r,"emulator-config-failed"),Y(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=vS(e),{host:s,port:a}=Ej(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||Cj()}function vS(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Ej(t){let e=vS(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:HT(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:HT(s)}}}function HT(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function Cj(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Dc=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ur("not implemented")}_getIdTokenResponse(e){return ur("not implemented")}_linkToIdToken(e,n){return ur("not implemented")}_getReauthenticationResolver(e){return ur("not implemented")}};function bj(t,e){return I(this,null,function*(){return ti(t,"POST","/v1/accounts:signUp",e)})}function Dj(t,e){return I(this,null,function*(){return Ac(t,"POST","/v1/accounts:signInWithPassword",ei(t,e))})}function Tj(t,e){return I(this,null,function*(){return Ac(t,"POST","/v1/accounts:signInWithEmailLink",ei(t,e))})}function Sj(t,e){return I(this,null,function*(){return Ac(t,"POST","/v1/accounts:signInWithEmailLink",ei(t,e))})}var Tc=class t extends Dc{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $y(e,n,"signInWithPassword",Dj);case"emailLink":return Tj(e,{email:this._email,oobCode:this._password});default:On(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return $y(e,r,"signUpPassword",bj);case"emailLink":return Sj(e,{idToken:n,email:this._email,oobCode:this._password});default:On(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Ry(t,e){return I(this,null,function*(){return Ac(t,"POST","/v1/accounts:signInWithIdp",ei(t,e))})}function Aj(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Mj(t){let e=ws(Is(t)).link,n=e?ws(Is(e)).deep_link_id:null,r=ws(Is(t)).deep_link_id;return(r?ws(Is(r)).link:null)||r||n||e||t}var oh=class t{constructor(e){var n,r,i,o,s,a;let u=ws(Is(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,h=(r=u.oobCode)!==null&&r!==void 0?r:null,p=Aj((i=u.mode)!==null&&i!==void 0?i:null);Y(l&&h&&p,"argument-error"),this.apiKey=l,this.operation=p,this.code=h,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=Mj(e);try{return new t(n)}catch{return null}}};var _S=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Tc._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=oh.parseLink(r);return Y(i,"argument-error"),Tc._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),sh=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Hy=class extends sh{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function xj(t,e){return I(this,null,function*(){return Ac(t,"POST","/v1/accounts:signUp",ei(t,e))})}var Ss=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let o=yield Ts._fromIdTokenResponse(e,r,i),s=zT(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=zT(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function zT(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var zy=class t extends $t{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function wS(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zy._fromErrorAndOperation(t,o,e,r):o})}function Rj(t,e,n=!1){return I(this,null,function*(){let r=yield Cc(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Ss._forOperation(t,"link",r)})}function Nj(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(mn(r.app))return Promise.reject(dr(r));let i="reauthenticate";try{let o=yield Cc(t,wS(r,i,e,t),n);Y(o.idToken,r,"internal-error");let s=tv(o.idToken);Y(s,r,"internal-error");let{sub:a}=s;return Y(t.uid===a,r,"user-mismatch"),Ss._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&On(r,"user-mismatch"),o}})}function IS(t,e,n=!1){return I(this,null,function*(){if(mn(t.app))return Promise.reject(dr(t));let r="signIn",i=yield wS(t,r,e),o=yield Ss._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function sv(t,e){return I(this,null,function*(){return IS(Xi(t),e)})}function ES(t){return I(this,null,function*(){let e=Xi(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function av(t,e,n){return I(this,null,function*(){if(mn(t.app))return Promise.reject(dr(t));let r=Xi(t),s=yield $y(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",xj).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&ES(t),u}),a=yield Ss._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function cv(t,e,n){return mn(t.app)?Promise.reject(dr(t)):sv(gt(t),_S.credential(e,n)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&ES(t),r}))}function uv(t,e,n,r){return gt(t).onIdTokenChanged(e,n,r)}function lv(t,e,n){return gt(t).beforeAuthStateChanged(e,n)}var ah="__sak";var ch=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(ah,"1"),this.storage.removeItem(ah),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Pj=1e3,Oj=10,kj=(()=>{class t extends ch{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pS(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,l)=>{this.notifyListeners(a,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);fj()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,Oj):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},Pj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield Cr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield Cr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield Cr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),CS=kj;var Fj=(()=>{class t extends ch{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),dv=Fj;function Lj(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var Vj=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(h=>I(this,null,function*(){return h(r.origin,s)})),l=yield Lj(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function bS(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var qy=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let l=bS("",20);i.port1.start();let h=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(p){let m=p;if(m.data.eventId===l)switch(m.data.status){case"ack":clearTimeout(h),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(m.data.response);break;default:clearTimeout(h),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Pn(){return window}function jj(t){Pn().location.href=t}function DS(){return typeof Pn().WorkerGlobalScope<"u"&&typeof Pn().importScripts=="function"}function Uj(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Bj(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function $j(){return DS()?self:null}var TS="firebaseLocalStorageDb",Hj=1,uh="firebaseLocalStorage",SS="fbase_key",Ji=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function hh(t,e){return t.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function zj(){let t=indexedDB.deleteDatabase(TS);return new Ji(t).toPromise()}function Gy(){let t=indexedDB.open(TS,Hj);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(uh,{keyPath:SS})}catch(i){n(i)}}),t.addEventListener("success",()=>I(this,null,function*(){let r=t.result;r.objectStoreNames.contains(uh)?e(r):(r.close(),yield zj(),e(yield Gy()))}))})}function qT(t,e,n){return I(this,null,function*(){let r=hh(t,!0).put({[SS]:e,value:n});return new Ji(r).toPromise()})}function qj(t,e){return I(this,null,function*(){let n=hh(t,!1).get(e),r=yield new Ji(n).toPromise();return r===void 0?null:r.value})}function GT(t,e){let n=hh(t,!0).delete(e);return new Ji(n).toPromise()}var Gj=800,Wj=3,Kj=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield Gy(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>Wj)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return DS()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=Vj._getInstance($j()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield Uj(),!this.activeServiceWorker)return;this.sender=new qy(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Bj()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Gy();return yield qT(n,ah,"1"),yield GT(n,ah),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>qT(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>qj(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>GT(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(o=>{let s=hh(o,!1).getAll();return new Ji(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),Gj)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),AS=Kj;var o8=yS("rcb"),s8=new Zi(3e4,6e4);function Qj(t,e){return e?lr(e):(Y(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Sc=class extends Dc{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ry(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ry(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ry(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function Yj(t){return IS(t.auth,new Sc(t),t.bypassAuthState)}function Zj(t){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),Nj(n,new Sc(t),t.bypassAuthState)}function Jj(t){return I(this,null,function*(){let{auth:e,user:n}=t;return Y(n,e,"internal-error"),Rj(n,new Sc(t),t.bypassAuthState)})}var Wy=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Yj;case"linkViaPopup":case"linkViaRedirect":return Jj;case"reauthViaPopup":case"reauthViaRedirect":return Zj;default:On(this.auth,"internal-error")}}resolve(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Xr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var a8=new Zi(2e3,1e4);var Xj="pendingRedirect",Jd=new Map,Ky=class t extends Wy{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=Jd.get(this.auth._key());if(!e){try{let r=(yield eU(this.resolver,this.auth))?yield Cr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Jd.set(this.auth._key(),e)}return this.bypassAuthState||Jd.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return Cr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Cr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function eU(t,e){return I(this,null,function*(){let n=rU(e),r=nU(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function tU(t,e){Jd.set(t._key(),e)}function nU(t){return lr(t._redirectPersistence)}function rU(t){return Zd(Xj,t.config.apiKey,t.name)}function iU(t,e,n=!1){return I(this,null,function*(){if(mn(t.app))return Promise.reject(dr(t));let r=Xi(t),i=Qj(r,e),s=yield new Ky(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var oU=10*60*1e3,Qy=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!sU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!MS(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Yi(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=oU&&this.cachedEventUids.clear(),this.cachedEventUids.has(WT(e))}saveEventToCache(e){this.cachedEventUids.add(WT(e)),this.lastProcessedEventTime=Date.now()}};function WT(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function MS({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function sU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return MS(t);default:return!1}}function aU(n){return I(this,arguments,function*(t,e={}){return ti(t,"GET","/v1/projects",e)})}var cU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uU=/^https?/;function lU(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield aU(t);for(let n of e)try{if(dU(n))return}catch{}On(t,"unauthorized-domain")})}function dU(t){let e=Py(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!uU.test(n))return!1;if(cU.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var hU=new Zi(3e4,6e4);function KT(){let t=Pn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function fU(t){return new Promise((e,n)=>{var r,i,o;function s(){KT(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KT(),n(Yi(t,"network-request-failed"))},timeout:hU.get()})}if(!((i=(r=Pn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Pn().gapi)===null||o===void 0)&&o.load)s();else{let a=yS("iframefcb");return Pn()[a]=()=>{gapi.load?s():n(Yi(t,"network-request-failed"))},mS(`${vj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Xd=null,e})}var Xd=null;function pU(t){return Xd=Xd||fU(t),Xd}var gU=new Zi(5e3,15e3),mU="__/auth/iframe",yU="emulator/auth/iframe",vU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},_U=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wU(t){let e=t.config;Y(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Xy(e,yU):`https://${t.config.authDomain}/${mU}`,r={apiKey:e.apiKey,appName:t.name,v:Zr},i=_U.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${mc(r).slice(1)}`}function IU(t){return I(this,null,function*(){let e=yield pU(t),n=Pn().gapi;return Y(n,t,"internal-error"),e.open({where:document.body,url:wU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:vU,dontclear:!0},r=>new Promise((i,o)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Yi(t,"network-request-failed"),a=Pn().setTimeout(()=>{o(s)},gU.get());function u(){Pn().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var EU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},CU=500,bU=600,DU="_blank",TU="http://localhost",lh=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function SU(t,e,n,r=CU,i=bU){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},EU),{width:r.toString(),height:i.toString(),top:o,left:s}),l=it().toLowerCase();n&&(a=uS(l)?DU:n),aS(l)&&(e=e||TU,u.scrollbars="yes");let h=Object.entries(u).reduce((m,[v,S])=>`${m}${v}=${S},`,"");if(hj(l)&&a!=="_self")return AU(e||"",a),new lh(null);let p=window.open(e||"",a,h);Y(p,t,"popup-blocked");try{p.focus()}catch{}return new lh(p)}function AU(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var MU="__/auth/handler",xU="emulator/auth/handler",RU=encodeURIComponent("fac");function QT(t,e,n,r,i,o){return I(this,null,function*(){Y(t.config.authDomain,t,"auth-domain-config-required"),Y(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Zr,eventId:i};if(e instanceof sh){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",_T(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[h,p]of Object.entries(o||{}))s[h]=p}if(e instanceof Hy){let h=e.getScopes().filter(p=>p!=="");h.length>0&&(s.scopes=h.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let h of Object.keys(a))a[h]===void 0&&delete a[h];let u=yield t._getAppCheckToken(),l=u?`#${RU}=${encodeURIComponent(u)}`:"";return`${NU(t)}?${mc(a).slice(1)}${l}`})}function NU({config:t}){return t.emulator?Xy(t,xU):`https://${t.authDomain}/${MU}`}var Ny="webStorageSupport",Yy=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dv,this._completeRedirectFn=iU,this._overrideRedirectResult=tU}_openPopup(e,n,r,i){return I(this,null,function*(){var o;Xr((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield QT(e,n,r,Py(),i);return SU(e,s,bS())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let o=yield QT(e,n,r,Py(),i);return jj(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Xr(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield IU(e),r=new Qy(e);return n.register("authEvent",i=>(Y(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Ny,{type:Ny},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Ny];s!==void 0&&n(!!s),On(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=lU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return pS()||cS()||rv()}},xS=Yy;var YT="@firebase/auth",ZT="1.7.9";var Zy=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Y(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function PU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function OU(t){Yr(new rn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Y(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:gS(t)},l=new Uy(r,i,o,u);return Ij(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Yr(new rn("auth-internal",e=>{let n=Xi(e.getProvider("auth").getImmediate());return(r=>new Zy(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),et(YT,ZT,PU(t)),et(YT,ZT,"esm2017")}var kU=5*60,FU=dy("authIdTokenMaxAge")||kU,JT=null,LU=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>FU)return;let i=n?.token;JT!==i&&(JT=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function hv(t=Es()){let e=_c(t,"auth");if(e.isInitialized())return e.getImmediate();let n=iv(t,{popupRedirectResolver:xS,persistence:[AS,CS,dv]}),r=dy("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=LU(o.toString());lv(n,s,()=>s(n.currentUser)),uv(n,a=>s(a))}}let i=uy("auth");return i&&ov(n,`http://${i}`),n}function VU(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}mj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Yi("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",VU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});OU("Browser");var RS="auth",hr=class{constructor(e){return e}},Mc=class{constructor(){return wc(RS)}};var fv=new H("angularfire2.auth-instances");function MB(t,e){let n=Wd(RS,t,e);return n&&new hr(n)}function xB(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new hr(r)}}var RB={provide:Mc,deps:[[new bt,fv]]},NB={provide:hr,useFactory:MB,deps:[[new bt,fv],cr]};function NS(t,...e){return et("angularfire",Ki.full,"auth"),An([NB,RB,{provide:fv,useFactory:xB(t),multi:!0,deps:[Se,xt,Ds,Qi,[new bt,bs],...e]}])}var PS=Ht(av,!0);var OS=Ht(hv,!0);var kS=Ht(cv,!0);var LS=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},VS={};var ni,pv;(function(){var t;function e(C,y){function _(){}_.prototype=y.prototype,C.D=y.prototype,C.prototype=new _,C.prototype.constructor=C,C.C=function(E,b,T){for(var w=Array(arguments.length-2),Bn=2;Bn<arguments.length;Bn++)w[Bn-2]=arguments[Bn];return y.prototype[b].apply(E,w)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,y,_){_||(_=0);var E=Array(16);if(typeof y=="string")for(var b=0;16>b;++b)E[b]=y.charCodeAt(_++)|y.charCodeAt(_++)<<8|y.charCodeAt(_++)<<16|y.charCodeAt(_++)<<24;else for(b=0;16>b;++b)E[b]=y[_++]|y[_++]<<8|y[_++]<<16|y[_++]<<24;y=C.g[0],_=C.g[1],b=C.g[2];var T=C.g[3],w=y+(T^_&(b^T))+E[0]+3614090360&4294967295;y=_+(w<<7&4294967295|w>>>25),w=T+(b^y&(_^b))+E[1]+3905402710&4294967295,T=y+(w<<12&4294967295|w>>>20),w=b+(_^T&(y^_))+E[2]+606105819&4294967295,b=T+(w<<17&4294967295|w>>>15),w=_+(y^b&(T^y))+E[3]+3250441966&4294967295,_=b+(w<<22&4294967295|w>>>10),w=y+(T^_&(b^T))+E[4]+4118548399&4294967295,y=_+(w<<7&4294967295|w>>>25),w=T+(b^y&(_^b))+E[5]+1200080426&4294967295,T=y+(w<<12&4294967295|w>>>20),w=b+(_^T&(y^_))+E[6]+2821735955&4294967295,b=T+(w<<17&4294967295|w>>>15),w=_+(y^b&(T^y))+E[7]+4249261313&4294967295,_=b+(w<<22&4294967295|w>>>10),w=y+(T^_&(b^T))+E[8]+1770035416&4294967295,y=_+(w<<7&4294967295|w>>>25),w=T+(b^y&(_^b))+E[9]+2336552879&4294967295,T=y+(w<<12&4294967295|w>>>20),w=b+(_^T&(y^_))+E[10]+4294925233&4294967295,b=T+(w<<17&4294967295|w>>>15),w=_+(y^b&(T^y))+E[11]+2304563134&4294967295,_=b+(w<<22&4294967295|w>>>10),w=y+(T^_&(b^T))+E[12]+1804603682&4294967295,y=_+(w<<7&4294967295|w>>>25),w=T+(b^y&(_^b))+E[13]+4254626195&4294967295,T=y+(w<<12&4294967295|w>>>20),w=b+(_^T&(y^_))+E[14]+2792965006&4294967295,b=T+(w<<17&4294967295|w>>>15),w=_+(y^b&(T^y))+E[15]+1236535329&4294967295,_=b+(w<<22&4294967295|w>>>10),w=y+(b^T&(_^b))+E[1]+4129170786&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^b&(y^_))+E[6]+3225465664&4294967295,T=y+(w<<9&4294967295|w>>>23),w=b+(y^_&(T^y))+E[11]+643717713&4294967295,b=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(b^T))+E[0]+3921069994&4294967295,_=b+(w<<20&4294967295|w>>>12),w=y+(b^T&(_^b))+E[5]+3593408605&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^b&(y^_))+E[10]+38016083&4294967295,T=y+(w<<9&4294967295|w>>>23),w=b+(y^_&(T^y))+E[15]+3634488961&4294967295,b=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(b^T))+E[4]+3889429448&4294967295,_=b+(w<<20&4294967295|w>>>12),w=y+(b^T&(_^b))+E[9]+568446438&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^b&(y^_))+E[14]+3275163606&4294967295,T=y+(w<<9&4294967295|w>>>23),w=b+(y^_&(T^y))+E[3]+4107603335&4294967295,b=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(b^T))+E[8]+1163531501&4294967295,_=b+(w<<20&4294967295|w>>>12),w=y+(b^T&(_^b))+E[13]+2850285829&4294967295,y=_+(w<<5&4294967295|w>>>27),w=T+(_^b&(y^_))+E[2]+4243563512&4294967295,T=y+(w<<9&4294967295|w>>>23),w=b+(y^_&(T^y))+E[7]+1735328473&4294967295,b=T+(w<<14&4294967295|w>>>18),w=_+(T^y&(b^T))+E[12]+2368359562&4294967295,_=b+(w<<20&4294967295|w>>>12),w=y+(_^b^T)+E[5]+4294588738&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^b)+E[8]+2272392833&4294967295,T=y+(w<<11&4294967295|w>>>21),w=b+(T^y^_)+E[11]+1839030562&4294967295,b=T+(w<<16&4294967295|w>>>16),w=_+(b^T^y)+E[14]+4259657740&4294967295,_=b+(w<<23&4294967295|w>>>9),w=y+(_^b^T)+E[1]+2763975236&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^b)+E[4]+1272893353&4294967295,T=y+(w<<11&4294967295|w>>>21),w=b+(T^y^_)+E[7]+4139469664&4294967295,b=T+(w<<16&4294967295|w>>>16),w=_+(b^T^y)+E[10]+3200236656&4294967295,_=b+(w<<23&4294967295|w>>>9),w=y+(_^b^T)+E[13]+681279174&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^b)+E[0]+3936430074&4294967295,T=y+(w<<11&4294967295|w>>>21),w=b+(T^y^_)+E[3]+3572445317&4294967295,b=T+(w<<16&4294967295|w>>>16),w=_+(b^T^y)+E[6]+76029189&4294967295,_=b+(w<<23&4294967295|w>>>9),w=y+(_^b^T)+E[9]+3654602809&4294967295,y=_+(w<<4&4294967295|w>>>28),w=T+(y^_^b)+E[12]+3873151461&4294967295,T=y+(w<<11&4294967295|w>>>21),w=b+(T^y^_)+E[15]+530742520&4294967295,b=T+(w<<16&4294967295|w>>>16),w=_+(b^T^y)+E[2]+3299628645&4294967295,_=b+(w<<23&4294967295|w>>>9),w=y+(b^(_|~T))+E[0]+4096336452&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~b))+E[7]+1126891415&4294967295,T=y+(w<<10&4294967295|w>>>22),w=b+(y^(T|~_))+E[14]+2878612391&4294967295,b=T+(w<<15&4294967295|w>>>17),w=_+(T^(b|~y))+E[5]+4237533241&4294967295,_=b+(w<<21&4294967295|w>>>11),w=y+(b^(_|~T))+E[12]+1700485571&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~b))+E[3]+2399980690&4294967295,T=y+(w<<10&4294967295|w>>>22),w=b+(y^(T|~_))+E[10]+4293915773&4294967295,b=T+(w<<15&4294967295|w>>>17),w=_+(T^(b|~y))+E[1]+2240044497&4294967295,_=b+(w<<21&4294967295|w>>>11),w=y+(b^(_|~T))+E[8]+1873313359&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~b))+E[15]+4264355552&4294967295,T=y+(w<<10&4294967295|w>>>22),w=b+(y^(T|~_))+E[6]+2734768916&4294967295,b=T+(w<<15&4294967295|w>>>17),w=_+(T^(b|~y))+E[13]+1309151649&4294967295,_=b+(w<<21&4294967295|w>>>11),w=y+(b^(_|~T))+E[4]+4149444226&4294967295,y=_+(w<<6&4294967295|w>>>26),w=T+(_^(y|~b))+E[11]+3174756917&4294967295,T=y+(w<<10&4294967295|w>>>22),w=b+(y^(T|~_))+E[2]+718787259&4294967295,b=T+(w<<15&4294967295|w>>>17),w=_+(T^(b|~y))+E[9]+3951481745&4294967295,C.g[0]=C.g[0]+y&4294967295,C.g[1]=C.g[1]+(b+(w<<21&4294967295|w>>>11))&4294967295,C.g[2]=C.g[2]+b&4294967295,C.g[3]=C.g[3]+T&4294967295}r.prototype.u=function(C,y){y===void 0&&(y=C.length);for(var _=y-this.blockSize,E=this.B,b=this.h,T=0;T<y;){if(b==0)for(;T<=_;)i(this,C,T),T+=this.blockSize;if(typeof C=="string"){for(;T<y;)if(E[b++]=C.charCodeAt(T++),b==this.blockSize){i(this,E),b=0;break}}else for(;T<y;)if(E[b++]=C[T++],b==this.blockSize){i(this,E),b=0;break}}this.h=b,this.o+=y},r.prototype.v=function(){var C=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);C[0]=128;for(var y=1;y<C.length-8;++y)C[y]=0;var _=8*this.o;for(y=C.length-8;y<C.length;++y)C[y]=_&255,_/=256;for(this.u(C),C=Array(16),y=_=0;4>y;++y)for(var E=0;32>E;E+=8)C[_++]=this.g[y]>>>E&255;return C};function o(C,y){var _=a;return Object.prototype.hasOwnProperty.call(_,C)?_[C]:_[C]=y(C)}function s(C,y){this.h=y;for(var _=[],E=!0,b=C.length-1;0<=b;b--){var T=C[b]|0;E&&T==y||(_[b]=T,E=!1)}this.g=_}var a={};function u(C){return-128<=C&&128>C?o(C,function(y){return new s([y|0],0>y?-1:0)}):new s([C|0],0>C?-1:0)}function l(C){if(isNaN(C)||!isFinite(C))return p;if(0>C)return M(l(-C));for(var y=[],_=1,E=0;C>=_;E++)y[E]=C/_|0,_*=4294967296;return new s(y,0)}function h(C,y){if(C.length==0)throw Error("number format error: empty string");if(y=y||10,2>y||36<y)throw Error("radix out of range: "+y);if(C.charAt(0)=="-")return M(h(C.substring(1),y));if(0<=C.indexOf("-"))throw Error('number format error: interior "-" character');for(var _=l(Math.pow(y,8)),E=p,b=0;b<C.length;b+=8){var T=Math.min(8,C.length-b),w=parseInt(C.substring(b,b+T),y);8>T?(T=l(Math.pow(y,T)),E=E.j(T).add(l(w))):(E=E.j(_),E=E.add(l(w)))}return E}var p=u(0),m=u(1),v=u(16777216);t=s.prototype,t.m=function(){if(N(this))return-M(this).m();for(var C=0,y=1,_=0;_<this.g.length;_++){var E=this.i(_);C+=(0<=E?E:4294967296+E)*y,y*=4294967296}return C},t.toString=function(C){if(C=C||10,2>C||36<C)throw Error("radix out of range: "+C);if(S(this))return"0";if(N(this))return"-"+M(this).toString(C);for(var y=l(Math.pow(C,6)),_=this,E="";;){var b=de(_,y).g;_=j(_,b.j(y));var T=((0<_.g.length?_.g[0]:_.h)>>>0).toString(C);if(_=b,S(_))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(C){return 0>C?0:C<this.g.length?this.g[C]:this.h};function S(C){if(C.h!=0)return!1;for(var y=0;y<C.g.length;y++)if(C.g[y]!=0)return!1;return!0}function N(C){return C.h==-1}t.l=function(C){return C=j(this,C),N(C)?-1:S(C)?0:1};function M(C){for(var y=C.g.length,_=[],E=0;E<y;E++)_[E]=~C.g[E];return new s(_,~C.h).add(m)}t.abs=function(){return N(this)?M(this):this},t.add=function(C){for(var y=Math.max(this.g.length,C.g.length),_=[],E=0,b=0;b<=y;b++){var T=E+(this.i(b)&65535)+(C.i(b)&65535),w=(T>>>16)+(this.i(b)>>>16)+(C.i(b)>>>16);E=w>>>16,T&=65535,w&=65535,_[b]=w<<16|T}return new s(_,_[_.length-1]&-2147483648?-1:0)};function j(C,y){return C.add(M(y))}t.j=function(C){if(S(this)||S(C))return p;if(N(this))return N(C)?M(this).j(M(C)):M(M(this).j(C));if(N(C))return M(this.j(M(C)));if(0>this.l(v)&&0>C.l(v))return l(this.m()*C.m());for(var y=this.g.length+C.g.length,_=[],E=0;E<2*y;E++)_[E]=0;for(E=0;E<this.g.length;E++)for(var b=0;b<C.g.length;b++){var T=this.i(E)>>>16,w=this.i(E)&65535,Bn=C.i(b)>>>16,Zs=C.i(b)&65535;_[2*E+2*b]+=w*Zs,z(_,2*E+2*b),_[2*E+2*b+1]+=T*Zs,z(_,2*E+2*b+1),_[2*E+2*b+1]+=w*Bn,z(_,2*E+2*b+1),_[2*E+2*b+2]+=T*Bn,z(_,2*E+2*b+2)}for(E=0;E<y;E++)_[E]=_[2*E+1]<<16|_[2*E];for(E=y;E<2*y;E++)_[E]=0;return new s(_,0)};function z(C,y){for(;(C[y]&65535)!=C[y];)C[y+1]+=C[y]>>>16,C[y]&=65535,y++}function K(C,y){this.g=C,this.h=y}function de(C,y){if(S(y))throw Error("division by zero");if(S(C))return new K(p,p);if(N(C))return y=de(M(C),y),new K(M(y.g),M(y.h));if(N(y))return y=de(C,M(y)),new K(M(y.g),y.h);if(30<C.g.length){if(N(C)||N(y))throw Error("slowDivide_ only works with positive integers.");for(var _=m,E=y;0>=E.l(C);)_=Fe(_),E=Fe(E);var b=ee(_,1),T=ee(E,1);for(E=ee(E,2),_=ee(_,2);!S(E);){var w=T.add(E);0>=w.l(C)&&(b=b.add(_),T=w),E=ee(E,1),_=ee(_,1)}return y=j(C,b.j(y)),new K(b,y)}for(b=p;0<=C.l(y);){for(_=Math.max(1,Math.floor(C.m()/y.m())),E=Math.ceil(Math.log(_)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(_),w=T.j(y);N(w)||0<w.l(C);)_-=E,T=l(_),w=T.j(y);S(T)&&(T=m),b=b.add(T),C=j(C,w)}return new K(b,C)}t.A=function(C){return de(this,C).h},t.and=function(C){for(var y=Math.max(this.g.length,C.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)&C.i(E);return new s(_,this.h&C.h)},t.or=function(C){for(var y=Math.max(this.g.length,C.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)|C.i(E);return new s(_,this.h|C.h)},t.xor=function(C){for(var y=Math.max(this.g.length,C.g.length),_=[],E=0;E<y;E++)_[E]=this.i(E)^C.i(E);return new s(_,this.h^C.h)};function Fe(C){for(var y=C.g.length+1,_=[],E=0;E<y;E++)_[E]=C.i(E)<<1|C.i(E-1)>>>31;return new s(_,C.h)}function ee(C,y){var _=y>>5;y%=32;for(var E=C.g.length-_,b=[],T=0;T<E;T++)b[T]=0<y?C.i(T+_)>>>y|C.i(T+_+1)<<32-y:C.i(T+_);return new s(b,C.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,pv=VS.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=h,ni=VS.Integer=s}).apply(typeof LS<"u"?LS:typeof self<"u"?self:typeof window<"u"?window:{});var fh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fr={};var gv,mv,As,yv,xc,ph,vv,_v,wv;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,d,f){return c==Array.prototype||c==Object.prototype||(c[d]=f.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof fh=="object"&&fh];for(var d=0;d<c.length;++d){var f=c[d];if(f&&f.Math==Math)return f}throw Error("Cannot find global object")}var r=n(this);function i(c,d){if(d)e:{var f=r;c=c.split(".");for(var g=0;g<c.length-1;g++){var D=c[g];if(!(D in f))break e;f=f[D]}c=c[c.length-1],g=f[c],d=d(g),d!=g&&d!=null&&e(f,c,{configurable:!0,writable:!0,value:d})}}function o(c,d){c instanceof String&&(c+="");var f=0,g=!1,D={next:function(){if(!g&&f<c.length){var A=f++;return{value:d(A,c[A]),done:!1}}return g=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(c){return c||function(){return o(this,function(d,f){return f})}});var s=s||{},a=this||self;function u(c){var d=typeof c;return d=d!="object"?d:c?Array.isArray(c)?"array":d:"null",d=="array"||d=="object"&&typeof c.length=="number"}function l(c){var d=typeof c;return d=="object"&&c!=null||d=="function"}function h(c,d,f){return c.call.apply(c.bind,arguments)}function p(c,d,f){if(!c)throw Error();if(2<arguments.length){var g=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,g),c.apply(d,D)}}return function(){return c.apply(d,arguments)}}function m(c,d,f){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?h:p,m.apply(null,arguments)}function v(c,d){var f=Array.prototype.slice.call(arguments,1);return function(){var g=f.slice();return g.push.apply(g,arguments),c.apply(this,g)}}function S(c,d){function f(){}f.prototype=d.prototype,c.aa=d.prototype,c.prototype=new f,c.prototype.constructor=c,c.Qb=function(g,D,A){for(var k=Array(arguments.length-2),Ae=2;Ae<arguments.length;Ae++)k[Ae-2]=arguments[Ae];return d.prototype[D].apply(g,k)}}function N(c){let d=c.length;if(0<d){let f=Array(d);for(let g=0;g<d;g++)f[g]=c[g];return f}return[]}function M(c,d){for(let f=1;f<arguments.length;f++){let g=arguments[f];if(u(g)){let D=c.length||0,A=g.length||0;c.length=D+A;for(let k=0;k<A;k++)c[D+k]=g[k]}else c.push(g)}}class j{constructor(d,f){this.i=d,this.j=f,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function z(c){return/^[\s\xa0]*$/.test(c)}function K(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function de(c){return de[" "](c),c}de[" "]=function(){};var Fe=K().indexOf("Gecko")!=-1&&!(K().toLowerCase().indexOf("webkit")!=-1&&K().indexOf("Edge")==-1)&&!(K().indexOf("Trident")!=-1||K().indexOf("MSIE")!=-1)&&K().indexOf("Edge")==-1;function ee(c,d,f){for(let g in c)d.call(f,c[g],g,c)}function C(c,d){for(let f in c)d.call(void 0,c[f],f,c)}function y(c){let d={};for(let f in c)d[f]=c[f];return d}let _="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(c,d){let f,g;for(let D=1;D<arguments.length;D++){g=arguments[D];for(f in g)c[f]=g[f];for(let A=0;A<_.length;A++)f=_[A],Object.prototype.hasOwnProperty.call(g,f)&&(c[f]=g[f])}}function b(c){var d=1;c=c.split(":");let f=[];for(;0<d&&c.length;)f.push(c.shift()),d--;return c.length&&f.push(c.join(":")),f}function T(c){a.setTimeout(()=>{throw c},0)}function w(){var c=ff;let d=null;return c.g&&(d=c.g,c.g=c.g.next,c.g||(c.h=null),d.next=null),d}class Bn{constructor(){this.h=this.g=null}add(d,f){let g=Zs.get();g.set(d,f),this.h?this.h.next=g:this.g=g,this.h=g}}var Zs=new j(()=>new zM,c=>c.reset());class zM{constructor(){this.next=this.g=this.h=null}set(d,f){this.h=d,this.g=f,this.next=null}reset(){this.next=this.g=this.h=null}}let Js,Xs=!1,ff=new Bn,Aw=()=>{let c=a.Promise.resolve(void 0);Js=()=>{c.then(qM)}};var qM=()=>{for(var c;c=w();){try{c.h.call(c.g)}catch(f){T(f)}var d=Zs;d.j(c),100>d.h&&(d.h++,c.next=d.g,d.g=c)}Xs=!1};function _r(){this.s=this.s,this.C=this.C}_r.prototype.s=!1,_r.prototype.ma=function(){this.s||(this.s=!0,this.N())},_r.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function lt(c,d){this.type=c,this.g=this.target=d,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var GM=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,d=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let f=()=>{};a.addEventListener("test",f,d),a.removeEventListener("test",f,d)}catch{}return c}();function ea(c,d){if(lt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var f=this.type=c.type,g=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=d,d=c.relatedTarget){if(Fe){e:{try{de(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else f=="mouseover"?d=c.fromElement:f=="mouseout"&&(d=c.toElement);this.relatedTarget=d,g?(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:WM[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&ea.aa.h.call(this)}}S(ea,lt);var WM={2:"touch",3:"pen",4:"mouse"};ea.prototype.h=function(){ea.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ta="closure_listenable_"+(1e6*Math.random()|0),KM=0;function QM(c,d,f,g,D){this.listener=c,this.proxy=null,this.src=d,this.type=f,this.capture=!!g,this.ha=D,this.key=++KM,this.da=this.fa=!1}function eu(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function tu(c){this.src=c,this.g={},this.h=0}tu.prototype.add=function(c,d,f,g,D){var A=c.toString();c=this.g[A],c||(c=this.g[A]=[],this.h++);var k=gf(c,d,g,D);return-1<k?(d=c[k],f||(d.fa=!1)):(d=new QM(d,this.src,A,!!g,D),d.fa=f,c.push(d)),d};function pf(c,d){var f=d.type;if(f in c.g){var g=c.g[f],D=Array.prototype.indexOf.call(g,d,void 0),A;(A=0<=D)&&Array.prototype.splice.call(g,D,1),A&&(eu(d),c.g[f].length==0&&(delete c.g[f],c.h--))}}function gf(c,d,f,g){for(var D=0;D<c.length;++D){var A=c[D];if(!A.da&&A.listener==d&&A.capture==!!f&&A.ha==g)return D}return-1}var mf="closure_lm_"+(1e6*Math.random()|0),yf={};function Mw(c,d,f,g,D){if(g&&g.once)return Rw(c,d,f,g,D);if(Array.isArray(d)){for(var A=0;A<d.length;A++)Mw(c,d[A],f,g,D);return null}return f=If(f),c&&c[ta]?c.K(d,f,l(g)?!!g.capture:!!g,D):xw(c,d,f,!1,g,D)}function xw(c,d,f,g,D,A){if(!d)throw Error("Invalid event type");var k=l(D)?!!D.capture:!!D,Ae=_f(c);if(Ae||(c[mf]=Ae=new tu(c)),f=Ae.add(d,f,g,k,A),f.proxy)return f;if(g=YM(),f.proxy=g,g.src=c,g.listener=f,c.addEventListener)GM||(D=k),D===void 0&&(D=!1),c.addEventListener(d.toString(),g,D);else if(c.attachEvent)c.attachEvent(Pw(d.toString()),g);else if(c.addListener&&c.removeListener)c.addListener(g);else throw Error("addEventListener and attachEvent are unavailable.");return f}function YM(){function c(f){return d.call(c.src,c.listener,f)}let d=ZM;return c}function Rw(c,d,f,g,D){if(Array.isArray(d)){for(var A=0;A<d.length;A++)Rw(c,d[A],f,g,D);return null}return f=If(f),c&&c[ta]?c.L(d,f,l(g)?!!g.capture:!!g,D):xw(c,d,f,!0,g,D)}function Nw(c,d,f,g,D){if(Array.isArray(d))for(var A=0;A<d.length;A++)Nw(c,d[A],f,g,D);else g=l(g)?!!g.capture:!!g,f=If(f),c&&c[ta]?(c=c.i,d=String(d).toString(),d in c.g&&(A=c.g[d],f=gf(A,f,g,D),-1<f&&(eu(A[f]),Array.prototype.splice.call(A,f,1),A.length==0&&(delete c.g[d],c.h--)))):c&&(c=_f(c))&&(d=c.g[d.toString()],c=-1,d&&(c=gf(d,f,g,D)),(f=-1<c?d[c]:null)&&vf(f))}function vf(c){if(typeof c!="number"&&c&&!c.da){var d=c.src;if(d&&d[ta])pf(d.i,c);else{var f=c.type,g=c.proxy;d.removeEventListener?d.removeEventListener(f,g,c.capture):d.detachEvent?d.detachEvent(Pw(f),g):d.addListener&&d.removeListener&&d.removeListener(g),(f=_f(d))?(pf(f,c),f.h==0&&(f.src=null,d[mf]=null)):eu(c)}}}function Pw(c){return c in yf?yf[c]:yf[c]="on"+c}function ZM(c,d){if(c.da)c=!0;else{d=new ea(d,this);var f=c.listener,g=c.ha||c.src;c.fa&&vf(c),c=f.call(g,d)}return c}function _f(c){return c=c[mf],c instanceof tu?c:null}var wf="__closure_events_fn_"+(1e9*Math.random()>>>0);function If(c){return typeof c=="function"?c:(c[wf]||(c[wf]=function(d){return c.handleEvent(d)}),c[wf])}function dt(){_r.call(this),this.i=new tu(this),this.M=this,this.F=null}S(dt,_r),dt.prototype[ta]=!0,dt.prototype.removeEventListener=function(c,d,f,g){Nw(this,c,d,f,g)};function _t(c,d){var f,g=c.F;if(g)for(f=[];g;g=g.F)f.push(g);if(c=c.M,g=d.type||d,typeof d=="string")d=new lt(d,c);else if(d instanceof lt)d.target=d.target||c;else{var D=d;d=new lt(g,c),E(d,D)}if(D=!0,f)for(var A=f.length-1;0<=A;A--){var k=d.g=f[A];D=nu(k,g,!0,d)&&D}if(k=d.g=c,D=nu(k,g,!0,d)&&D,D=nu(k,g,!1,d)&&D,f)for(A=0;A<f.length;A++)k=d.g=f[A],D=nu(k,g,!1,d)&&D}dt.prototype.N=function(){if(dt.aa.N.call(this),this.i){var c=this.i,d;for(d in c.g){for(var f=c.g[d],g=0;g<f.length;g++)eu(f[g]);delete c.g[d],c.h--}}this.F=null},dt.prototype.K=function(c,d,f,g){return this.i.add(String(c),d,!1,f,g)},dt.prototype.L=function(c,d,f,g){return this.i.add(String(c),d,!0,f,g)};function nu(c,d,f,g){if(d=c.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,A=0;A<d.length;++A){var k=d[A];if(k&&!k.da&&k.capture==f){var Ae=k.listener,st=k.ha||k.src;k.fa&&pf(c.i,k),D=Ae.call(st,g)!==!1&&D}}return D&&!g.defaultPrevented}function Ow(c,d,f){if(typeof c=="function")f&&(c=m(c,f));else if(c&&typeof c.handleEvent=="function")c=m(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:a.setTimeout(c,d||0)}function kw(c){c.g=Ow(()=>{c.g=null,c.i&&(c.i=!1,kw(c))},c.l);let d=c.h;c.h=null,c.m.apply(null,d)}class JM extends _r{constructor(d,f){super(),this.m=d,this.l=f,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:kw(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function na(c){_r.call(this),this.h=c,this.g={}}S(na,_r);var Fw=[];function Lw(c){ee(c.g,function(d,f){this.g.hasOwnProperty(f)&&vf(d)},c),c.g={}}na.prototype.N=function(){na.aa.N.call(this),Lw(this)},na.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ef=a.JSON.stringify,XM=a.JSON.parse,ex=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Cf(){}Cf.prototype.h=null;function Vw(c){return c.h||(c.h=c.i())}function jw(){}var ra={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function bf(){lt.call(this,"d")}S(bf,lt);function Df(){lt.call(this,"c")}S(Df,lt);var ci={},Uw=null;function ru(){return Uw=Uw||new dt}ci.La="serverreachability";function Bw(c){lt.call(this,ci.La,c)}S(Bw,lt);function ia(c){let d=ru();_t(d,new Bw(d))}ci.STAT_EVENT="statevent";function $w(c,d){lt.call(this,ci.STAT_EVENT,c),this.stat=d}S($w,lt);function wt(c){let d=ru();_t(d,new $w(d,c))}ci.Ma="timingevent";function Hw(c,d){lt.call(this,ci.Ma,c),this.size=d}S(Hw,lt);function oa(c,d){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},d)}function sa(){this.g=!0}sa.prototype.xa=function(){this.g=!1};function tx(c,d,f,g,D,A){c.info(function(){if(c.g)if(A)for(var k="",Ae=A.split("&"),st=0;st<Ae.length;st++){var Ie=Ae[st].split("=");if(1<Ie.length){var ht=Ie[0];Ie=Ie[1];var ft=ht.split("_");k=2<=ft.length&&ft[1]=="type"?k+(ht+"="+Ie+"&"):k+(ht+"=redacted&")}}else k=null;else k=A;return"XMLHTTP REQ ("+g+") [attempt "+D+"]: "+d+`
`+f+`
`+k})}function nx(c,d,f,g,D,A,k){c.info(function(){return"XMLHTTP RESP ("+g+") [ attempt "+D+"]: "+d+`
`+f+`
`+A+" "+k})}function go(c,d,f,g){c.info(function(){return"XMLHTTP TEXT ("+d+"): "+ix(c,f)+(g?" "+g:"")})}function rx(c,d){c.info(function(){return"TIMEOUT: "+d})}sa.prototype.info=function(){};function ix(c,d){if(!c.g)return d;if(!d)return null;try{var f=JSON.parse(d);if(f){for(c=0;c<f.length;c++)if(Array.isArray(f[c])){var g=f[c];if(!(2>g.length)){var D=g[1];if(Array.isArray(D)&&!(1>D.length)){var A=D[0];if(A!="noop"&&A!="stop"&&A!="close")for(var k=1;k<D.length;k++)D[k]=""}}}}return Ef(f)}catch{return d}}var iu={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},zw={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Tf;function ou(){}S(ou,Cf),ou.prototype.g=function(){return new XMLHttpRequest},ou.prototype.i=function(){return{}},Tf=new ou;function wr(c,d,f,g){this.j=c,this.i=d,this.l=f,this.R=g||1,this.U=new na(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new qw}function qw(){this.i=null,this.g="",this.h=!1}var Gw={},Sf={};function Af(c,d,f){c.L=1,c.v=uu($n(d)),c.m=f,c.P=!0,Ww(c,null)}function Ww(c,d){c.F=Date.now(),su(c),c.A=$n(c.v);var f=c.A,g=c.R;Array.isArray(g)||(g=[String(g)]),aI(f.i,"t",g),c.C=0,f=c.j.J,c.h=new qw,c.g=DI(c.j,f?d:null,!c.m),0<c.O&&(c.M=new JM(m(c.Y,c,c.g),c.O)),d=c.U,f=c.g,g=c.ca;var D="readystatechange";Array.isArray(D)||(D&&(Fw[0]=D.toString()),D=Fw);for(var A=0;A<D.length;A++){var k=Mw(f,D[A],g||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=c.H?y(c.H):{},c.m?(c.u||(c.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,d)):(c.u="GET",c.g.ea(c.A,c.u,null,d)),ia(),tx(c.i,c.u,c.A,c.l,c.R,c.m)}wr.prototype.ca=function(c){c=c.target;let d=this.M;d&&Hn(c)==3?d.j():this.Y(c)},wr.prototype.Y=function(c){try{if(c==this.g)e:{let ft=Hn(this.g);var d=this.g.Ba();let vo=this.g.Z();if(!(3>ft)&&(ft!=3||this.g&&(this.h.h||this.g.oa()||pI(this.g)))){this.J||ft!=4||d==7||(d==8||0>=vo?ia(3):ia(2)),Mf(this);var f=this.g.Z();this.X=f;t:if(Kw(this)){var g=pI(this.g);c="";var D=g.length,A=Hn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ui(this),aa(this);var k="";break t}this.h.i=new a.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,c+=this.h.i.decode(g[d],{stream:!(A&&d==D-1)});g.length=0,this.h.g+=c,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=f==200,nx(this.i,this.u,this.A,this.l,this.R,ft,f),this.o){if(this.T&&!this.K){t:{if(this.g){var Ae,st=this.g;if((Ae=st.g?st.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!z(Ae)){var Ie=Ae;break t}}Ie=null}if(f=Ie)go(this.i,this.l,f,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,xf(this,f);else{this.o=!1,this.s=3,wt(12),ui(this),aa(this);break e}}if(this.P){f=!0;let on;for(;!this.J&&this.C<k.length;)if(on=ox(this,k),on==Sf){ft==4&&(this.s=4,wt(14),f=!1),go(this.i,this.l,null,"[Incomplete Response]");break}else if(on==Gw){this.s=4,wt(15),go(this.i,this.l,k,"[Invalid Chunk]"),f=!1;break}else go(this.i,this.l,on,null),xf(this,on);if(Kw(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ft!=4||k.length!=0||this.h.h||(this.s=1,wt(16),f=!1),this.o=this.o&&f,!f)go(this.i,this.l,k,"[Invalid Chunked Response]"),ui(this),aa(this);else if(0<k.length&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.ba&&!ht.M&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Ff(ht),ht.M=!0,wt(11))}}else go(this.i,this.l,k,null),xf(this,k);ft==4&&ui(this),this.o&&!this.J&&(ft==4?II(this.j,this):(this.o=!1,su(this)))}else Ex(this.g),f==400&&0<k.indexOf("Unknown SID")?(this.s=3,wt(12)):(this.s=0,wt(13)),ui(this),aa(this)}}}catch{}finally{}};function Kw(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function ox(c,d){var f=c.C,g=d.indexOf(`
`,f);return g==-1?Sf:(f=Number(d.substring(f,g)),isNaN(f)?Gw:(g+=1,g+f>d.length?Sf:(d=d.slice(g,g+f),c.C=g+f,d)))}wr.prototype.cancel=function(){this.J=!0,ui(this)};function su(c){c.S=Date.now()+c.I,Qw(c,c.I)}function Qw(c,d){if(c.B!=null)throw Error("WatchDog timer not null");c.B=oa(m(c.ba,c),d)}function Mf(c){c.B&&(a.clearTimeout(c.B),c.B=null)}wr.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(rx(this.i,this.A),this.L!=2&&(ia(),wt(17)),ui(this),this.s=2,aa(this)):Qw(this,this.S-c)};function aa(c){c.j.G==0||c.J||II(c.j,c)}function ui(c){Mf(c);var d=c.M;d&&typeof d.ma=="function"&&d.ma(),c.M=null,Lw(c.U),c.g&&(d=c.g,c.g=null,d.abort(),d.ma())}function xf(c,d){try{var f=c.j;if(f.G!=0&&(f.g==c||Rf(f.h,c))){if(!c.K&&Rf(f.h,c)&&f.G==3){try{var g=f.Da.g.parse(d)}catch{g=null}if(Array.isArray(g)&&g.length==3){var D=g;if(D[0]==0){e:if(!f.u){if(f.g)if(f.g.F+3e3<c.F)pu(f),hu(f);else break e;kf(f),wt(18)}}else f.za=D[1],0<f.za-f.T&&37500>D[2]&&f.F&&f.v==0&&!f.C&&(f.C=oa(m(f.Za,f),6e3));if(1>=Jw(f.h)&&f.ca){try{f.ca()}catch{}f.ca=void 0}}else di(f,11)}else if((c.K||f.g==c)&&pu(f),!z(d))for(D=f.Da.g.parse(d),d=0;d<D.length;d++){let Ie=D[d];if(f.T=Ie[0],Ie=Ie[1],f.G==2)if(Ie[0]=="c"){f.K=Ie[1],f.ia=Ie[2];let ht=Ie[3];ht!=null&&(f.la=ht,f.j.info("VER="+f.la));let ft=Ie[4];ft!=null&&(f.Aa=ft,f.j.info("SVER="+f.Aa));let vo=Ie[5];vo!=null&&typeof vo=="number"&&0<vo&&(g=1.5*vo,f.L=g,f.j.info("backChannelRequestTimeoutMs_="+g)),g=f;let on=c.g;if(on){let mu=on.g?on.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mu){var A=g.h;A.g||mu.indexOf("spdy")==-1&&mu.indexOf("quic")==-1&&mu.indexOf("h2")==-1||(A.j=A.l,A.g=new Set,A.h&&(Nf(A,A.h),A.h=null))}if(g.D){let Lf=on.g?on.g.getResponseHeader("X-HTTP-Session-Id"):null;Lf&&(g.ya=Lf,Pe(g.I,g.D,Lf))}}f.G=3,f.l&&f.l.ua(),f.ba&&(f.R=Date.now()-c.F,f.j.info("Handshake RTT: "+f.R+"ms")),g=f;var k=c;if(g.qa=bI(g,g.J?g.ia:null,g.W),k.K){Xw(g.h,k);var Ae=k,st=g.L;st&&(Ae.I=st),Ae.B&&(Mf(Ae),su(Ae)),g.g=k}else _I(g);0<f.i.length&&fu(f)}else Ie[0]!="stop"&&Ie[0]!="close"||di(f,7);else f.G==3&&(Ie[0]=="stop"||Ie[0]=="close"?Ie[0]=="stop"?di(f,7):Of(f):Ie[0]!="noop"&&f.l&&f.l.ta(Ie),f.v=0)}}ia(4)}catch{}}var sx=class{constructor(c,d){this.g=c,this.map=d}};function Yw(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zw(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Jw(c){return c.h?1:c.g?c.g.size:0}function Rf(c,d){return c.h?c.h==d:c.g?c.g.has(d):!1}function Nf(c,d){c.g?c.g.add(d):c.h=d}function Xw(c,d){c.h&&c.h==d?c.h=null:c.g&&c.g.has(d)&&c.g.delete(d)}Yw.prototype.cancel=function(){if(this.i=eI(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function eI(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let d=c.i;for(let f of c.g.values())d=d.concat(f.D);return d}return N(c.i)}function ax(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var d=[],f=c.length,g=0;g<f;g++)d.push(c[g]);return d}d=[],f=0;for(g in c)d[f++]=c[g];return d}function cx(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var d=[];c=c.length;for(var f=0;f<c;f++)d.push(f);return d}d=[],f=0;for(let g in c)d[f++]=g;return d}}}function tI(c,d){if(c.forEach&&typeof c.forEach=="function")c.forEach(d,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,d,void 0);else for(var f=cx(c),g=ax(c),D=g.length,A=0;A<D;A++)d.call(void 0,g[A],f&&f[A],c)}var nI=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ux(c,d){if(c){c=c.split("&");for(var f=0;f<c.length;f++){var g=c[f].indexOf("="),D=null;if(0<=g){var A=c[f].substring(0,g);D=c[f].substring(g+1)}else A=c[f];d(A,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function li(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof li){this.h=c.h,au(this,c.j),this.o=c.o,this.g=c.g,cu(this,c.s),this.l=c.l;var d=c.i,f=new la;f.i=d.i,d.g&&(f.g=new Map(d.g),f.h=d.h),rI(this,f),this.m=c.m}else c&&(d=String(c).match(nI))?(this.h=!1,au(this,d[1]||"",!0),this.o=ca(d[2]||""),this.g=ca(d[3]||"",!0),cu(this,d[4]),this.l=ca(d[5]||"",!0),rI(this,d[6]||"",!0),this.m=ca(d[7]||"")):(this.h=!1,this.i=new la(null,this.h))}li.prototype.toString=function(){var c=[],d=this.j;d&&c.push(ua(d,iI,!0),":");var f=this.g;return(f||d=="file")&&(c.push("//"),(d=this.o)&&c.push(ua(d,iI,!0),"@"),c.push(encodeURIComponent(String(f)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),f=this.s,f!=null&&c.push(":",String(f))),(f=this.l)&&(this.g&&f.charAt(0)!="/"&&c.push("/"),c.push(ua(f,f.charAt(0)=="/"?hx:dx,!0))),(f=this.i.toString())&&c.push("?",f),(f=this.m)&&c.push("#",ua(f,px)),c.join("")};function $n(c){return new li(c)}function au(c,d,f){c.j=f?ca(d,!0):d,c.j&&(c.j=c.j.replace(/:$/,""))}function cu(c,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);c.s=d}else c.s=null}function rI(c,d,f){d instanceof la?(c.i=d,gx(c.i,c.h)):(f||(d=ua(d,fx)),c.i=new la(d,c.h))}function Pe(c,d,f){c.i.set(d,f)}function uu(c){return Pe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function ca(c,d){return c?d?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ua(c,d,f){return typeof c=="string"?(c=encodeURI(c).replace(d,lx),f&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function lx(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var iI=/[#\/\?@]/g,dx=/[#\?:]/g,hx=/[#\?]/g,fx=/[#\?@]/g,px=/#/g;function la(c,d){this.h=this.g=null,this.i=c||null,this.j=!!d}function Ir(c){c.g||(c.g=new Map,c.h=0,c.i&&ux(c.i,function(d,f){c.add(decodeURIComponent(d.replace(/\+/g," ")),f)}))}t=la.prototype,t.add=function(c,d){Ir(this),this.i=null,c=mo(this,c);var f=this.g.get(c);return f||this.g.set(c,f=[]),f.push(d),this.h+=1,this};function oI(c,d){Ir(c),d=mo(c,d),c.g.has(d)&&(c.i=null,c.h-=c.g.get(d).length,c.g.delete(d))}function sI(c,d){return Ir(c),d=mo(c,d),c.g.has(d)}t.forEach=function(c,d){Ir(this),this.g.forEach(function(f,g){f.forEach(function(D){c.call(d,D,g,this)},this)},this)},t.na=function(){Ir(this);let c=Array.from(this.g.values()),d=Array.from(this.g.keys()),f=[];for(let g=0;g<d.length;g++){let D=c[g];for(let A=0;A<D.length;A++)f.push(d[g])}return f},t.V=function(c){Ir(this);let d=[];if(typeof c=="string")sI(this,c)&&(d=d.concat(this.g.get(mo(this,c))));else{c=Array.from(this.g.values());for(let f=0;f<c.length;f++)d=d.concat(c[f])}return d},t.set=function(c,d){return Ir(this),this.i=null,c=mo(this,c),sI(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[d]),this.h+=1,this},t.get=function(c,d){return c?(c=this.V(c),0<c.length?String(c[0]):d):d};function aI(c,d,f){oI(c,d),0<f.length&&(c.i=null,c.g.set(mo(c,d),N(f)),c.h+=f.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],d=Array.from(this.g.keys());for(var f=0;f<d.length;f++){var g=d[f];let A=encodeURIComponent(String(g)),k=this.V(g);for(g=0;g<k.length;g++){var D=A;k[g]!==""&&(D+="="+encodeURIComponent(String(k[g]))),c.push(D)}}return this.i=c.join("&")};function mo(c,d){return d=String(d),c.j&&(d=d.toLowerCase()),d}function gx(c,d){d&&!c.j&&(Ir(c),c.i=null,c.g.forEach(function(f,g){var D=g.toLowerCase();g!=D&&(oI(this,g),aI(this,D,f))},c)),c.j=d}function mx(c,d){let f=new sa;if(a.Image){let g=new Image;g.onload=v(Er,f,"TestLoadImage: loaded",!0,d,g),g.onerror=v(Er,f,"TestLoadImage: error",!1,d,g),g.onabort=v(Er,f,"TestLoadImage: abort",!1,d,g),g.ontimeout=v(Er,f,"TestLoadImage: timeout",!1,d,g),a.setTimeout(function(){g.ontimeout&&g.ontimeout()},1e4),g.src=c}else d(!1)}function yx(c,d){let f=new sa,g=new AbortController,D=setTimeout(()=>{g.abort(),Er(f,"TestPingServer: timeout",!1,d)},1e4);fetch(c,{signal:g.signal}).then(A=>{clearTimeout(D),A.ok?Er(f,"TestPingServer: ok",!0,d):Er(f,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),Er(f,"TestPingServer: error",!1,d)})}function Er(c,d,f,g,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),g(f)}catch{}}function vx(){this.g=new ex}function _x(c,d,f){let g=f||"";try{tI(c,function(D,A){let k=D;l(D)&&(k=Ef(D)),d.push(g+A+"="+encodeURIComponent(k))})}catch(D){throw d.push(g+"type="+encodeURIComponent("_badmap")),D}}function da(c){this.l=c.Ub||null,this.j=c.eb||!1}S(da,Cf),da.prototype.g=function(){return new lu(this.l,this.j)},da.prototype.i=function(c){return function(){return c}}({});function lu(c,d){dt.call(this),this.D=c,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}S(lu,dt),t=lu.prototype,t.open=function(c,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=d,this.readyState=1,fa(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(d.body=c),(this.D||a).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ha(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,fa(this)),this.g&&(this.readyState=3,fa(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;cI(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function cI(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var d=c.value?c.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!c.done}))&&(this.response=this.responseText+=d)}c.done?ha(this):fa(this),this.readyState==3&&cI(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,ha(this))},t.Qa=function(c){this.g&&(this.response=c,ha(this))},t.ga=function(){this.g&&ha(this)};function ha(c){c.readyState=4,c.l=null,c.j=null,c.v=null,fa(c)}t.setRequestHeader=function(c,d){this.u.append(c,d)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],d=this.h.entries();for(var f=d.next();!f.done;)f=f.value,c.push(f[0]+": "+f[1]),f=d.next();return c.join(`\r
`)};function fa(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(lu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function uI(c){let d="";return ee(c,function(f,g){d+=g,d+=":",d+=f,d+=`\r
`}),d}function Pf(c,d,f){e:{for(g in f){var g=!1;break e}g=!0}g||(f=uI(f),typeof c=="string"?f!=null&&encodeURIComponent(String(f)):Pe(c,d,f))}function Le(c){dt.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}S(Le,dt);var wx=/^https?$/i,Ix=["POST","PUT"];t=Le.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,d,f,g){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);d=d?d.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Tf.g(),this.v=this.o?Vw(this.o):Vw(Tf),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(d,String(c),!0),this.B=!1}catch(A){lI(this,A);return}if(c=f||"",f=new Map(this.headers),g)if(Object.getPrototypeOf(g)===Object.prototype)for(var D in g)f.set(D,g[D]);else if(typeof g.keys=="function"&&typeof g.get=="function")for(let A of g.keys())f.set(A,g.get(A));else throw Error("Unknown input type for opt_headers: "+String(g));g=Array.from(f.keys()).find(A=>A.toLowerCase()=="content-type"),D=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(Ix,d,void 0))||g||D||f.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[A,k]of f)this.g.setRequestHeader(A,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{fI(this),this.u=!0,this.g.send(c),this.u=!1}catch(A){lI(this,A)}};function lI(c,d){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=d,c.m=5,dI(c),du(c)}function dI(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,_t(this,"complete"),_t(this,"abort"),du(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),du(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?hI(this):this.bb())},t.bb=function(){hI(this)};function hI(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Hn(c)!=4||c.Z()!=2)){if(c.u&&Hn(c)==4)Ow(c.Ea,0,c);else if(_t(c,"readystatechange"),Hn(c)==4){c.h=!1;try{let k=c.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var f;if(!(f=d)){var g;if(g=k===0){var D=String(c.D).match(nI)[1]||null;!D&&a.self&&a.self.location&&(D=a.self.location.protocol.slice(0,-1)),g=!wx.test(D?D.toLowerCase():"")}f=g}if(f)_t(c,"complete"),_t(c,"success");else{c.m=6;try{var A=2<Hn(c)?c.g.statusText:""}catch{A=""}c.l=A+" ["+c.Z()+"]",dI(c)}}finally{du(c)}}}}function du(c,d){if(c.g){fI(c);let f=c.g,g=c.v[0]?()=>{}:null;c.g=null,c.v=null,d||_t(c,"ready");try{f.onreadystatechange=g}catch{}}}function fI(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function Hn(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<Hn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var d=this.g.responseText;return c&&d.indexOf(c)==0&&(d=d.substring(c.length)),XM(d)}};function pI(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ex(c){let d={};c=(c.g&&2<=Hn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let g=0;g<c.length;g++){if(z(c[g]))continue;var f=b(c[g]);let D=f[0];if(f=f[1],typeof f!="string")continue;f=f.trim();let A=d[D]||[];d[D]=A,A.push(f)}C(d,function(g){return g.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function pa(c,d,f){return f&&f.internalChannelParams&&f.internalChannelParams[c]||d}function gI(c){this.Aa=0,this.i=[],this.j=new sa,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=pa("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=pa("baseRetryDelayMs",5e3,c),this.cb=pa("retryDelaySeedMs",1e4,c),this.Wa=pa("forwardChannelMaxRetries",2,c),this.wa=pa("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Yw(c&&c.concurrentRequestLimit),this.Da=new vx,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=gI.prototype,t.la=8,t.G=1,t.connect=function(c,d,f,g){wt(0),this.W=c,this.H=d||{},f&&g!==void 0&&(this.H.OSID=f,this.H.OAID=g),this.F=this.X,this.I=bI(this,null,this.W),fu(this)};function Of(c){if(mI(c),c.G==3){var d=c.U++,f=$n(c.I);if(Pe(f,"SID",c.K),Pe(f,"RID",d),Pe(f,"TYPE","terminate"),ga(c,f),d=new wr(c,c.j,d),d.L=2,d.v=uu($n(f)),f=!1,a.navigator&&a.navigator.sendBeacon)try{f=a.navigator.sendBeacon(d.v.toString(),"")}catch{}!f&&a.Image&&(new Image().src=d.v,f=!0),f||(d.g=DI(d.j,null),d.g.ea(d.v)),d.F=Date.now(),su(d)}CI(c)}function hu(c){c.g&&(Ff(c),c.g.cancel(),c.g=null)}function mI(c){hu(c),c.u&&(a.clearTimeout(c.u),c.u=null),pu(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function fu(c){if(!Zw(c.h)&&!c.s){c.s=!0;var d=c.Ga;Js||Aw(),Xs||(Js(),Xs=!0),ff.add(d,c),c.B=0}}function Cx(c,d){return Jw(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=d.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=oa(m(c.Ga,c,d),EI(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let D=new wr(this,this.j,c),A=this.o;if(this.S&&(A?(A=y(A),E(A,this.S)):A=this.S),this.m!==null||this.O||(D.H=A,A=null),this.P)e:{for(var d=0,f=0;f<this.i.length;f++){t:{var g=this.i[f];if("__data__"in g.map&&(g=g.map.__data__,typeof g=="string")){g=g.length;break t}g=void 0}if(g===void 0)break;if(d+=g,4096<d){d=f;break e}if(d===4096||f===this.i.length-1){d=f+1;break e}}d=1e3}else d=1e3;d=vI(this,D,d),f=$n(this.I),Pe(f,"RID",c),Pe(f,"CVER",22),this.D&&Pe(f,"X-HTTP-Session-Id",this.D),ga(this,f),A&&(this.O?d="headers="+encodeURIComponent(String(uI(A)))+"&"+d:this.m&&Pf(f,this.m,A)),Nf(this.h,D),this.Ua&&Pe(f,"TYPE","init"),this.P?(Pe(f,"$req",d),Pe(f,"SID","null"),D.T=!0,Af(D,f,null)):Af(D,f,d),this.G=2}}else this.G==3&&(c?yI(this,c):this.i.length==0||Zw(this.h)||yI(this))};function yI(c,d){var f;d?f=d.l:f=c.U++;let g=$n(c.I);Pe(g,"SID",c.K),Pe(g,"RID",f),Pe(g,"AID",c.T),ga(c,g),c.m&&c.o&&Pf(g,c.m,c.o),f=new wr(c,c.j,f,c.B+1),c.m===null&&(f.H=c.o),d&&(c.i=d.D.concat(c.i)),d=vI(c,f,1e3),f.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Nf(c.h,f),Af(f,g,d)}function ga(c,d){c.H&&ee(c.H,function(f,g){Pe(d,g,f)}),c.l&&tI({},function(f,g){Pe(d,g,f)})}function vI(c,d,f){f=Math.min(c.i.length,f);var g=c.l?m(c.l.Na,c.l,c):null;e:{var D=c.i;let A=-1;for(;;){let k=["count="+f];A==-1?0<f?(A=D[0].g,k.push("ofs="+A)):A=0:k.push("ofs="+A);let Ae=!0;for(let st=0;st<f;st++){let Ie=D[st].g,ht=D[st].map;if(Ie-=A,0>Ie)A=Math.max(0,D[st].g-100),Ae=!1;else try{_x(ht,k,"req"+Ie+"_")}catch{g&&g(ht)}}if(Ae){g=k.join("&");break e}}}return c=c.i.splice(0,f),d.D=c,g}function _I(c){if(!c.g&&!c.u){c.Y=1;var d=c.Fa;Js||Aw(),Xs||(Js(),Xs=!0),ff.add(d,c),c.v=0}}function kf(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=oa(m(c.Fa,c),EI(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,wI(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=oa(m(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,wt(10),hu(this),wI(this))};function Ff(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function wI(c){c.g=new wr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var d=$n(c.qa);Pe(d,"RID","rpc"),Pe(d,"SID",c.K),Pe(d,"AID",c.T),Pe(d,"CI",c.F?"0":"1"),!c.F&&c.ja&&Pe(d,"TO",c.ja),Pe(d,"TYPE","xmlhttp"),ga(c,d),c.m&&c.o&&Pf(d,c.m,c.o),c.L&&(c.g.I=c.L);var f=c.g;c=c.ia,f.L=1,f.v=uu($n(d)),f.m=null,f.P=!0,Ww(f,c)}t.Za=function(){this.C!=null&&(this.C=null,hu(this),kf(this),wt(19))};function pu(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function II(c,d){var f=null;if(c.g==d){pu(c),Ff(c),c.g=null;var g=2}else if(Rf(c.h,d))f=d.D,Xw(c.h,d),g=1;else return;if(c.G!=0){if(d.o)if(g==1){f=d.m?d.m.length:0,d=Date.now()-d.F;var D=c.B;g=ru(),_t(g,new Hw(g,f)),fu(c)}else _I(c);else if(D=d.s,D==3||D==0&&0<d.X||!(g==1&&Cx(c,d)||g==2&&kf(c)))switch(f&&0<f.length&&(d=c.h,d.i=d.i.concat(f)),D){case 1:di(c,5);break;case 4:di(c,10);break;case 3:di(c,6);break;default:di(c,2)}}}function EI(c,d){let f=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(f*=2),f*d}function di(c,d){if(c.j.info("Error code "+d),d==2){var f=m(c.fb,c),g=c.Xa;let D=!g;g=new li(g||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||au(g,"https"),uu(g),D?mx(g.toString(),f):yx(g.toString(),f)}else wt(2);c.G=0,c.l&&c.l.sa(d),CI(c),mI(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),wt(2)):(this.j.info("Failed to ping google.com"),wt(1))};function CI(c){if(c.G=0,c.ka=[],c.l){let d=eI(c.h);(d.length!=0||c.i.length!=0)&&(M(c.ka,d),M(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function bI(c,d,f){var g=f instanceof li?$n(f):new li(f);if(g.g!="")d&&(g.g=d+"."+g.g),cu(g,g.s);else{var D=a.location;g=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var A=new li(null);g&&au(A,g),d&&(A.g=d),D&&cu(A,D),f&&(A.l=f),g=A}return f=c.D,d=c.ya,f&&d&&Pe(g,f,d),Pe(g,"VER",c.la),ga(c,g),g}function DI(c,d,f){if(d&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=c.Ca&&!c.pa?new Le(new da({eb:f})):new Le(c.pa),d.Ha(c.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function TI(){}t=TI.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function gu(){}gu.prototype.g=function(c,d){return new Pt(c,d)};function Pt(c,d){dt.call(this),this.g=new gI(d),this.l=c,this.h=d&&d.messageUrlParams||null,c=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(c?c["X-WebChannel-Content-Type"]=d.messageContentType:c={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(c?c["X-WebChannel-Client-Profile"]=d.va:c={"X-WebChannel-Client-Profile":d.va}),this.g.S=c,(c=d&&d.Sb)&&!z(c)&&(this.g.m=c),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!z(d)&&(this.g.D=d,c=this.h,c!==null&&d in c&&(c=this.h,d in c&&delete c[d])),this.j=new yo(this)}S(Pt,dt),Pt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Pt.prototype.close=function(){Of(this.g)},Pt.prototype.o=function(c){var d=this.g;if(typeof c=="string"){var f={};f.__data__=c,c=f}else this.u&&(f={},f.__data__=Ef(c),c=f);d.i.push(new sx(d.Ya++,c)),d.G==3&&fu(d)},Pt.prototype.N=function(){this.g.l=null,delete this.j,Of(this.g),delete this.g,Pt.aa.N.call(this)};function SI(c){bf.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var d=c.__sm__;if(d){e:{for(let f in d){c=f;break e}c=void 0}(this.i=c)&&(c=this.i,d=d!==null&&c in d?d[c]:void 0),this.data=d}else this.data=c}S(SI,bf);function AI(){Df.call(this),this.status=1}S(AI,Df);function yo(c){this.g=c}S(yo,TI),yo.prototype.ua=function(){_t(this.g,"a")},yo.prototype.ta=function(c){_t(this.g,new SI(c))},yo.prototype.sa=function(c){_t(this.g,new AI)},yo.prototype.ra=function(){_t(this.g,"b")},gu.prototype.createWebChannel=gu.prototype.g,Pt.prototype.send=Pt.prototype.o,Pt.prototype.open=Pt.prototype.m,Pt.prototype.close=Pt.prototype.close,wv=fr.createWebChannelTransport=function(){return new gu},_v=fr.getStatEventTarget=function(){return ru()},vv=fr.Event=ci,ph=fr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},iu.NO_ERROR=0,iu.TIMEOUT=8,iu.HTTP_ERROR=6,xc=fr.ErrorCode=iu,zw.COMPLETE="complete",yv=fr.EventType=zw,jw.EventType=ra,ra.OPEN="a",ra.CLOSE="b",ra.ERROR="c",ra.MESSAGE="d",dt.prototype.listen=dt.prototype.K,As=fr.WebChannel=jw,mv=fr.FetchXmlHttpFactory=da,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,gv=fr.XhrIo=Le}).apply(typeof fh<"u"?fh:typeof self<"u"?self:typeof window<"u"?window:{});var jS="@firebase/firestore";var ot=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};ot.UNAUTHENTICATED=new ot(null),ot.GOOGLE_CREDENTIALS=new ot("google-credentials-uid"),ot.FIRST_PARTY=new ot("first-party-uid"),ot.MOCK_USER=new ot("mock-user");var Ws="10.13.2";var io=new Kr("@firebase/firestore");function Rc(){return io.logLevel}function B(t,...e){if(io.logLevel<=ge.DEBUG){let n=e.map(aw);io.debug(`Firestore (${Ws}): ${t}`,...n)}}function gr(t,...e){if(io.logLevel<=ge.ERROR){let n=e.map(aw);io.error(`Firestore (${Ws}): ${t}`,...n)}}function ks(t,...e){if(io.logLevel<=ge.WARN){let n=e.map(aw);io.warn(`Firestore (${Ws}): ${t}`,...n)}}function aw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function Z(t="Unexpected state"){let e=`FIRESTORE (${Ws}) INTERNAL ASSERTION FAILED: `+t;throw gr(e),new Error(e)}function Re(t,e){t||Z()}function X(t,e){return t}var x={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},U=class extends $t{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var pr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var _h=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},Dv=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(ot.UNAUTHENTICATED))}shutdown(){}},Tv=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Sv=class{constructor(e){this.t=e,this.currentUser=ot.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new pr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new pr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{B("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(B("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new pr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(B("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Re(typeof r.accessToken=="string"),new _h(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new ot(e)}},Av=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=ot.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},Mv=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new Av(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(ot.FIRST_PARTY))}shutdown(){}invalidateToken(){}},xv=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},Rv=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&B("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,B("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{B("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):B("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.R=n.token,new xv(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function PB(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var wh=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=PB(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Ee(t,e){return t<e?-1:t>e?1:0}function Fs(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ut=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new U(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new U(x.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new U(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new U(x.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Ee(this.nanoseconds,e.nanoseconds):Ee(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ie=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ut(0,0))}static max(){return new t(new ut(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Ih=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&Z(),r===void 0?r=e.length-n:r>e.length-n&&Z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},ke=class t extends Ih{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new U(x.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},OB=/^[_a-zA-Z][_a-zA-Z0-9]*$/,zt=class t extends Ih{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return OB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new U(x.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new U(x.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new U(x.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new U(x.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var G=class t{constructor(e){this.path=e}static fromPath(e){return new t(ke.fromString(e))}static fromName(e){return new t(ke.fromString(e).popFirst(5))}static empty(){return new t(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new ke(e.slice()))}};var Nv=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Nv.UNKNOWN_ID=-1;function kB(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ie.fromTimestamp(r===1e9?new ut(n+1,0):new ut(n,r));return new oo(i,G.empty(),e)}function FB(t){return new oo(t.readTime,t.key,-1)}var oo=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ie.min(),G.empty(),-1)}static max(){return new t(ie.max(),G.empty(),-1)}};function LB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=G.comparator(t.documentKey,e.documentKey),n!==0?n:Ee(t.largestBatchId,e.largestBatchId))}var VB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pv=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function Yc(t){return I(this,null,function*(){if(t.code!==x.FAILED_PRECONDITION||t.message!==VB)throw t;B("LocalStore","Unexpectedly lost primary lease")})}var O=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(h=>{s[l]=h,++a,a===o&&r(s)},h=>i(h))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function jB(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Zc(t){return t.name==="IndexedDbTransactionError"}var wA=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function Yh(t){return t==null}function Vc(t){return t===0&&1/t==-1/0}function UB(t){return typeof t=="number"&&Number.isInteger(t)&&!Vc(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var BB=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],n7=[...BB,"documentOverlays"],$B=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],HB=$B,zB=[...HB,"indexConfiguration","indexState","indexEntries"];var r7=[...zB,"globals"];function US(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ks(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function IA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ue=class t{constructor(e,n){this.comparator=e,this.root=n||Ln.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ln.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ln.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ns(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ns(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ns(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ns(this.root,e,this.comparator,!0)}},Ns=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Ln=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Z();let e=this.left.check();if(e!==this.right.check())throw Z();return e+(this.isRed()?0:1)}};Ln.EMPTY=null,Ln.RED=!0,Ln.BLACK=!1;Ln.EMPTY=new class{constructor(){this.size=0}get key(){throw Z()}get value(){throw Z()}get color(){throw Z()}get left(){throw Z()}get right(){throw Z()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Ln(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class t{constructor(e){this.comparator=e,this.data=new Ue(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Eh(this.data.getIterator())}getIteratorFrom(e){return new Eh(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},Eh=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var Fn=class t{constructor(e){this.fields=e,e.sort(zt.comparator)}static empty(){return new t([])}unionWith(e){let n=new yt(zt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Fs(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Ch=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var vt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Ch("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ee(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};vt.EMPTY_BYTE_STRING=new vt("");var qB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mr(t){if(Re(!!t),typeof t=="string"){let e=0,n=qB.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Oe(t.seconds),nanos:Oe(t.nanos)}}function Oe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ii(t){return typeof t=="string"?vt.fromBase64String(t):vt.fromUint8Array(t)}function cw(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function uw(t){let e=t.mapValue.fields.__previous_value__;return cw(e)?uw(e):e}function jc(t){let e=mr(t.mapValue.fields.__local_write_time__.timestampValue);return new ut(e.seconds,e.nanos)}var Ov=class{constructor(e,n,r,i,o,s,a,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=l}},bh=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var gh={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function so(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?cw(t)?4:CA(t)?9007199254740991:EA(t)?10:11:Z()}function Un(t,e){if(t===e)return!0;let n=so(t);if(n!==so(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return jc(t).isEqual(jc(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=mr(i.timestampValue),a=mr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return ii(i.bytesValue).isEqual(ii(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Oe(i.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(i.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Oe(i.integerValue)===Oe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Oe(i.doubleValue),a=Oe(o.doubleValue);return s===a?Vc(s)===Vc(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Fs(t.arrayValue.values||[],e.arrayValue.values||[],Un);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(US(s)!==US(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Un(s[u],a[u])))return!1;return!0}(t,e);default:return Z()}}function Uc(t,e){return(t.values||[]).find(n=>Un(n,e))!==void 0}function Ls(t,e){if(t===e)return 0;let n=so(t),r=so(e);if(n!==r)return Ee(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ee(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=Oe(o.integerValue||o.doubleValue),u=Oe(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return BS(t.timestampValue,e.timestampValue);case 4:return BS(jc(t),jc(e));case 5:return Ee(t.stringValue,e.stringValue);case 6:return function(o,s){let a=ii(o),u=ii(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let l=0;l<a.length&&l<u.length;l++){let h=Ee(a[l],u[l]);if(h!==0)return h}return Ee(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Ee(Oe(o.latitude),Oe(s.latitude));return a!==0?a:Ee(Oe(o.longitude),Oe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return $S(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,l,h;let p=o.fields||{},m=s.fields||{},v=(a=p.value)===null||a===void 0?void 0:a.arrayValue,S=(u=m.value)===null||u===void 0?void 0:u.arrayValue,N=Ee(((l=v?.values)===null||l===void 0?void 0:l.length)||0,((h=S?.values)===null||h===void 0?void 0:h.length)||0);return N!==0?N:$S(v,S)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===gh.mapValue&&s===gh.mapValue)return 0;if(o===gh.mapValue)return 1;if(s===gh.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),l=s.fields||{},h=Object.keys(l);u.sort(),h.sort();for(let p=0;p<u.length&&p<h.length;++p){let m=Ee(u[p],h[p]);if(m!==0)return m;let v=Ls(a[u[p]],l[h[p]]);if(v!==0)return v}return Ee(u.length,h.length)}(t.mapValue,e.mapValue);default:throw Z()}}function BS(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ee(t,e);let n=mr(t),r=mr(e),i=Ee(n.seconds,r.seconds);return i!==0?i:Ee(n.nanos,r.nanos)}function $S(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ls(n[i],r[i]);if(o)return o}return Ee(n.length,r.length)}function Vs(t){return kv(t)}function kv(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=mr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return G.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=kv(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${kv(n.fields[s])}`;return i+"}"}(t.mapValue):Z()}function HS(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Fv(t){return!!t&&"integerValue"in t}function lw(t){return!!t&&"arrayValue"in t}function zS(t){return!!t&&"nullValue"in t}function qS(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function yh(t){return!!t&&"mapValue"in t}function EA(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Pc(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return Ks(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Pc(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Pc(t.arrayValue.values[n]);return e}return Object.assign({},t)}function CA(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var yn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!yh(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Pc(n)}setAll(e){let n=zt.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=Pc(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());yh(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Un(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];yh(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){Ks(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(Pc(this.value))}};function bA(t){let e=[];return Ks(t.fields,(n,r)=>{let i=new zt([n]);if(yh(r)){let o=bA(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new Fn(e)}var vn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ie.min(),ie.min(),ie.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ie.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ie.min(),ie.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ie.min(),ie.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ie.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ie.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var js=class{constructor(e,n){this.position=e,this.inclusive=n}};function GS(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=G.comparator(G.fromName(s.referenceValue),n.key):r=Ls(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function WS(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Un(t.position[n],e.position[n]))return!1;return!0}var ao=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function GB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Dh=class{},Ke=class t extends Dh{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new Vv(e,n,r):n==="array-contains"?new Bv(e,r):n==="in"?new $v(e,r):n==="not-in"?new Hv(e,r):n==="array-contains-any"?new zv(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new jv(e,r):new Uv(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ls(n,this.value)):n!==null&&so(this.value)===so(n)&&this.matchesComparison(Ls(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},_n=class t extends Dh{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return DA(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function DA(t){return t.op==="and"}function TA(t){return WB(t)&&DA(t)}function WB(t){for(let e of t.filters)if(e instanceof _n)return!1;return!0}function Lv(t){if(t instanceof Ke)return t.field.canonicalString()+t.op.toString()+Vs(t.value);if(TA(t))return t.filters.map(e=>Lv(e)).join(",");{let e=t.filters.map(n=>Lv(n)).join(",");return`${t.op}(${e})`}}function SA(t,e){return t instanceof Ke?function(r,i){return i instanceof Ke&&r.op===i.op&&r.field.isEqual(i.field)&&Un(r.value,i.value)}(t,e):t instanceof _n?function(r,i){return i instanceof _n&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&SA(s,i.filters[a]),!0):!1}(t,e):void Z()}function AA(t){return t instanceof Ke?function(n){return`${n.field.canonicalString()} ${n.op} ${Vs(n.value)}`}(t):t instanceof _n?function(n){return n.op.toString()+" {"+n.getFilters().map(AA).join(" ,")+"}"}(t):"Filter"}var Vv=class extends Ke{constructor(e,n,r){super(e,n,r),this.key=G.fromName(r.referenceValue)}matches(e){let n=G.comparator(e.key,this.key);return this.matchesComparison(n)}},jv=class extends Ke{constructor(e,n){super(e,"in",n),this.keys=MA("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Uv=class extends Ke{constructor(e,n){super(e,"not-in",n),this.keys=MA("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function MA(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>G.fromName(r.referenceValue))}var Bv=class extends Ke{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return lw(n)&&Uc(n.arrayValue,this.value)}},$v=class extends Ke{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Uc(this.value.arrayValue,n)}},Hv=class extends Ke{constructor(e,n){super(e,"not-in",n)}matches(e){if(Uc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Uc(this.value.arrayValue,n)}},zv=class extends Ke{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!lw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Uc(this.value.arrayValue,r))}};var qv=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function KS(t,e=null,n=[],r=[],i=null,o=null,s=null){return new qv(t,e,n,r,i,o,s)}function dw(t){let e=X(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Lv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Yh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Vs(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Vs(r)).join(",")),e.ue=n}return e.ue}function hw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!GB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!SA(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!WS(t.startAt,e.startAt)&&WS(t.endAt,e.endAt)}function Gv(t){return G.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var oi=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function KB(t,e,n,r,i,o,s,a){return new oi(t,e,n,r,i,o,s,a)}function fw(t){return new oi(t)}function QS(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function xA(t){return t.collectionGroup!==null}function Oc(t){let e=X(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new yt(zt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(a=a.add(l.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ao(o,r))}),n.has(zt.keyField().canonicalString())||e.ce.push(new ao(zt.keyField(),r))}return e.ce}function Vn(t){let e=X(t);return e.le||(e.le=QB(e,Oc(t))),e.le}function QB(t,e){if(t.limitType==="F")return KS(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ao(i.field,o)});let n=t.endAt?new js(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new js(t.startAt.position,t.startAt.inclusive):null;return KS(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Wv(t,e){let n=t.filters.concat([e]);return new oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Kv(t,e,n){return new oi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Zh(t,e){return hw(Vn(t),Vn(e))&&t.limitType===e.limitType}function RA(t){return`${dw(Vn(t))}|lt:${t.limitType}`}function Ms(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>AA(i)).join(", ")}]`),Yh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Vs(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Vs(i)).join(",")),`Target(${r})`}(Vn(t))}; limitType=${t.limitType})`}function Jh(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):G.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of Oc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let l=GS(s,a,u);return s.inclusive?l<=0:l<0}(r.startAt,Oc(r),i)||r.endAt&&!function(s,a,u){let l=GS(s,a,u);return s.inclusive?l>=0:l>0}(r.endAt,Oc(r),i))}(t,e)}function YB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function NA(t){return(e,n)=>{let r=!1;for(let i of Oc(t)){let o=ZB(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function ZB(t,e,n){let r=t.field.isKeyField()?G.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),l=a.data.field(o);return u!==null&&l!==null?Ls(u,l):Z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return Z()}}var si=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Ks(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return IA(this.inner)}size(){return this.innerSize}};var JB=new Ue(G.comparator);function yr(){return JB}var PA=new Ue(G.comparator);function Nc(...t){let e=PA;for(let n of t)e=e.insert(n.key,n);return e}function OA(t){let e=PA;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function eo(){return kc()}function kA(){return kc()}function kc(){return new si(t=>t.toString(),(t,e)=>t.isEqual(e))}var XB=new Ue(G.comparator),e$=new yt(G.comparator);function me(...t){let e=e$;for(let n of t)e=e.add(n);return e}var t$=new yt(Ee);function n$(){return t$}function pw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vc(e)?"-0":e}}function FA(t){return{integerValue:""+t}}function r$(t,e){return UB(e)?FA(e):pw(t,e)}var Us=class{constructor(){this._=void 0}};function i$(t,e,n){return t instanceof Bs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&cw(o)&&(o=uw(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof co?VA(t,e):t instanceof uo?jA(t,e):function(i,o){let s=LA(i,o),a=YS(s)+YS(i.Pe);return Fv(s)&&Fv(i.Pe)?FA(a):pw(i.serializer,a)}(t,e)}function o$(t,e,n){return t instanceof co?VA(t,e):t instanceof uo?jA(t,e):n}function LA(t,e){return t instanceof $s?function(r){return Fv(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var Bs=class extends Us{},co=class extends Us{constructor(e){super(),this.elements=e}};function VA(t,e){let n=UA(e);for(let r of t.elements)n.some(i=>Un(i,r))||n.push(r);return{arrayValue:{values:n}}}var uo=class extends Us{constructor(e){super(),this.elements=e}};function jA(t,e){let n=UA(e);for(let r of t.elements)n=n.filter(i=>!Un(i,r));return{arrayValue:{values:n}}}var $s=class extends Us{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function YS(t){return Oe(t.integerValue||t.doubleValue)}function UA(t){return lw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function s$(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof co&&i instanceof co||r instanceof uo&&i instanceof uo?Fs(r.elements,i.elements,Un):r instanceof $s&&i instanceof $s?Un(r.Pe,i.Pe):r instanceof Bs&&i instanceof Bs}(t.transform,e.transform)}var Qv=class{constructor(e,n){this.version=e,this.transformResults=n}},ro=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function vh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var Hs=class{};function BA(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Th(t.key,ro.none()):new lo(t.key,t.data,ro.none());{let n=t.data,r=yn.empty(),i=new yt(zt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new vr(t.key,r,new Fn(i.toArray()),ro.none())}}function a$(t,e,n){t instanceof lo?function(i,o,s){let a=i.value.clone(),u=JS(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof vr?function(i,o,s){if(!vh(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=JS(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll($A(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function Fc(t,e,n,r){return t instanceof lo?function(o,s,a,u){if(!vh(o.precondition,s))return a;let l=o.value.clone(),h=XS(o.fieldTransforms,u,s);return l.setAll(h),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof vr?function(o,s,a,u){if(!vh(o.precondition,s))return a;let l=XS(o.fieldTransforms,u,s),h=s.data;return h.setAll($A(o)),h.setAll(l),s.convertToFoundDocument(s.version,h).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(p=>p.field))}(t,e,n,r):function(o,s,a){return vh(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function c$(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=LA(r.transform,i||null);o!=null&&(n===null&&(n=yn.empty()),n.set(r.field,o))}return n||null}function ZS(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Fs(r,i,(o,s)=>s$(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var lo=class extends Hs{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},vr=class extends Hs{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function $A(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function JS(t,e,n){let r=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,o$(s,a,n[i]))}return r}function XS(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,i$(o,s,e))}return r}var Th=class extends Hs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Yv=class extends Hs{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var Zv=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&a$(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=Fc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=kA();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=BA(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(ie.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),me())}isEqual(e){return this.batchId===e.batchId&&Fs(this.mutations,e.mutations,(n,r)=>ZS(n,r))&&Fs(this.baseMutations,e.baseMutations,(n,r)=>ZS(n,r))}},Jv=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Re(e.mutations.length===r.length);let i=function(){return XB}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Xv=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var e_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var Ge,ve;function u$(t){switch(t){default:return Z();case x.CANCELLED:case x.UNKNOWN:case x.DEADLINE_EXCEEDED:case x.RESOURCE_EXHAUSTED:case x.INTERNAL:case x.UNAVAILABLE:case x.UNAUTHENTICATED:return!1;case x.INVALID_ARGUMENT:case x.NOT_FOUND:case x.ALREADY_EXISTS:case x.PERMISSION_DENIED:case x.FAILED_PRECONDITION:case x.ABORTED:case x.OUT_OF_RANGE:case x.UNIMPLEMENTED:case x.DATA_LOSS:return!0}}function HA(t){if(t===void 0)return gr("GRPC error has no .code"),x.UNKNOWN;switch(t){case Ge.OK:return x.OK;case Ge.CANCELLED:return x.CANCELLED;case Ge.UNKNOWN:return x.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return x.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return x.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return x.INTERNAL;case Ge.UNAVAILABLE:return x.UNAVAILABLE;case Ge.UNAUTHENTICATED:return x.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return x.INVALID_ARGUMENT;case Ge.NOT_FOUND:return x.NOT_FOUND;case Ge.ALREADY_EXISTS:return x.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return x.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return x.FAILED_PRECONDITION;case Ge.ABORTED:return x.ABORTED;case Ge.OUT_OF_RANGE:return x.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return x.UNIMPLEMENTED;case Ge.DATA_LOSS:return x.DATA_LOSS;default:return Z()}}(ve=Ge||(Ge={}))[ve.OK=0]="OK",ve[ve.CANCELLED=1]="CANCELLED",ve[ve.UNKNOWN=2]="UNKNOWN",ve[ve.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ve[ve.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ve[ve.NOT_FOUND=5]="NOT_FOUND",ve[ve.ALREADY_EXISTS=6]="ALREADY_EXISTS",ve[ve.PERMISSION_DENIED=7]="PERMISSION_DENIED",ve[ve.UNAUTHENTICATED=16]="UNAUTHENTICATED",ve[ve.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ve[ve.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ve[ve.ABORTED=10]="ABORTED",ve[ve.OUT_OF_RANGE=11]="OUT_OF_RANGE",ve[ve.UNIMPLEMENTED=12]="UNIMPLEMENTED",ve[ve.INTERNAL=13]="INTERNAL",ve[ve.UNAVAILABLE=14]="UNAVAILABLE",ve[ve.DATA_LOSS=15]="DATA_LOSS";var eA=null;function l$(){return new TextEncoder}var d$=new ni([4294967295,4294967295],0);function tA(t){let e=l$().encode(t),n=new pv;return n.update(e),new Uint8Array(n.digest())}function nA(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new ni([n,r],0),new ni([i,o],0)]}var t_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new to(`Invalid padding: ${n}`);if(r<0)throw new to(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new to(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new to(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=ni.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(ni.fromNumber(r)));return i.compare(d$)===1&&(i=new ni([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=tA(e),[r,i]=nA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=tA(e),[r,i]=nA(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},to=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Sh=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Bc.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ie.min(),i,new Ue(Ee),yr(),me())}},Bc=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,me(),me(),me())}};var Ps=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Ah=class{constructor(e,n){this.targetId=e,this.me=n}},Mh=class{constructor(e,n,r=vt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},xh=class{constructor(){this.fe=0,this.ge=iA(),this.pe=vt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=me(),n=me(),r=me();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:Z()}}),new Bc(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=iA()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Re(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},n_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=yr(),this.qe=rA(),this.Qe=new Ue(Ee)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:Z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(Gv(o))if(r===0){let s=new G(o.path);this.Ue(n,s,vn.newNoDocument(s,ie.min()))}else Re(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let l=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,l)}eA?.et(function(h,p,m,v,S){var N,M,j,z,K,de;let Fe={localCacheCount:h,existenceFilterCount:p.count,databaseId:m.database,projectId:m.projectId},ee=p.unchangedNames;return ee&&(Fe.bloomFilter={applied:S===0,hashCount:(N=ee?.hashCount)!==null&&N!==void 0?N:0,bitmapLength:(z=(j=(M=ee?.bits)===null||M===void 0?void 0:M.bitmap)===null||j===void 0?void 0:j.length)!==null&&z!==void 0?z:0,padding:(de=(K=ee?.bits)===null||K===void 0?void 0:K.padding)!==null&&de!==void 0?de:0,mightContain:C=>{var y;return(y=v?.mightContain(C))!==null&&y!==void 0&&y}}),Fe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=ii(r).toUint8Array()}catch(u){if(u instanceof Ch)return ks("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new t_(s,i,o)}catch(u){return ks(u instanceof to?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&Gv(a.target)){let u=new G(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,vn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=me();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let l=this.Je(u);return!l||l.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Sh(e,n,this.Qe,this.ke,r);return this.ke=yr(),this.qe=rA(),this.Qe=new Ue(Ee),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new xh,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new yt(Ee),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||B("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new xh),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function rA(){return new Ue(G.comparator)}function iA(){return new Ue(G.comparator)}var h$={asc:"ASCENDING",desc:"DESCENDING"},f$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},p$={and:"AND",or:"OR"},r_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function i_(t,e){return t.useProto3Json||Yh(e)?e:{value:e}}function Rh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function zA(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function g$(t,e){return Rh(t,e.toTimestamp())}function jn(t){return Re(!!t),ie.fromTimestamp(function(n){let r=mr(n);return new ut(r.seconds,r.nanos)}(t))}function gw(t,e){return o_(t,e).canonicalString()}function o_(t,e){let n=function(i){return new ke(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function qA(t){let e=ke.fromString(t);return Re(YA(e)),e}function s_(t,e){return gw(t.databaseId,e.path)}function Iv(t,e){let n=qA(e);if(n.get(1)!==t.databaseId.projectId)throw new U(x.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new U(x.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new G(WA(n))}function GA(t,e){return gw(t.databaseId,e)}function m$(t){let e=qA(t);return e.length===4?ke.emptyPath():WA(e)}function a_(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function WA(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function oA(t,e,n){return{name:s_(t,e),fields:n.value.mapValue.fields}}function y$(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:Z()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(l,h){return l.useProto3Json?(Re(h===void 0||typeof h=="string"),vt.fromBase64String(h||"")):(Re(h===void 0||h instanceof Buffer||h instanceof Uint8Array),vt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(l){let h=l.code===void 0?x.UNKNOWN:HA(l.code);return new U(h,l.message||"")}(s);n=new Mh(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=Iv(t,r.document.name),o=jn(r.document.updateTime),s=r.document.createTime?jn(r.document.createTime):ie.min(),a=new yn({mapValue:{fields:r.document.fields}}),u=vn.newFoundDocument(i,o,s,a),l=r.targetIds||[],h=r.removedTargetIds||[];n=new Ps(l,h,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=Iv(t,r.document),o=r.readTime?jn(r.readTime):ie.min(),s=vn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ps([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=Iv(t,r.document),o=r.removedTargetIds||[];n=new Ps([],o,i,null)}else{if(!("filter"in e))return Z();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new e_(i,o),a=r.targetId;n=new Ah(a,s)}}return n}function v$(t,e){let n;if(e instanceof lo)n={update:oA(t,e.key,e.value)};else if(e instanceof Th)n={delete:s_(t,e.key)};else if(e instanceof vr)n={update:oA(t,e.key,e.data),updateMask:S$(e.fieldMask)};else{if(!(e instanceof Yv))return Z();n={verify:s_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof Bs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof co)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof uo)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof $s)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw Z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:g$(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Z()}(t,e.precondition)),n}function _$(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?jn(i.updateTime):jn(o);return s.isEqual(ie.min())&&(s=jn(o)),new Qv(s,i.transformResults||[])}(n,e))):[]}function w$(t,e){return{documents:[GA(t,e.path)]}}function I$(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=GA(t,i);let o=function(l){if(l.length!==0)return QA(_n.create(l,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(l){if(l.length!==0)return l.map(h=>function(m){return{field:xs(m.field),direction:b$(m.dir)}}(h))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=i_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(l){return{before:l.inclusive,values:l.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),{_t:n,parent:i}}function E$(t){let e=m$(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Re(r===1);let h=n.from[0];h.allDescendants?i=h.collectionId:e=e.child(h.collectionId)}let o=[];n.where&&(o=function(p){let m=KA(p);return m instanceof _n&&TA(m)?m.getFilters():[m]}(n.where));let s=[];n.orderBy&&(s=function(p){return p.map(m=>function(S){return new ao(Rs(S.field),function(M){switch(M){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(S.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(p){let m;return m=typeof p=="object"?p.value:p,Yh(m)?null:m}(n.limit));let u=null;n.startAt&&(u=function(p){let m=!!p.before,v=p.values||[];return new js(v,m)}(n.startAt));let l=null;return n.endAt&&(l=function(p){let m=!p.before,v=p.values||[];return new js(v,m)}(n.endAt)),KB(e,i,s,o,a,"F",u,l)}function C$(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function KA(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Rs(n.unaryFilter.field);return Ke.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Rs(n.unaryFilter.field);return Ke.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Rs(n.unaryFilter.field);return Ke.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Rs(n.unaryFilter.field);return Ke.create(s,"!=",{nullValue:"NULL_VALUE"});default:return Z()}}(t):t.fieldFilter!==void 0?function(n){return Ke.create(Rs(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return _n.create(n.compositeFilter.filters.map(r=>KA(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Z()}}(n.compositeFilter.op))}(t):Z()}function b$(t){return h$[t]}function D$(t){return f$[t]}function T$(t){return p$[t]}function xs(t){return{fieldPath:t.canonicalString()}}function Rs(t){return zt.fromServerFormat(t.fieldPath)}function QA(t){return t instanceof Ke?function(n){if(n.op==="=="){if(qS(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NAN"}};if(zS(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(qS(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NAN"}};if(zS(n.value))return{unaryFilter:{field:xs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:xs(n.field),op:D$(n.op),value:n.value}}}(t):t instanceof _n?function(n){let r=n.getFilters().map(i=>QA(i));return r.length===1?r[0]:{compositeFilter:{op:T$(n.op),filters:r}}}(t):Z()}function S$(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function YA(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var $c=class t{constructor(e,n,r,i,o=ie.min(),s=ie.min(),a=vt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var c_=class{constructor(e){this.ct=e}};function A$(t){let e=E$({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Kv(e,e.limit,"L"):e}var Nh=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Oe(e.integerValue));else if("doubleValue"in e){let r=Oe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),Vc(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=mr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(ii(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?CA(e)?this.dt(n,Number.MAX_SAFE_INTEGER):EA(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):Z()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Oe(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),G.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Nh.vt=new Nh;var u_=class{constructor(){this.un=new l_}addToCollectionParentIndex(e,n){return this.un.add(n),O.resolve()}getCollectionParents(e,n){return O.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return O.resolve()}deleteFieldIndex(e,n){return O.resolve()}deleteAllFieldIndexes(e){return O.resolve()}createTargetIndexes(e,n){return O.resolve()}getDocumentsMatchingTarget(e,n){return O.resolve(null)}getIndexType(e,n){return O.resolve(0)}getFieldIndexes(e,n){return O.resolve([])}getNextCollectionGroupToUpdate(e){return O.resolve(null)}getMinOffset(e,n){return O.resolve(oo.min())}getMinOffsetFromCollectionGroup(e,n){return O.resolve(oo.min())}updateCollectionGroup(e,n,r){return O.resolve()}updateIndexEntries(e,n){return O.resolve()}},l_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(ke.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(ke.comparator)).toArray()}};var o7=new Uint8Array(0);var kn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};kn.DEFAULT_COLLECTION_PERCENTILE=10,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,kn.DEFAULT=new kn(41943040,kn.DEFAULT_COLLECTION_PERCENTILE,kn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),kn.DISABLED=new kn(-1,0,0);var Hc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var d_=class{constructor(){this.changes=new si(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,vn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?O.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var h_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var f_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&Fc(r.mutation,i,Fn.empty(),ut.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,me()).next(()=>r))}getLocalViewOfDocuments(e,n,r=me()){let i=eo();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=Nc();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,me()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=yr(),s=kc(),a=function(){return kc()}();return n.forEach((u,l)=>{let h=r.get(l.key);i.has(l.key)&&(h===void 0||h.mutation instanceof vr)?o=o.insert(l.key,l):h!==void 0?(s.set(l.key,h.mutation.getFieldMask()),Fc(h.mutation,l,h.mutation.getFieldMask(),ut.now())):s.set(l.key,Fn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,h)=>s.set(l,h)),n.forEach((l,h)=>{var p;return a.set(l,new h_(h,(p=s.get(l))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,n){let r=kc(),i=new Ue((s,a)=>s-a),o=me();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let h=r.get(u)||Fn.empty();h=a.applyToLocalView(l,h),r.set(u,h);let p=(i.get(a.batchId)||me()).add(u);i=i.insert(a.batchId,p)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),l=u.key,h=u.value,p=kA();h.forEach(m=>{if(!o.has(m)){let v=BA(n.get(m),r.get(m));v!==null&&p.set(m,v),o=o.add(m)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,p))}return O.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return G.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):xA(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):O.resolve(eo()),a=-1,u=o;return s.next(l=>O.forEach(l,(h,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),o.get(h)?O.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{u=u.insert(h,m)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,me())).next(h=>({batchId:a,changes:OA(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new G(n)).next(r=>{let i=Nc();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=Nc();return this.indexManager.getCollectionParents(e,o).next(a=>O.forEach(a,u=>{let l=function(p,m){return new oi(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(h=>{h.forEach((p,m)=>{s=s.insert(p,m)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let h=l.getKey();s.get(h)===null&&(s=s.insert(h,vn.newInvalidDocument(h)))});let a=Nc();return s.forEach((u,l)=>{let h=o.get(u);h!==void 0&&Fc(h.mutation,l,Fn.empty(),ut.now()),Jh(n,l)&&(a=a.insert(u,l))}),a})}};var p_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return O.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:jn(i.createTime)}}(n)),O.resolve()}getNamedQuery(e,n){return O.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:A$(i.bundledQuery),readTime:jn(i.readTime)}}(n)),O.resolve()}};var g_=class{constructor(){this.overlays=new Ue(G.comparator),this.Ir=new Map}getOverlay(e,n){return O.resolve(this.overlays.get(n))}getOverlays(e,n){let r=eo();return O.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),O.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),O.resolve()}getOverlaysForCollection(e,n,r){let i=eo(),o=n.length+1,s=new G(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return O.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Ue((l,h)=>l-h),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let h=o.get(l.largestBatchId);h===null&&(h=eo(),o=o.insert(l.largestBatchId,h)),h.set(l.getKey(),l)}}let a=eo(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,h)=>a.set(l,h)),!(a.size()>=i)););return O.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Xv(n,r));let o=this.Ir.get(n);o===void 0&&(o=me(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var m_=class{constructor(){this.sessionToken=vt.EMPTY_BYTE_STRING}getSessionToken(e){return O.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,O.resolve()}};var zc=class{constructor(){this.Tr=new yt(We.Er),this.dr=new yt(We.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new We(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new We(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new G(new ke([])),r=new We(n,e),i=new We(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new G(new ke([])),r=new We(n,e),i=new We(n,e+1),o=me();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new We(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},We=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return G.comparator(e.key,n.key)||Ee(e.wr,n.wr)}static Ar(e,n){return Ee(e.wr,n.wr)||G.comparator(e.key,n.key)}};var y_=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yt(We.Er)}checkEmpty(e){return O.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new Zv(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new We(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return O.resolve(s)}lookupMutationBatch(e,n){return O.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return O.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return O.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return O.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new We(n,0),i=new We(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),O.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(Ee);return n.forEach(i=>{let o=new We(i,0),s=new We(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),O.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;G.isDocumentKey(o)||(o=o.child(""));let s=new We(new G(o),0),a=new yt(Ee);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(a=a.add(u.wr)),!0)},s),O.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return O.forEach(n.mutations,i=>{let o=new We(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new We(n,0),i=this.br.firstAfterOrEqual(r);return O.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,O.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var v_=class{constructor(e){this.Mr=e,this.docs=function(){return new Ue(G.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return O.resolve(r?r.document.mutableCopy():vn.newInvalidDocument(n))}getEntries(e,n){let r=yr();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():vn.newInvalidDocument(i))}),O.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=yr(),s=n.path,a=new G(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:l,value:{document:h}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||LB(FB(h),r)<=0||(i.has(h.key)||Jh(n,h))&&(o=o.insert(h.key,h.mutableCopy()))}return O.resolve(o)}getAllFromCollectionGroup(e,n,r,i){Z()}Or(e,n){return O.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new __(this)}getSize(e){return O.resolve(this.size)}},__=class extends d_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),O.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var w_=class{constructor(e){this.persistence=e,this.Nr=new si(n=>dw(n),hw),this.lastRemoteSnapshotVersion=ie.min(),this.highestTargetId=0,this.Lr=0,this.Br=new zc,this.targetCount=0,this.kr=Hc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),O.resolve()}getLastRemoteSnapshotVersion(e){return O.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return O.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),O.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),O.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Hc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,O.resolve()}updateTargetData(e,n){return this.Kn(n),O.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,O.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),O.waitFor(o).next(()=>i)}getTargetCount(e){return O.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return O.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),O.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),O.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),O.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return O.resolve(r)}containsKey(e,n){return O.resolve(this.Br.containsKey(n))}};var I_=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new wA(0),this.Kr=!1,this.Kr=!0,this.$r=new m_,this.referenceDelegate=e(this),this.Ur=new w_(this),this.indexManager=new u_,this.remoteDocumentCache=function(i){return new v_(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new c_(n),this.Gr=new p_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new g_,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new y_(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){B("MemoryPersistence","Starting transaction:",e);let i=new E_(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return O.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},E_=class extends Pv{constructor(e){super(),this.currentSequenceNumber=e}},C_=class t{constructor(e){this.persistence=e,this.Jr=new zc,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw Z()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),O.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),O.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),O.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return O.forEach(this.Xr,r=>{let i=G.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,ie.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return O.or([()=>O.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var b_=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=me(),i=me();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var D_=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var T_=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yT()?8:jB(it())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new D_;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Rc()<=ge.DEBUG&&B("QueryEngine","SDK will not create cache indexes for query:",Ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),O.resolve()):(Rc()<=ge.DEBUG&&B("QueryEngine","Query:",Ms(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Rc()<=ge.DEBUG&&B("QueryEngine","The SDK decides to create cache indexes for query:",Ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Vn(n))):O.resolve())}Yi(e,n){if(QS(n))return O.resolve(null);let r=Vn(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Kv(n,null,"F"),r=Vn(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=me(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,a);return this.ns(n,l,s,u.readTime)?this.Yi(e,Kv(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return QS(n)||i.isEqual(ie.min())?O.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?O.resolve(null):(Rc()<=ge.DEBUG&&B("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ms(n)),this.rs(e,s,n,kB(i,-1)).next(a=>a))})}ts(e,n){let r=new yt(NA(e));return n.forEach((i,o)=>{Jh(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Rc()<=ge.DEBUG&&B("QueryEngine","Using full collection scan to execute query:",Ms(n)),this.Ji.getDocumentsMatchingQuery(e,n,oo.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var S_=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ue(Ee),this._s=new si(o=>dw(o),hw),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new f_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function M$(t,e,n,r){return new S_(t,e,n,r)}function ZA(t,e){return I(this,null,function*(){let n=X(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=me();for(let l of i){s.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}for(let l of o){a.push(l.batchId);for(let h of l.mutations)u=u.add(h.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:a}))})})})}function x$(t,e){let n=X(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,l,h){let p=l.batch,m=p.keys(),v=O.resolve();return m.forEach(S=>{v=v.next(()=>h.getEntry(u,S)).next(N=>{let M=l.docVersions.get(S);Re(M!==null),N.version.compareTo(M)<0&&(p.applyToRemoteDocument(N,l),N.isValidDocument()&&(N.setReadTime(l.commitVersion),h.addEntry(N)))})}),v.next(()=>a.mutationQueue.removeMutationBatch(u,p))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=me();for(let l=0;l<a.mutationResults.length;++l)a.mutationResults[l].transformResults.length>0&&(u=u.add(a.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function JA(t){let e=X(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function R$(t,e){let n=X(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((h,p)=>{let m=i.get(p);if(!m)return;a.push(n.Ur.removeMatchingKeys(o,h.removedDocuments,p).next(()=>n.Ur.addMatchingKeys(o,h.addedDocuments,p)));let v=m.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(p)!==null?v=v.withResumeToken(vt.EMPTY_BYTE_STRING,ie.min()).withLastLimboFreeSnapshotVersion(ie.min()):h.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(h.resumeToken,r)),i=i.insert(p,v),function(N,M,j){return N.resumeToken.approximateByteSize()===0||M.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=3e8?!0:j.addedDocuments.size+j.modifiedDocuments.size+j.removedDocuments.size>0}(m,v,h)&&a.push(n.Ur.updateTargetData(o,v))});let u=yr(),l=me();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,h))}),a.push(N$(o,s,e.documentUpdates).next(h=>{u=h.Ps,l=h.Is})),!r.isEqual(ie.min())){let h=n.Ur.getLastRemoteSnapshotVersion(o).next(p=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(h)}return O.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,l)).next(()=>u)}).then(o=>(n.os=i,o))}function N$(t,e,n){let r=me(),i=me();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=yr();return n.forEach((a,u)=>{let l=o.get(a);u.isFoundDocument()!==l.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ie.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!l.isValidDocument()||u.version.compareTo(l.version)>0||u.version.compareTo(l.version)===0&&l.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):B("LocalStore","Ignoring outdated watch update for ",a,". Current version:",l.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function P$(t,e){let n=X(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function O$(t,e){let n=X(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,O.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new $c(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function A_(t,e,n){return I(this,null,function*(){let r=X(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Zc(s))throw s;B("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function sA(t,e,n){let r=X(t),i=ie.min(),o=me();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,l,h){let p=X(u),m=p._s.get(h);return m!==void 0?O.resolve(p.os.get(m)):p.Ur.getTargetData(l,h)}(r,s,Vn(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:ie.min(),n?o:me())).next(a=>(k$(r,YB(e),a),{documents:a,Ts:o})))}function k$(t,e,n){let r=t.us.get(e)||ie.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Ph=class{constructor(){this.activeTargetIds=n$()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var M_=class{constructor(){this.so=new Ph,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ph,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var x_=class{_o(e){}shutdown(){}};var Oh=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){B("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){B("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var mh=null;function Ev(){return mh===null?mh=function(){return 268435456+Math.round(2147483648*Math.random())}():mh++,"0x"+mh.toString(16)}var F$={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var R_=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var mt="WebChannelConnection",N_=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=Ev(),u=this.xo(n,r.toUriEncodedString());B("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(h=>(B("RestConnection",`Received RPC '${n}' ${a}: `,h),h),h=>{throw ks("RestConnection",`RPC '${n}' ${a} failed with error: `,h,"url: ",u,"request:",i),h})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ws}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=F$[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=Ev();return new Promise((s,a)=>{let u=new gv;u.setWithCredentials(!0),u.listenOnce(yv.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case xc.NO_ERROR:let h=u.getResponseJson();B(mt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(h)),s(h);break;case xc.TIMEOUT:B(mt,`RPC '${e}' ${o} timed out`),a(new U(x.DEADLINE_EXCEEDED,"Request time out"));break;case xc.HTTP_ERROR:let p=u.getStatus();if(B(mt,`RPC '${e}' ${o} failed with status:`,p,"response text:",u.getResponseText()),p>0){let m=u.getResponseJson();Array.isArray(m)&&(m=m[0]);let v=m?.error;if(v&&v.status&&v.message){let S=function(M){let j=M.toLowerCase().replace(/_/g,"-");return Object.values(x).indexOf(j)>=0?j:x.UNKNOWN}(v.status);a(new U(S,v.message))}else a(new U(x.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new U(x.UNAVAILABLE,"Connection failed."));break;default:Z()}}finally{B(mt,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);B(mt,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=Ev(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=wv(),a=_v(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new mv({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let h=o.join("");B(mt,`Creating RPC '${e}' stream ${i}: ${h}`,u);let p=s.createWebChannel(h,u),m=!1,v=!1,S=new R_({Io:M=>{v?B(mt,`Not sending because RPC '${e}' stream ${i} is closed:`,M):(m||(B(mt,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),B(mt,`RPC '${e}' stream ${i} sending:`,M),p.send(M))},To:()=>p.close()}),N=(M,j,z)=>{M.listen(j,K=>{try{z(K)}catch(de){setTimeout(()=>{throw de},0)}})};return N(p,As.EventType.OPEN,()=>{v||(B(mt,`RPC '${e}' stream ${i} transport opened.`),S.yo())}),N(p,As.EventType.CLOSE,()=>{v||(v=!0,B(mt,`RPC '${e}' stream ${i} transport closed`),S.So())}),N(p,As.EventType.ERROR,M=>{v||(v=!0,ks(mt,`RPC '${e}' stream ${i} transport errored:`,M),S.So(new U(x.UNAVAILABLE,"The operation could not be completed")))}),N(p,As.EventType.MESSAGE,M=>{var j;if(!v){let z=M.data[0];Re(!!z);let K=z,de=K.error||((j=K[0])===null||j===void 0?void 0:j.error);if(de){B(mt,`RPC '${e}' stream ${i} received error:`,de);let Fe=de.status,ee=function(_){let E=Ge[_];if(E!==void 0)return HA(E)}(Fe),C=de.message;ee===void 0&&(ee=x.INTERNAL,C="Unknown error status: "+Fe+" with message "+de.message),v=!0,S.So(new U(ee,C)),p.close()}else B(mt,`RPC '${e}' stream ${i} received:`,z),S.bo(z)}}),N(a,vv.STAT_EVENT,M=>{M.stat===ph.PROXY?B(mt,`RPC '${e}' stream ${i} detected buffering proxy`):M.stat===ph.NOPROXY&&B(mt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{S.wo()},0),S}};function Cv(){return typeof document<"u"?document:null}function Xh(t){return new r_(t,!0)}var kh=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&B("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Fh=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new kh(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===x.RESOURCE_EXHAUSTED?(gr(n.toString()),gr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===x.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new U(x.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return B("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(B("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},P_=class extends Fh{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=y$(this.serializer,e),r=function(o){if(!("targetChange"in o))return ie.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?ie.min():s.readTime?jn(s.readTime):ie.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=a_(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=Gv(u)?{documents:w$(o,u)}:{query:I$(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=zA(o,s.resumeToken);let l=i_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}else if(s.snapshotVersion.compareTo(ie.min())>0){a.readTime=Rh(o,s.snapshotVersion.toTimestamp());let l=i_(o,s.expectedCount);l!==null&&(a.expectedCount=l)}return a}(this.serializer,e);let r=C$(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=a_(this.serializer),n.removeTarget=e,this.a_(n)}},O_=class extends Fh{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Re(!!e.streamToken),this.lastStreamToken=e.streamToken,Re(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=_$(e.writeResults,e.commitTime),r=jn(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=a_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>v$(this.serializer,r))};this.a_(n)}};var k_=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new U(x.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,o_(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new U(x.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,o_(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===x.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new U(x.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},F_=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(gr(n),this.D_=!1):B("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var L_=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>I(this,null,function*(){fo(this)&&(B("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let l=X(u);l.L_.add(4),yield Jc(l),l.q_.set("Unknown"),l.L_.delete(4),yield ef(l)})}(this))}))}),this.q_=new F_(r,i)}};function ef(t){return I(this,null,function*(){if(fo(t))for(let e of t.B_)yield e(!0)})}function Jc(t){return I(this,null,function*(){for(let e of t.B_)yield e(!1)})}function XA(t,e){let n=X(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),_w(n)?vw(n):Qs(n).r_()&&yw(n,e))}function mw(t,e){let n=X(t),r=Qs(n);n.N_.delete(e),r.r_()&&eM(n,e),n.N_.size===0&&(r.r_()?r.o_():fo(n)&&n.q_.set("Unknown"))}function yw(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ie.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qs(t).A_(e)}function eM(t,e){t.Q_.xe(e),Qs(t).R_(e)}function vw(t){t.Q_=new n_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Qs(t).start(),t.q_.v_()}function _w(t){return fo(t)&&!Qs(t).n_()&&t.N_.size>0}function fo(t){return X(t).L_.size===0}function tM(t){t.Q_=void 0}function L$(t){return I(this,null,function*(){t.q_.set("Online")})}function V$(t){return I(this,null,function*(){t.N_.forEach((e,n)=>{yw(t,e)})})}function j$(t,e){return I(this,null,function*(){tM(t),_w(t)?(t.q_.M_(e),vw(t)):t.q_.set("Unknown")})}function U$(t,e,n){return I(this,null,function*(){if(t.q_.set("Online"),e instanceof Mh&&e.state===2&&e.cause)try{yield function(i,o){return I(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){B("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Lh(t,r)}else if(e instanceof Ps?t.Q_.Ke(e):e instanceof Ah?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ie.min()))try{let r=yield JA(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,l)=>{if(u.resumeToken.approximateByteSize()>0){let h=o.N_.get(l);h&&o.N_.set(l,h.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,l)=>{let h=o.N_.get(u);if(!h)return;o.N_.set(u,h.withResumeToken(vt.EMPTY_BYTE_STRING,h.snapshotVersion)),eM(o,u);let p=new $c(h.target,u,l,h.sequenceNumber);yw(o,p)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){B("RemoteStore","Failed to raise snapshot:",r),yield Lh(t,r)}})}function Lh(t,e,n){return I(this,null,function*(){if(!Zc(e))throw e;t.L_.add(1),yield Jc(t),t.q_.set("Offline"),n||(n=()=>JA(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){B("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield ef(t)}))})}function nM(t,e){return e().catch(n=>Lh(t,n,e))}function tf(t){return I(this,null,function*(){let e=X(t),n=ai(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;B$(e);)try{let i=yield P$(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,$$(e,i)}catch(i){yield Lh(e,i)}rM(e)&&iM(e)})}function B$(t){return fo(t)&&t.O_.length<10}function $$(t,e){t.O_.push(e);let n=ai(t);n.r_()&&n.V_&&n.m_(e.mutations)}function rM(t){return fo(t)&&!ai(t).n_()&&t.O_.length>0}function iM(t){ai(t).start()}function H$(t){return I(this,null,function*(){ai(t).p_()})}function z$(t){return I(this,null,function*(){let e=ai(t);for(let n of t.O_)e.m_(n.mutations)})}function q$(t,e,n){return I(this,null,function*(){let r=t.O_.shift(),i=Jv.from(r,e,n);yield nM(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield tf(t)})}function G$(t,e){return I(this,null,function*(){e&&ai(t).V_&&(yield function(r,i){return I(this,null,function*(){if(function(s){return u$(s)&&s!==x.ABORTED}(i.code)){let o=r.O_.shift();ai(r).s_(),yield nM(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield tf(r)}})}(t,e)),rM(t)&&iM(t)})}function aA(t,e){return I(this,null,function*(){let n=X(t);n.asyncQueue.verifyOperationInProgress(),B("RemoteStore","RemoteStore received new credentials");let r=fo(n);n.L_.add(3),yield Jc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield ef(n)})}function W$(t,e){return I(this,null,function*(){let n=X(t);e?(n.L_.delete(2),yield ef(n)):e||(n.L_.add(2),yield Jc(n),n.q_.set("Unknown"))})}function Qs(t){return t.K_||(t.K_=function(n,r,i){let o=X(n);return o.w_(),new P_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:L$.bind(null,t),Ro:V$.bind(null,t),mo:j$.bind(null,t),d_:U$.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.K_.s_(),_w(t)?vw(t):t.q_.set("Unknown")):(yield t.K_.stop(),tM(t))}))),t.K_}function ai(t){return t.U_||(t.U_=function(n,r,i){let o=X(n);return o.w_(),new O_(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:H$.bind(null,t),mo:G$.bind(null,t),f_:z$.bind(null,t),g_:q$.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.U_.s_(),yield tf(t)):(yield t.U_.stop(),t.O_.length>0&&(B("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var V_=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new pr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new U(x.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ww(t,e){if(gr("AsyncQueue",`${e}: ${t}`),Zc(t))return new U(x.UNAVAILABLE,`${e}: ${t}`);throw t}var Vh=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||G.comparator(n.key,r.key):(n,r)=>G.comparator(n.key,r.key),this.keyedMap=Nc(),this.sortedSet=new Ue(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var jh=class{constructor(){this.W_=new Ue(G.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):Z():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},zs=class t{constructor(e,n,r,i,o,s,a,u,l){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=l}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,Vh.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Zh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var j_=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},U_=class{constructor(){this.queries=cA(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=X(n),o=i.queries;i.queries=cA(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new U(x.ABORTED,"Firestore shutting down"))}};function cA(){return new si(t=>RA(t),Zh)}function K$(t,e){return I(this,null,function*(){let n=X(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new j_,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=ww(s,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&Iw(n)})}function Q$(t,e){return I(this,null,function*(){let n=X(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Y$(t,e){let n=X(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&Iw(n)}function Z$(t,e,n){let r=X(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function Iw(t){t.Y_.forEach(e=>{e.next()})}var B_,uA;(uA=B_||(B_={})).ea="default",uA.Cache="cache";var $_=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new zs(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=zs.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==B_.Cache}};var Uh=class{constructor(e){this.key=e}},Bh=class{constructor(e){this.key=e}},H_=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=me(),this.mutatedKeys=me(),this.Aa=NA(e),this.Ra=new Vh(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new jh,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,l=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((h,p)=>{let m=i.get(h),v=Jh(this.query,p)?p:null,S=!!m&&this.mutatedKeys.has(m.key),N=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations),M=!1;m&&v?m.data.isEqual(v.data)?S!==N&&(r.track({type:3,doc:v}),M=!0):this.ga(m,v)||(r.track({type:2,doc:v}),M=!0,(u&&this.Aa(v,u)>0||l&&this.Aa(v,l)<0)&&(a=!0)):!m&&v?(r.track({type:0,doc:v}),M=!0):m&&!v&&(r.track({type:1,doc:m}),M=!0,(u||l)&&(a=!0)),M&&(v?(s=s.add(v),o=N?o.add(h):o.delete(h)):(s=s.delete(h),o=o.delete(h)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let h=this.query.limitType==="F"?s.last():s.first();s=s.delete(h.key),o=o.delete(h.key),r.track({type:1,doc:h})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((h,p)=>function(v,S){let N=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Z()}};return N(v)-N(S)}(h.type,p.type)||this.Aa(h.doc,p.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,l=u!==this.Ea;return this.Ea=u,s.length!==0||l?{snapshot:new zs(this.query,e.Ra,o,s,e.mutatedKeys,u===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new jh,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=me(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Bh(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Uh(r))}),n}ba(e){this.Ta=e.Ts,this.da=me();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return zs.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},z_=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},q_=class{constructor(e){this.key=e,this.va=!1}},G_=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new si(a=>RA(a),Zh),this.Ma=new Map,this.xa=new Set,this.Oa=new Ue(G.comparator),this.Na=new Map,this.La=new zc,this.Ba={},this.ka=new Map,this.qa=Hc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function J$(t,e,n=!0){return I(this,null,function*(){let r=lM(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield oM(r,e,n,!0),i})}function X$(t,e){return I(this,null,function*(){let n=lM(t);yield oM(n,e,!0,!1)})}function oM(t,e,n,r){return I(this,null,function*(){let i=yield O$(t.localStore,Vn(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield eH(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&XA(t.remoteStore,i),a})}function eH(t,e,n,r,i){return I(this,null,function*(){t.Ka=(p,m,v)=>function(N,M,j,z){return I(this,null,function*(){let K=M.view.ma(j);K.ns&&(K=yield sA(N.localStore,M.query,!1).then(({documents:C})=>M.view.ma(C,K)));let de=z&&z.targetChanges.get(M.targetId),Fe=z&&z.targetMismatches.get(M.targetId)!=null,ee=M.view.applyChanges(K,N.isPrimaryClient,de,Fe);return dA(N,M.targetId,ee.wa),ee.snapshot})}(t,p,m,v);let o=yield sA(t.localStore,e,!0),s=new H_(e,o.Ts),a=s.ma(o.documents),u=Bc.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),l=s.applyChanges(a,t.isPrimaryClient,u);dA(t,n,l.wa);let h=new z_(e,n,s);return t.Fa.set(e,h),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),l.snapshot})}function tH(t,e,n){return I(this,null,function*(){let r=X(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Zh(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield A_(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&mw(r.remoteStore,i.targetId),W_(r,i.targetId)}).catch(Yc))):(W_(r,i.targetId),yield A_(r.localStore,i.targetId,!0))})}function nH(t,e){return I(this,null,function*(){let n=X(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),mw(n.remoteStore,r.targetId))})}function rH(t,e,n){return I(this,null,function*(){let r=lH(t);try{let i=yield function(s,a){let u=X(s),l=ut.now(),h=a.reduce((v,S)=>v.add(S.key),me()),p,m;return u.persistence.runTransaction("Locally write mutations","readwrite",v=>{let S=yr(),N=me();return u.cs.getEntries(v,h).next(M=>{S=M,S.forEach((j,z)=>{z.isValidDocument()||(N=N.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(v,S)).next(M=>{p=M;let j=[];for(let z of a){let K=c$(z,p.get(z.key).overlayedDocument);K!=null&&j.push(new vr(z.key,K,bA(K.value.mapValue),ro.exists(!0)))}return u.mutationQueue.addMutationBatch(v,l,j,a)}).next(M=>{m=M;let j=M.applyToLocalDocumentSet(p,N);return u.documentOverlayCache.saveOverlays(v,M.batchId,j)})}).then(()=>({batchId:m.batchId,changes:OA(p)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Ue(Ee)),l=l.insert(a,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield Xc(r,i.changes),yield tf(r.remoteStore)}catch(i){let o=ww(i,"Failed to persist write");n.reject(o)}})}function sM(t,e){return I(this,null,function*(){let n=X(t);try{let r=yield R$(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Re(s.va):i.removedDocuments.size>0&&(Re(s.va),s.va=!1))}),yield Xc(n,r,e)}catch(r){yield Yc(r)}})}function lA(t,e,n){let r=X(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=X(s);u.onlineState=a;let l=!1;u.queries.forEach((h,p)=>{for(let m of p.j_)m.Z_(a)&&(l=!0)}),l&&Iw(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function iH(t,e,n){return I(this,null,function*(){let r=X(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Ue(G.comparator);s=s.insert(o,vn.newNoDocument(o,ie.min()));let a=me().add(o),u=new Sh(ie.min(),new Map,new Ue(Ee),s,a);yield sM(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),Ew(r)}else yield A_(r.localStore,e,!1).then(()=>W_(r,e,n)).catch(Yc)})}function oH(t,e){return I(this,null,function*(){let n=X(t),r=e.batch.batchId;try{let i=yield x$(n.localStore,e);cM(n,r,null),aM(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield Xc(n,i)}catch(i){yield Yc(i)}})}function sH(t,e,n){return I(this,null,function*(){let r=X(t);try{let i=yield function(s,a){let u=X(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let h;return u.mutationQueue.lookupMutationBatch(l,a).next(p=>(Re(p!==null),h=p.keys(),u.mutationQueue.removeMutationBatch(l,p))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,h,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,h)).next(()=>u.localDocuments.getDocuments(l,h))})}(r.localStore,e);cM(r,e,n),aM(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield Xc(r,i)}catch(i){yield Yc(i)}})}function aM(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function cM(t,e,n){let r=X(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function W_(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||uM(t,r)})}function uM(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(mw(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),Ew(t))}function dA(t,e,n){for(let r of n)r instanceof Uh?(t.La.addReference(r.key,e),aH(t,r)):r instanceof Bh?(B("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||uM(t,r.key)):Z()}function aH(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(B("SyncEngine","New document in limbo: "+n),t.xa.add(r),Ew(t))}function Ew(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new G(ke.fromString(e)),r=t.qa.next();t.Na.set(r,new q_(n)),t.Oa=t.Oa.insert(n,r),XA(t.remoteStore,new $c(Vn(fw(n.path)),r,"TargetPurposeLimboResolution",wA.oe))}}function Xc(t,e,n){return I(this,null,function*(){let r=X(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(l=>{var h;if((l||n)&&r.isPrimaryClient){let p=l?!l.fromCache:(h=n?.targetChanges.get(u.targetId))===null||h===void 0?void 0:h.current;r.sharedClientState.updateQueryState(u.targetId,p?"current":"not-current")}if(l){i.push(l);let p=b_.Wi(u.targetId,l);o.push(p)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return I(this,null,function*(){let h=X(u);try{yield h.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>O.forEach(l,m=>O.forEach(m.$i,v=>h.persistence.referenceDelegate.addReference(p,m.targetId,v)).next(()=>O.forEach(m.Ui,v=>h.persistence.referenceDelegate.removeReference(p,m.targetId,v)))))}catch(p){if(!Zc(p))throw p;B("LocalStore","Failed to update sequence numbers: "+p)}for(let p of l){let m=p.targetId;if(!p.fromCache){let v=h.os.get(m),S=v.snapshotVersion,N=v.withLastLimboFreeSnapshotVersion(S);h.os=h.os.insert(m,N)}}})}(r.localStore,o))})}function cH(t,e){return I(this,null,function*(){let n=X(t);if(!n.currentUser.isEqual(e)){B("SyncEngine","User change. New user:",e.toKey());let r=yield ZA(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new U(x.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Xc(n,r.hs)}})}function uH(t,e){let n=X(t),r=n.Na.get(e);if(r&&r.va)return me().add(r.key);{let i=me(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function lM(t){let e=X(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sM.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=uH.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=iH.bind(null,e),e.Ca.d_=Y$.bind(null,e.eventManager),e.Ca.$a=Z$.bind(null,e.eventManager),e}function lH(t){let e=X(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=oH.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=sH.bind(null,e),e}var $h=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=Xh(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return M$(this.persistence,new T_,e.initialUser,this.serializer)}createPersistence(e){return new I_(C_.Zr,this.serializer)}createSharedClientState(e){return new M_}terminate(){return I(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var K_=class{initialize(e,n){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>lA(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=cH.bind(null,this.syncEngine),yield W$(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new U_}()}createDatastore(e){let n=Xh(e.databaseInfo.databaseId),r=function(o){return new N_(o)}(e.databaseInfo);return function(o,s,a,u){return new k_(o,s,a,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,a){return new L_(r,i,o,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>lA(this.syncEngine,n,0),function(){return Oh.D()?new Oh:new x_}())}createSyncEngine(e,n){return function(i,o,s,a,u,l,h){let p=new G_(i,o,s,a,u,l);return h&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return I(this,null,function*(){var e,n;yield function(i){return I(this,null,function*(){let o=X(i);B("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield Jc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var Q_=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Ga(this.observer.next,e)}error(e){this.observer.error?this.Ga(this.observer.error,e):gr("Uncaught Error in snapshot listener:",e.toString())}za(){this.muted=!0}Ga(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}};var Y_=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=ot.UNAUTHENTICATED,this.clientId=wh.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>I(this,null,function*(){B("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(B("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new U(x.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new pr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=ww(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function bv(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),B("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield ZA(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function hA(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield hH(t);B("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aA(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>aA(e.remoteStore,i)),t._onlineComponents=e})}function dH(t){return t.name==="FirebaseError"?t.code===x.FAILED_PRECONDITION||t.code===x.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function hH(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){B("FirestoreClient","Using user provided OfflineComponentProvider");try{yield bv(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!dH(n))throw n;ks("Error using user provided cache. Falling back to memory cache: "+n),yield bv(t,new $h)}}else B("FirestoreClient","Using default OfflineComponentProvider"),yield bv(t,new $h);return t._offlineComponents})}function dM(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(B("FirestoreClient","Using user provided OnlineComponentProvider"),yield hA(t,t._uninitializedComponentsProvider._online)):(B("FirestoreClient","Using default OnlineComponentProvider"),yield hA(t,new K_))),t._onlineComponents})}function fH(t){return dM(t).then(e=>e.syncEngine)}function fA(t){return I(this,null,function*(){let e=yield dM(t),n=e.eventManager;return n.onListen=J$.bind(null,e.syncEngine),n.onUnlisten=tH.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=X$.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=nH.bind(null,e.syncEngine),n})}function hM(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var pA=new Map;function fM(t,e,n){if(!n)throw new U(x.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function pH(t,e,n,r){if(e===!0&&r===!0)throw new U(x.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function gA(t){if(!G.isDocumentKey(t))throw new U(x.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function mA(t){if(G.isDocumentKey(t))throw new U(x.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function nf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Z()}function Lc(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new U(x.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=nf(t);throw new U(x.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var Hh=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new U(x.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new U(x.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}pH("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hM((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new U(x.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},qs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Hh({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new U(x.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new U(x.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Hh(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new Dv;switch(r.type){case"firstParty":return new Mv(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new U(x.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=pA.get(n);r&&(B("ComponentProvider","Removing Datastore"),pA.delete(n),r.terminate())}(this),Promise.resolve()}};function pM(t,e,n,r={}){var i;let o=(t=Lc(t,qs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&ks("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=ot.MOCK_USER;else{a=dT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new U(x.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new ot(l)}t._authCredentials=new Tv(new _h(a,u))}}var ho=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},qt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ri(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},ri=class t extends ho{constructor(e,n,r){super(e,n,fw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new qt(this.firestore,null,new G(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function gM(t,e,...n){if(t=gt(t),fM("collection","path",e),t instanceof qs){let r=ke.fromString(e,...n);return mA(r),new ri(t,null,r)}{if(!(t instanceof qt||t instanceof ri))throw new U(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return mA(r),new ri(t.firestore,null,r)}}function mM(t,e,...n){if(t=gt(t),arguments.length===1&&(e=wh.newId()),fM("doc","path",e),t instanceof qs){let r=ke.fromString(e,...n);return gA(r),new qt(t,null,new G(r))}{if(!(t instanceof qt||t instanceof ri))throw new U(x.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(ke.fromString(e,...n));return gA(r),new qt(t.firestore,t instanceof ri?t.converter:null,new G(r))}}var Z_=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new kh(this,"async_queue_retry"),this.Eu=()=>{let n=Cv();n&&B("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=Cv();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=Cv();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new pr;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return I(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Zc(e))throw e;B("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw gr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=V_.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&Z()}verifyOperationInProgress(){}mu(){return I(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};function yA(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var Gs=class extends qs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new Z_}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||_M(this),this._firestoreClient.terminate()}};function yM(t,e){let n=typeof t=="object"?t:Es(),r=typeof t=="string"?t:e||"(default)",i=_c(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=lT("firestore");o&&pM(i,...o)}return i}function vM(t){return t._firestoreClient||_M(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _M(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,l,h){return new Ov(a,u,l,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,hM(h.experimentalLongPollingOptions),h.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new Y_(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var qc=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(vt.fromBase64String(e))}catch(n){throw new U(x.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(vt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Gc=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new U(x.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var zh=class{constructor(e){this._methodName=e}};var Wc=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new U(x.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new U(x.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Ee(this._lat,e._lat)||Ee(this._long,e._long)}};var Kc=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var gH=/^__.*__$/,J_=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new vr(e,this.data,this.fieldMask,n,this.fieldTransforms):new lo(e,this.data,n,this.fieldTransforms)}};function wM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Z()}}var X_=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return qh(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(wM(this.wu)&&gH.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},ew=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Xh(e)}Nu(e,n,r,i=!1){return new X_({wu:e,methodName:n,Ou:r,path:zt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function IM(t){let e=t._freezeSettings(),n=Xh(t._databaseId);return new ew(t._databaseId,!!e.ignoreUndefinedProperties,n)}function mH(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);bM("Data must be an object, but it was:",s,r);let a=EM(r,s),u,l;if(o.merge)u=new Fn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let h=[];for(let p of o.mergeFields){let m=vH(e,p,n);if(!s.contains(m))throw new U(x.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);wH(h,m)||h.push(m)}u=new Fn(h),l=s.fieldTransforms.filter(p=>u.covers(p.field))}else u=null,l=s.fieldTransforms;return new J_(new yn(a),u,l)}function yH(t,e,n,r=!1){return Cw(n,t.Nu(r?4:3,e))}function Cw(t,e){if(CM(t=gt(t)))return bM("Unsupported field value:",e,t),EM(t,e);if(t instanceof zh)return function(r,i){if(!wM(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Cw(a,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=gt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return r$(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ut.fromDate(r);return{timestampValue:Rh(i.serializer,o)}}if(r instanceof ut){let o=new ut(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Rh(i.serializer,o)}}if(r instanceof Wc)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof qc)return{bytesValue:zA(i.serializer,r._byteString)};if(r instanceof qt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:gw(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Kc)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Mu("VectorValues must only contain numeric values.");return pw(a.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${nf(r)}`)}(t,e)}function EM(t,e){let n={};return IA(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ks(t,(r,i)=>{let o=Cw(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function CM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ut||t instanceof Wc||t instanceof qc||t instanceof qt||t instanceof zh||t instanceof Kc)}function bM(t,e,n){if(!CM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=nf(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function vH(t,e,n){if((e=gt(e))instanceof Gc)return e._internalPath;if(typeof e=="string")return DM(t,e);throw qh("Field path arguments must be of type string or ",t,!1,void 0,n)}var _H=new RegExp("[~\\*/\\[\\]]");function DM(t,e,n){if(e.search(_H)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gc(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function qh(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new U(x.INVALID_ARGUMENT,a+t+u)}function wH(t,e){return t.some(n=>n.isEqual(e))}var Gh=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new qt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new tw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(bw("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},tw=class extends Gh{data(){return super.data()}};function bw(t,e){return typeof e=="string"?DM(t,e):e instanceof Gc?e._internalPath:e._delegate._internalPath}function IH(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new U(x.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Qc=class{},Wh=class extends Qc{};function TM(t,e,...n){let r=[];e instanceof Qc&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof rw).length,a=o.filter(u=>u instanceof nw).length;if(s>1||s>0&&a>0)throw new U(x.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var nw=class t extends Wh{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return AM(e._query,n),new ho(e.firestore,e.converter,Wv(e._query,n))}_parse(e){let n=IM(e.firestore);return function(o,s,a,u,l,h,p){let m;if(l.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new U(x.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){_A(p,h);let v=[];for(let S of p)v.push(vA(u,o,S));m={arrayValue:{values:v}}}else m=vA(u,o,p)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||_A(p,h),m=yH(a,s,p,h==="in"||h==="not-in");return Ke.create(l,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};var rw=class t extends Qc{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:_n.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)AM(s,u),s=Wv(s,u)}(e._query,n),new ho(e.firestore,e.converter,Wv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var iw=class t extends Wh{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new U(x.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new U(x.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ao(o,s)}(e._query,this._field,this._direction);return new ho(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new oi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function SM(t,e="asc"){let n=e,r=bw("orderBy",t);return iw._create(r,n)}function vA(t,e,n){if(typeof(n=gt(n))=="string"){if(n==="")throw new U(x.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xA(e)&&n.indexOf("/")!==-1)throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(ke.fromString(n));if(!G.isDocumentKey(r))throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return HS(t,new G(r))}if(n instanceof qt)return HS(t,n._key);throw new U(x.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${nf(n)}.`)}function _A(t,e){if(!Array.isArray(t)||t.length===0)throw new U(x.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function AM(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new U(x.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new U(x.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var ow=class{convertValue(e,n="none"){switch(so(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Oe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return Ks(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>Oe(s.doubleValue));return new Kc(o)}convertGeoPoint(e){return new Wc(Oe(e.latitude),Oe(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=uw(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(jc(e));default:return null}}convertTimestamp(e){let n=mr(e);return new ut(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=ke.fromString(e);Re(YA(r));let i=new bh(r.get(1),r.get(3)),o=new G(r.popFirst(5));return i.isEqual(n)||gr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function EH(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var no=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},Kh=class extends Gh{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Os(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(bw("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Os=class extends Kh{data(e={}){return super.data(e)}},sw=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new no(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Os(this._firestore,this._userDataWriter,r.key,r,new no(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new U(x.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new no(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Os(i._firestore,i._userDataWriter,a.doc.key,a.doc,new no(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),l=-1,h=-1;return a.type!==0&&(l=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),h=s.indexOf(a.doc.key)),{type:CH(a.type),doc:u,oldIndex:l,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function CH(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Z()}}var Qh=class extends ow{constructor(e){super(),this.firestore=e}convertBytes(e){return new qc(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new qt(this.firestore,null,n)}};function MM(t,e){let n=Lc(t.firestore,Gs),r=mM(t),i=EH(t.converter,e);return bH(n,[mH(IM(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ro.exists(!1))]).then(()=>r)}function Dw(t,...e){var n,r,i;t=gt(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||yA(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(yA(e[s])){let p=e[s];e[s]=(n=p.next)===null||n===void 0?void 0:n.bind(p),e[s+1]=(r=p.error)===null||r===void 0?void 0:r.bind(p),e[s+2]=(i=p.complete)===null||i===void 0?void 0:i.bind(p)}let u,l,h;if(t instanceof qt)l=Lc(t.firestore,Gs),h=fw(t._key.path),u={next:p=>{e[s]&&e[s](DH(l,t,p))},error:e[s+1],complete:e[s+2]};else{let p=Lc(t,ho);l=Lc(p.firestore,Gs),h=p._query;let m=new Qh(l);u={next:v=>{e[s]&&e[s](new sw(l,m,p,v))},error:e[s+1],complete:e[s+2]},IH(t._query)}return function(m,v,S,N){let M=new Q_(N),j=new $_(v,M,S);return m.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return K$(yield fA(m),j)})),()=>{M.za(),m.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return Q$(yield fA(m),j)}))}}(vM(l),h,a,u)}function bH(t,e){return function(r,i){let o=new pr;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return rH(yield fH(r),i,o)})),o.promise}(vM(t),e)}function DH(t,e,n){let r=n.docs.get(e._key),i=new Qh(t);return new Kh(t,i,e._key,r,new no(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ws=i})(Zr),Yr(new rn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new Gs(new Sv(r.getProvider("auth-internal")),new Rv(r.getProvider("app-check-internal")),function(l,h){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new U(x.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bh(l.options.projectId,h)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),et(jS,"4.7.2",e),et(jS,"4.7.2","esm2017")})();var rf=function(){return rf=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},rf.apply(this,arguments)};var AH={includeMetadataChanges:!1};function xM(t,e){return e===void 0&&(e=AH),new fe(function(n){var r=Dw(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function RM(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:rf(rf({},r),(n={},n[e.idField]=t.id,n))}function NM(t){return xM(t,{includeMetadataChanges:!0}).pipe(re(function(e){return e.docs}))}function PM(t,e){return e===void 0&&(e={}),NM(t).pipe(re(function(n){return n.map(function(r){return RM(r,e)})}))}var wn=class{constructor(e){return e}},OM="firestore",Tw=class{constructor(){return wc(OM)}};var Sw=new H("angularfire2.firestore-instances");function MH(t,e){let n=Wd(OM,t,e);return n&&new wn(n)}function xH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new wn(r)}}var RH={provide:Tw,deps:[[new bt,Sw]]},NH={provide:wn,useFactory:MH,deps:[[new bt,Sw],cr]};function kM(t,...e){return et("angularfire",Ki.full,"fst"),An([NH,RH,{provide:Sw,useFactory:xH(t),multi:!0,deps:[Se,xt,Ds,Qi,[new bt,Mc],[new bt,bs],...e]}])}var FM=Ht(PM,!0);var Ys=Ht(MM,!0);var po=Ht(gM,!0);var LM=Ht(yM,!0);var VM=Ht(SM,!0);var jM=Ht(TM,!0);var PH=()=>["/yo"],OH=()=>["/registro"],of=class t{constructor(e,n,r){this.firestore=e;this.router=n;this.auth=r}loginsCollection=[];userMail="";userPass="";mensajeError="";loggedUser="";LogIn(){return I(this,null,function*(){if(!this.userMail||!this.userPass){this.mensajeError="Por favor completa los campos.";return}kS(this.auth,this.userMail,this.userPass).then(e=>{this.router.navigate(["/home"]);let n=po(this.firestore,"logins");return Ys(n,{fecha:new Date,email:this.userMail})}).then(()=>{console.log("Registro de inicio de sesi\xF3n guardado en Firestore.")}).catch(e=>{switch(e.code){case"auth/invalid-email":this.mensajeError="Email inv\xE1lido";break;case"auth/invalid-credential":this.mensajeError="Contrase\xF1a incorrecta";break;case"auth/user-not-found":this.mensajeError="Usuario no encontrado";break;case"auth/missing-password":this.mensajeError="Faltan completar campos";break;default:this.mensajeError="Ocurri\xF3 un error: "+e.message;break}})})}AutoComplete(){this.userMail="sofiadorbe@gmail.com",this.userPass="hola123"}static \u0275fac=function(n){return new(n||t)(Q(wn),Q($i),Q(hr))};static \u0275cmp=nt({type:t,selectors:[["app-login"]],standalone:!0,features:[rt],decls:51,vars:7,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","author","content","Yinka Enoch Adedokun"],[1,"container"],[1,"navbar"],["href","#"],[3,"routerLink"],[1,"container-fluid"],[1,"row","main-content","bg-success","text-center"],[1,"col-md-4","text-center","company__info"],[1,"company__logo"],[1,"fa","fa-android"],[1,"col-md-8","col-xs-12","col-sm-12","login_form"],[1,"row"],["control","",1,"form-group"],["type","text","name","username","id","username","placeholder","Username",1,"form__input",3,"ngModelChange","ngModel"],["type","password","name","password","id","password","placeholder","Password",1,"form__input",3,"ngModelChange","ngModel"],[1,"error-mensaje"],["type","button","value","JUGAR!",1,"btn",3,"click"],["type","button","value","Autocompletar",1,"btn",3,"click"],[1,"container-fluid","text-center","footer"]],template:function(n,r){n&1&&(R(0,"head"),we(1,"meta",0)(2,"meta",1)(3,"meta",2),R(4,"title"),V(5,"Login Page"),P()(),R(6,"body")(7,"div",3)(8,"nav",4)(9,"ul")(10,"li")(11,"a",5),V(12,"Home"),P()(),R(13,"li")(14,"a",5),V(15,"Chat"),P()(),R(16,"li")(17,"a",6),V(18,"Sobre Mi"),P()(),R(19,"li")(20,"a",5),V(21,"Log Out"),P()()()()(),R(22,"div",7)(23,"div",8)(24,"div",9)(25,"span",10)(26,"h2"),we(27,"span",11),P()()(),R(28,"div",12)(29,"div",7)(30,"div",13)(31,"h2"),V(32,"Log In"),P()(),R(33,"div",13)(34,"form",14)(35,"div",13)(36,"input",15),xn("ngModelChange",function(o){return er(r.userMail,o)||(r.userMail=o),o}),P()(),R(37,"div",13)(38,"input",16),xn("ngModelChange",function(o){return er(r.userPass,o)||(r.userPass=o),o}),P()(),R(39,"div",13)(40,"p",17),V(41),P(),R(42,"input",18),$e("click",function(){return r.LogIn()}),P(),R(43,"input",19),$e("click",function(){return r.AutoComplete()}),P()()()(),R(44,"div",13)(45,"p"),V(46,"No tienes una cuenta? "),R(47,"a",6),V(48,"Reg\xEDstrate aqu\xED"),P()()()()()()(),R(49,"div",20),V(50," Coded with \u2665 by Sofia Dorbessan "),P()()),n&2&&(q(17),se("routerLink",Xe(5,PH)),q(19),Mn("ngModel",r.userMail),q(2),Mn("ngModel",r.userPass),q(3),Pi(r.mensajeError),q(6),se("routerLink",Xe(6,OH)))},dependencies:[nn,St,_s,Ud,Wr,vs,Vd,zi,pc],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;background-color:#000;height:100%;overflow:hidden}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.container-fluid[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{margin:0;padding:0}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 300px 10px 20px;position:fixed;width:100%;display:flex;justify-content:center}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.main-content[_ngcontent-%COMP%]{width:50%;border-radius:20px;box-shadow:0 5px 5px #0006;margin:7em auto 2.5em;display:flex;background-color:#fff;overflow:hidden}.company__info[_ngcontent-%COMP%]{background-image:url(https://i.pinimg.com/736x/dc/19/53/dc1953322fa3946096ff13800e2de799.jpg);display:flex;flex-direction:column;justify-content:center;background-size:cover;height:60vh;background-position:center}.fa-android[_ngcontent-%COMP%]{font-size:3em}@media screen and (max-width: 640px){.main-content[_ngcontent-%COMP%]{width:90%}.company__info[_ngcontent-%COMP%]{display:none}.login_form[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px}}@media screen and (min-width: 642px) and (max-width:800px){.main-content[_ngcontent-%COMP%]{width:70%}}.row[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#fff;font-size:60px;font-weight:700;text-shadow:2px 2px 0px #e5ff00,-2px 2px 0px #e5ff00,2px -2px 0px #e5ff00,-2px -2px 0px #e5ff00}.login_form[_ngcontent-%COMP%]{background-color:#fff;border-top-right-radius:20px;border-bottom-right-radius:20px;border-top:1px solid #ccc;border-right:1px solid #ccc}form[_ngcontent-%COMP%]{padding:0 2em}.form__input[_ngcontent-%COMP%]{width:100%;border:0px solid transparent;border-radius:0;border-bottom:1px solid #aaa;padding:1em .5em .5em 2em;outline:none;margin:1.5em auto;transition:all .5s ease}.form__input[_ngcontent-%COMP%]:focus{border-bottom-color:#dee81f;box-shadow:0 0 5px #07070766;border-radius:4px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.btn[_ngcontent-%COMP%]{transition:all .5s ease;width:40%;border-radius:30px;color:#dee81f;font-weight:600;background-color:#fff;border:1px solid #dee81f;margin-top:1.5em;margin-bottom:1em;text-align:center}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{background-color:#dee81f;color:#fff}.footer[_ngcontent-%COMP%]{text-align:center;padding:10px 0;color:#fff;background-color:#000;margin-top:6em}.error-mensaje[_ngcontent-%COMP%]{color:red}"]})};var kH=()=>["/login"],FH=()=>["/"],BM="*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;margin:0;padding:0;background:#f4f4f4;text-align:center}header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-start;height:100vh;background:#333;color:#fff;padding-top:100px}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center;z-index:1000}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;text-align:left}.bio[_ngcontent-%COMP%]{margin-left:20px;padding:20px;border-radius:8px;max-width:500px;text-align:left;margin-top:110px}.mi-foto[_ngcontent-%COMP%]{width:200px;height:auto;border-radius:10%;margin-top:120px}.bio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:18px;line-height:1.8}.game-section[_ngcontent-%COMP%]{margin-top:50px;padding:20px;border-radius:8px;max-width:500px;text-align:left}.game-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px}.game-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;margin-left:20px;text-align:left}.game-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;line-height:1.8}footer[_ngcontent-%COMP%]{background:#333;color:#fff;text-align:center;position:fixed;bottom:0;width:100%;display:flex;justify-content:space-between;align-items:center;padding:10px 40px}.social-media-footer[_ngcontent-%COMP%]{display:flex;margin-left:660px}.social-logo[_ngcontent-%COMP%]{width:40px;height:40px;margin-left:20px}",sf=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-yo"]],standalone:!0,features:[rt],decls:51,vars:4,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"header-content"],["src","yo.png","alt","Sofia Dorbessan",1,"mi-foto"],[1,"bio"],[1,"game-section"],[1,"game-description"],[1,"social-media-footer"],["href","https://www.linkedin.com/in/sofia-dorbessan-24a669210/","target","_blank"],["src","linkedin.png","alt","LinkedIn",1,"social-logo"],["href","https://github.com/sofidor","target","_blank"],["src","github.png","alt","GitHub",1,"social-logo"]],template:function(n,r){n&1&&(R(0,"html",0)(1,"head"),we(2,"meta",1)(3,"meta",2),R(4,"title"),V(5,"Sobre M\xED - Sofia Dorbessan"),P()(),R(6,"body")(7,"div",3)(8,"nav",4)(9,"ul")(10,"li")(11,"a",5),V(12,"Log in"),P()(),R(13,"li")(14,"a",6),V(15,"Chat"),P()(),R(16,"li")(17,"a",5),V(18,"Home"),P()(),R(19,"li")(20,"a",6),V(21,"Log Out"),P()()()()(),R(22,"header")(23,"div",7),we(24,"img",8),R(25,"div",9)(26,"h2"),V(27,"Sofia Dorbessan"),P(),R(28,"p"),V(29,"Soy estudiante de la Tecnicatura Universitaria en Programacion en la UTN (Universidad Tecnologica Nacional). Donde aprendi diferentes lenguaje como: C , C++ , Java Scrip , Python , PHP ,HTML, CSS, entre otros."),P()()(),R(30,"div",10)(31,"h2"),V(32,"Mi Juego - Pacman"),P(),R(33,"div",11)(34,"p"),V(35,"Pacman es un juego de arcade cl\xE1sico lanzado en 1980. El objetivo del juego es controlar a Pacman, una figura circular amarilla, y moverlo a trav\xE9s de un laberinto comiendo todos los puntos mientras se evitan los fantasmas. Si un fantasma toca a Pacman, perder\xE1s una vida."),P(),R(36,"h3"),V(37,"C\xF3mo jugar Pacman"),P(),R(38,"ul")(39,"li"),V(40,"Usa las teclas de flechas para mover a Pacman por el laberinto."),P(),R(41,"li"),V(42,"Colecciona todos los puntos peque\xF1os para avanzar de nivel."),P(),R(43,"li"),V(44,"Evita a los fantasmas: si te tocan, perder\xE1s una vida."),P()()()()(),R(45,"footer")(46,"div",12)(47,"a",13),we(48,"img",14),P(),R(49,"a",15),we(50,"img",16),P()()()()()),n&2&&(q(11),se("routerLink",Xe(2,kH)),q(6),se("routerLink",Xe(3,FH)))},dependencies:[nn,St],styles:[BM,BM]})};var LH=()=>["/login"],VH=()=>["/home"];function jH(t,e){if(t&1&&we(0,"div",7),t&2){let n=e.$implicit,r=e.index,i=Lt().index,o=Lt();se("ngClass",o.getCellClass(n,i,r))}}function UH(t,e){if(t&1&&(R(0,"div"),Ft(1,jH,1,1,"div",6),P()),t&2){let n=e.$implicit;q(),se("ngForOf",n)}}var af=class t{board=[];pacmanPosition={x:1,y:1};ghostPositions=[{x:9,y:9},{x:11,y:9},{x:13,y:9}];ngOnInit(){this.initializeBoard()}initializeBoard(){this.board=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,2,2,1],[1,2,1,2,2,2,2,2,1,2,1,2,2,2,2,2,1,2,2,1],[1,2,1,2,1,1,1,2,1,2,1,2,1,1,1,2,1,2,2,1],[1,2,1,2,1,2,1,2,2,2,2,2,1,2,1,2,1,2,2,1],[1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,2,1,2,2,1],[1,2,2,2,2,2,1,2,1,2,2,2,1,2,2,2,2,2,2,1],[1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1],[1,2,2,2,2,2,1,2,2,2,2,2,1,2,2,2,2,2,2,1],[1,2,1,1,1,2,1,2,1,1,1,2,1,2,1,1,1,2,1,1],[1,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,1],[1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]}movePacman(e,n){let r=this.pacmanPosition.x+e,i=this.pacmanPosition.y+n;r>=0&&r<this.board[0].length&&i>=0&&i<this.board.length&&this.board[i][r]!==1&&(this.pacmanPosition={x:r,y:i},this.board[i][r]===2&&(this.board[i][r]=0))}handleKeyDown(e){switch(e.key){case"ArrowUp":this.movePacman(-1,0);break;case"ArrowDown":this.movePacman(1,0);break;case"ArrowLeft":this.movePacman(0,-1);break;case"ArrowRight":this.movePacman(0,1);break}}getCellClass(e,n,r){if(n===this.pacmanPosition.y&&r===this.pacmanPosition.x)return"pacman";for(let i of this.ghostPositions)if(n===i.y&&r===i.x)return"ghost";return e===0?"coin":e===1?"wall":"path"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-pacman"]],hostBindings:function(n,r){n&1&&$e("keydown",function(o){return r.handleKeyDown(o)},!1,SC)},standalone:!0,features:[rt],decls:18,vars:5,consts:[[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"game-board"],[4,"ngFor","ngForOf"],["class","cell",3,"ngClass",4,"ngFor","ngForOf"],[1,"cell",3,"ngClass"]],template:function(n,r){n&1&&(R(0,"body")(1,"div",0)(2,"nav",1)(3,"ul")(4,"li")(5,"a",2),V(6,"Log in"),P()(),R(7,"li")(8,"a",3),V(9,"Chat"),P()(),R(10,"li")(11,"a",2),V(12,"Home"),P()(),R(13,"li")(14,"a",3),V(15,"Log Out"),P()()()()(),R(16,"div",4),Ft(17,UH,2,1,"div",5),P()()),n&2&&(q(5),se("routerLink",Xe(3,LH)),q(6),se("routerLink",Xe(4,VH)),q(6),se("ngForOf",r.board))},dependencies:[nn,St,Bb,is],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;width:100%;display:flex;justify-content:center;align-items:center;background-color:#000;overflow:hidden}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center;z-index:1000}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.game-board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(20,1fr);grid-template-rows:repeat(20,1fr);width:min(100vw,100vh);height:min(100vw,100vh);gap:2px;background-color:#000;margin-top:70px}.cell[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.wall[_ngcontent-%COMP%]{background-color:#00f}.path[_ngcontent-%COMP%]{background-color:#000;position:relative}.path[_ngcontent-%COMP%]:after{content:"";display:block;background-color:gold;width:30%;height:30%;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.pacman[_ngcontent-%COMP%]{background-color:#ff0;border-radius:50%}.ghost[_ngcontent-%COMP%]{background-color:red;border-radius:50%}']})};var BH=()=>["/login"],$H=()=>["/yo"],cf=class t{constructor(e,n,r){this.auth=e;this.firestore=n;this.router=r}newUserMail="";newUsername="";newUserPass="";newUserRepeatPass="";msjError="";Register(){if(this.newUserPass.length<6){this.msjError="La contrase\xF1a debe tener al menos 6 caracteres";return}this.newUserPass===this.newUserRepeatPass?PS(this.auth,this.newUserMail,this.newUserPass).then(e=>{console.log("Usuario creado correctamente");let n=po(this.firestore,"users");Ys(n,{fecha:new Date,email:this.newUserMail}).then(()=>{this.router.navigate(["/home"])}).catch(r=>{this.msjError="Error al agregar usuario a la base de datos",console.error("Error al agregar documento:",r)})}).catch(e=>{switch(e.code){case"auth/invalid-email":this.msjError="Email inv\xE1lido";break;case"auth/email-already-in-use":this.msjError="Email ya en uso";break;case"auth/missing-password":this.msjError="Faltan completar campos";break;case"auth/weak-password":this.msjError="La contrase\xF1a es demasiado d\xE9bil";break;default:this.msjError="Ocurri\xF3 un error";break}}):this.msjError="Las contrase\xF1as no coinciden"}static \u0275fac=function(n){return new(n||t)(Q(hr),Q(wn),Q($i))};static \u0275cmp=nt({type:t,selectors:[["app-registro"]],standalone:!0,features:[rt],decls:48,vars:8,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","author","content","Yinka Enoch Adedokun"],[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"container-fluid"],[1,"row","main-content","bg-success","text-center"],[1,"col-md-4","text-center","company__info"],[1,"company__logo"],[1,"fa","fa-android"],[1,"col-md-8","col-xs-12","col-sm-12","login_form"],[1,"row"],["control","",1,"form-group"],["type","text","name","username","id","username","placeholder","Email",1,"form__input",3,"ngModelChange","ngModel"],["type","password","name","password","id","password","placeholder","Contrase\xF1a",1,"form__input",3,"ngModelChange","ngModel"],["type","password","name","repeatpassword","id","repeatpassword","placeholder","Repita la contrase\xF1a",1,"form__input",3,"ngModelChange","ngModel"],["type","button",1,"btn",3,"click"],[1,"error-mensaje"],[1,"container-fluid","text-center","footer"]],template:function(n,r){n&1&&(R(0,"head"),we(1,"meta",0)(2,"meta",1)(3,"meta",2),R(4,"title"),V(5,"Registrarme"),P()(),R(6,"body")(7,"div",3)(8,"nav",4)(9,"ul")(10,"li")(11,"a",5),V(12,"Log in"),P()(),R(13,"li")(14,"a",6),V(15,"Chat"),P()(),R(16,"li")(17,"a",5),V(18,"Sobre Mi"),P()(),R(19,"li")(20,"a",6),V(21,"Log Out"),P()()()()(),R(22,"div",7)(23,"div",8)(24,"div",9)(25,"span",10)(26,"h2"),we(27,"span",11),P()()(),R(28,"div",12)(29,"div",7)(30,"div",13)(31,"h2"),V(32,"Registrate"),P()(),R(33,"div",13)(34,"form",14)(35,"div",13)(36,"input",15),xn("ngModelChange",function(o){return er(r.newUserMail,o)||(r.newUserMail=o),o}),P()(),R(37,"div",13)(38,"input",16),xn("ngModelChange",function(o){return er(r.newUserPass,o)||(r.newUserPass=o),o}),P()(),R(39,"div",13)(40,"input",17),xn("ngModelChange",function(o){return er(r.newUserRepeatPass,o)||(r.newUserRepeatPass=o),o}),P()(),R(41,"div",13)(42,"button",18),$e("click",function(){return r.Register()}),V(43,"Registrarme!"),P(),R(44,"p",19),V(45),P()()()()()()()(),R(46,"div",20),V(47," Coded with \u2665 by Sofia Dorbessan "),P()()),n&2&&(q(11),se("routerLink",Xe(6,BH)),q(6),se("routerLink",Xe(7,$H)),q(19),Mn("ngModel",r.newUserMail),q(2),Mn("ngModel",r.newUserPass),q(2),Mn("ngModel",r.newUserRepeatPass),q(5),Pi(r.msjError))},dependencies:[nn,St,_s,Ud,Wr,vs,Vd,zi,pc],styles:[".container-fluid[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;background-color:#000;height:100%;overflow:hidden}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.main-content[_ngcontent-%COMP%]{width:50%;border-radius:20px;box-shadow:0 5px 5px #0006;margin:7em auto 2.5em;display:flex;background-color:#fff;overflow:hidden}.company__info[_ngcontent-%COMP%]{background-image:url(https://i.pinimg.com/736x/dc/19/53/dc1953322fa3946096ff13800e2de799.jpg);display:flex;flex-direction:column;justify-content:center;background-size:cover;height:60vh;background-position:center}.fa-android[_ngcontent-%COMP%]{font-size:3em}@media screen and (max-width: 640px){.main-content[_ngcontent-%COMP%]{width:90%}.company__info[_ngcontent-%COMP%]{display:none}.login_form[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px}}@media screen and (min-width: 642px) and (max-width:800px){.main-content[_ngcontent-%COMP%]{width:70%}}.row[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#fff;font-size:60px;font-weight:700;text-shadow:2px 2px 0px #e5ff00,-2px 2px 0px #e5ff00,2px -2px 0px #e5ff00,-2px -2px 0px #e5ff00}.login_form[_ngcontent-%COMP%]{background-color:#fff;border-top-right-radius:20px;border-bottom-right-radius:20px;border-top:1px solid #ccc;border-right:1px solid #ccc}form[_ngcontent-%COMP%]{padding:0 2em}.form__input[_ngcontent-%COMP%]{width:100%;border:0px solid transparent;border-radius:0;border-bottom:1px solid #aaa;padding:1em .5em .5em 2em;outline:none;margin:1.5em auto;transition:all .5s ease}.form__input[_ngcontent-%COMP%]:focus{border-bottom-color:#dee81f;box-shadow:0 0 5px #07070766;border-radius:4px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.btn[_ngcontent-%COMP%]{transition:all .5s ease;width:40%;border-radius:30px;color:#dee81f;font-weight:600;background-color:#fff;border:1px solid #dee81f;text-align:center}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{background-color:#dee81f;color:#fff}.footer[_ngcontent-%COMP%]{text-align:center;padding:10px 0;color:#fff;background-color:#000;margin-top:6em}.error-mensaje[_ngcontent-%COMP%]{color:red}"]})};var HH=()=>["/login"],zH=()=>["/home"];function qH(t,e){if(t&1&&(R(0,"span",30),V(1),P()),t&2){let n=e.$implicit;q(),Xt(" ",n," ")}}function GH(t,e){t&1&&(Lr(),we(0,"circle",31))}function WH(t,e){t&1&&(Lr(),we(0,"line",32))}function KH(t,e){t&1&&(Lr(),we(0,"line",33))}function QH(t,e){t&1&&(Lr(),we(0,"line",34))}function YH(t,e){t&1&&(Lr(),we(0,"line",35))}function ZH(t,e){t&1&&(Lr(),we(0,"line",36))}function JH(t,e){if(t&1){let n=ns();R(0,"button",37),$e("click",function(){let i=Zo(n).$implicit,o=Lt();return Jo(o.intentarLetra(i))}),V(1),P()}if(t&2){let n=e.$implicit,r=Lt();se("disabled",r.letrasIntentadas.includes(n)),q(),Xt(" ",n," ")}}function XH(t,e){if(t&1){let n=ns();R(0,"button",37),$e("click",function(){let i=Zo(n).$implicit,o=Lt();return Jo(o.intentarLetra(i))}),V(1),P()}if(t&2){let n=e.$implicit,r=Lt();se("disabled",r.letrasIntentadas.includes(n)),q(),Xt(" ",n," ")}}function e4(t,e){if(t&1){let n=ns();R(0,"button",37),$e("click",function(){let i=Zo(n).$implicit,o=Lt();return Jo(o.intentarLetra(i))}),V(1),P()}if(t&2){let n=e.$implicit,r=Lt();se("disabled",r.letrasIntentadas.includes(n)),q(),Xt(" ",n," ")}}function t4(t,e){if(t&1){let n=ns();R(0,"div")(1,"p",38),V(2,"\xA1Felicitaciones! Has adivinado la palabra."),P(),R(3,"button",39),$e("click",function(){Zo(n);let i=Lt();return Jo(i.reiniciarJuego())}),V(4,"Volver a Jugar"),P()()}}function n4(t,e){if(t&1){let n=ns();R(0,"div")(1,"p",38),V(2,"Lo siento, has perdido. La palabra era: "),R(3,"strong"),V(4),P()(),R(5,"button",39),$e("click",function(){Zo(n);let i=Lt();return Jo(i.reiniciarJuego())}),V(6,"Volver a Jugar"),P()()}if(t&2){let n=Lt();q(4),Pi(n.palabra)}}var uf=class t{palabras=["ANGULAR","PROGRAMACION","ELEFANTE","DESARROLLO","HELADO","MIEDO","DEDOS","CELULAR","BICICLETA","NUMEROS","CARAMELOS","DULCE","COMPUTADORA","AUTOMOVIL","MUSICA","LENGUAJE","TELEVISOR","AVION","PERRO","GATO","VENTANA","LIBRO","ESCALERA","FUTBOL","PLANTA","CAMISA","CAF\xC9","SILLA","MOCHILA"];palabra="";alfabeto="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");letrasIntentadas=[];intentosRestantes=6;palabraMostrada=[];ganaste=!1;perdiste=!1;ngOnInit(){this.inicializarJuego()}inicializarJuego(){this.seleccionarPalabraAleatoria(),this.palabraMostrada=Array(this.palabra.length).fill("_"),this.letrasIntentadas=[],this.intentosRestantes=6,this.ganaste=!1,this.perdiste=!1}seleccionarPalabraAleatoria(){let e=Math.floor(Math.random()*this.palabras.length);this.palabra=this.palabras[e]}intentarLetra(e){this.letrasIntentadas.push(e),this.palabra.includes(e)?this.actualizarPalabraMostrada(e):this.intentosRestantes--,this.intentosRestantes===0&&(this.perdiste=!0),this.palabraMostrada.includes("_")||(this.ganaste=!0)}actualizarPalabraMostrada(e){for(let n=0;n<this.palabra.length;n++)this.palabra[n]===e&&(this.palabraMostrada[n]=e)}reiniciarJuego(){this.inicializarJuego()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-ahorcado"]],standalone:!0,features:[rt],decls:52,vars:17,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["http-equiv","X-UA-Compatible","content","ie=edge"],[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"container"],[1,"palabra-contenedor"],[1,"palabra-titulo"],["class","letra",4,"ngFor","ngForOf"],[1,"ahorcado-dibujo"],["width","200","height","250"],["x1","10","y1","230","x2","150","y2","230","stroke","black","stroke-width","5"],["x1","80","y1","230","x2","80","y2","30","stroke","black","stroke-width","5"],["x1","80","y1","30","x2","150","y2","30","stroke","black","stroke-width","5"],["x1","150","y1","30","x2","150","y2","50","stroke","black","stroke-width","5"],["cx","150","cy","70","r","20","stroke","black","stroke-width","5","fill","none",4,"ngIf"],["x1","150","y1","90","x2","150","y2","150","stroke","black","stroke-width","5",4,"ngIf"],["x1","150","y1","110","x2","120","y2","130","stroke","black","stroke-width","5",4,"ngIf"],["x1","150","y1","110","x2","180","y2","130","stroke","black","stroke-width","5",4,"ngIf"],["x1","150","y1","150","x2","120","y2","180","stroke","black","stroke-width","5",4,"ngIf"],["x1","150","y1","150","x2","180","y2","180","stroke","black","stroke-width","5",4,"ngIf"],[1,"botones-letras"],[1,"fila-teclado"],[3,"disabled","click",4,"ngFor","ngForOf"],[1,"contenedor-oportunidades"],[1,"oportunidades"],[4,"ngIf"],[1,"letra"],["cx","150","cy","70","r","20","stroke","black","stroke-width","5","fill","none"],["x1","150","y1","90","x2","150","y2","150","stroke","black","stroke-width","5"],["x1","150","y1","110","x2","120","y2","130","stroke","black","stroke-width","5"],["x1","150","y1","110","x2","180","y2","130","stroke","black","stroke-width","5"],["x1","150","y1","150","x2","120","y2","180","stroke","black","stroke-width","5"],["x1","150","y1","150","x2","180","y2","180","stroke","black","stroke-width","5"],[3,"click","disabled"],[1,"btn-p"],[1,"btn",3,"click"]],template:function(n,r){n&1&&(R(0,"html",0)(1,"head"),we(2,"meta",1)(3,"meta",2)(4,"meta",3),R(5,"title"),V(6,"Juego del Ahorcado"),P()(),R(7,"body")(8,"div",4)(9,"nav",5)(10,"ul")(11,"li")(12,"a",6),V(13,"Log in"),P()(),R(14,"li")(15,"a",7),V(16,"Chat"),P()(),R(17,"li")(18,"a",6),V(19,"Home"),P()(),R(20,"li")(21,"a",7),V(22,"Log Out"),P()()()()(),R(23,"div",8)(24,"div",9)(25,"p",10),V(26," Palabra: "),P(),Ft(27,qH,2,1,"span",11),P(),R(28,"div",12),Lr(),R(29,"svg",13),we(30,"line",14)(31,"line",15)(32,"line",16)(33,"line",17),Ft(34,GH,1,0,"circle",18)(35,WH,1,0,"line",19)(36,KH,1,0,"line",20)(37,QH,1,0,"line",21)(38,YH,1,0,"line",22)(39,ZH,1,0,"line",23),P()(),eC(),R(40,"div",24)(41,"div",25),Ft(42,JH,2,2,"button",26),P(),R(43,"div",25),Ft(44,XH,2,2,"button",26),P(),R(45,"div",25),Ft(46,e4,2,2,"button",26),P()(),R(47,"div",27)(48,"p",28),V(49),P()(),Ft(50,t4,5,0,"div",29)(51,n4,7,1,"div",29),P()()()),n&2&&(q(12),se("routerLink",Xe(15,HH)),q(6),se("routerLink",Xe(16,zH)),q(9),se("ngForOf",r.palabraMostrada),q(7),se("ngIf",r.intentosRestantes<=5),q(),se("ngIf",r.intentosRestantes<=4),q(),se("ngIf",r.intentosRestantes<=3),q(),se("ngIf",r.intentosRestantes<=2),q(),se("ngIf",r.intentosRestantes<=1),q(),se("ngIf",r.intentosRestantes===0),q(3),se("ngForOf",r.alfabeto.slice(0,10)),q(2),se("ngForOf",r.alfabeto.slice(10,19)),q(2),se("ngForOf",r.alfabeto.slice(19)),q(3),Xt("Oportunidades restantes: ",r.intentosRestantes,""),q(),se("ngIf",r.ganaste),q(),se("ngIf",r.perdiste))},dependencies:[St,is,$b,nn],styles:["body[_ngcontent-%COMP%]{background-image:url(https://www.creativefabrica.com/wp-content/uploads/2022/11/28/Hangmans-Noose-Tree-Background-49132024-1.png);background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;margin:0}.container[_ngcontent-%COMP%]{text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;margin-top:20px;padding:20px}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center;z-index:1000}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.palabra-contenedor[_ngcontent-%COMP%]{background-color:#000000a5;padding:15px;border-radius:5px;display:inline-block;margin-top:70px}.palabra-titulo[_ngcontent-%COMP%]{display:inline-block;font-size:24px;font-weight:700;margin-right:10px;border-radius:5px;color:#efef1c}.letra[_ngcontent-%COMP%]{padding:5px;margin:0 5px;font-size:24px;display:inline-block;text-align:center;color:#efef1c}.palabraMostrada[_ngcontent-%COMP%]{font-size:30px;font-weight:700;color:#4caf50;margin-bottom:20px}.ahorcado-dibujo[_ngcontent-%COMP%]{margin:20px auto}svg[_ngcontent-%COMP%]{background-color:#dde81da4;border:1px solid #0b0a0a;border-radius:8px;box-shadow:0 4px 10px #0000001a;padding:10px}.botones-letras[_ngcontent-%COMP%]{margin:20px 0;display:inline-block}.fila-teclado[_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]{margin:5px;padding:10px;font-size:24px;width:50px;height:50px;border-radius:5px;border:1px solid #000000;cursor:pointer;background-color:#ebecb448;transition:background-color .3s ease,box-shadow .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#c6cb289d;box-shadow:0 4px 6px #0000001a}button[_ngcontent-%COMP%]:active{background-color:#d5d5d5;box-shadow:inset 0 4px 6px #0003}button[_ngcontent-%COMP%]:disabled{background-color:#ddd;cursor:not-allowed}.btn[_ngcontent-%COMP%]{margin-top:20px;padding:15px 25px;font-size:24px;width:150px;height:auto;border-radius:8px;border:1px solid #f97272;background-color:#f44336;color:#fff;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#e53935}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-p[_ngcontent-%COMP%]{font-size:28px;color:#333;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:30px;color:#555}p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f44336}.contenedor-oportunidades[_ngcontent-%COMP%]{position:relative}.oportunidades[_ngcontent-%COMP%]{position:absolute;transform:translateY(-750%);padding:10px;font-size:20px;color:#000;background-color:#d3e91262}@media (max-width: 768px){button[_ngcontent-%COMP%]{width:50px;height:50px;font-size:18px}.btn[_ngcontent-%COMP%]{width:120px;padding:12px 20px;font-size:20px}h1[_ngcontent-%COMP%]{font-size:28px}}"]})};var lf=class t{firestore=L(wn);guardarChats(e){let n=po(this.firestore,"chats");return Ys(n,e)}obtenerChats(){let e=po(this.firestore,"chats"),n=jM(e,VM("timestamp","asc"));return FM(n,{idField:"id"}).pipe(re(r=>r.map(i=>ue(F({},i),{timestamp:i.timestamp.toDate()}))))}static \u0275fac=function(n){return new(n||t)};static \u0275prov=W({token:t,factory:t.\u0275fac,providedIn:"root"})};function i4(t,e){if(t&1&&(R(0,"div",7)(1,"p")(2,"strong"),V(3),P(),V(4),R(5,"span",8),V(6),Wg(7,"date"),P()()()),t&2){let n=e.$implicit;q(3),Xt("",n.nombre,":"),q(),Xt(" ",n.texto," "),q(2),Xt("(",pb(7,3,n.timestamp,"short"),")")}}var df=class t{constructor(e){this.chatService=e}message="";messages$;ngOnInit(){this.messages$=this.chatService.obtenerChats()}sendMessage(){if(this.message.trim()){let e={texto:this.message,timestamp:new Date,nombre:"Usuario"};this.chatService.guardarChats(e).then(()=>{this.message=""}).catch(n=>{console.error("Error enviando el mensaje:",n)})}}static \u0275fac=function(n){return new(n||t)(Q(lf))};static \u0275cmp=nt({type:t,selectors:[["app-chat"]],standalone:!0,features:[rt],decls:11,vars:4,consts:[[1,"chat-container"],[1,"chat-header"],[1,"chat-messages"],["class","message-item",4,"ngFor","ngForOf"],[1,"chat-input"],["placeholder","Escribe un mensaje...",3,"ngModelChange","ngModel"],[3,"click"],[1,"message-item"],[1,"time"]],template:function(n,r){n&1&&(R(0,"div",0)(1,"div",1)(2,"h2"),V(3,"Chat en Vivo"),P()(),R(4,"div",2),Ft(5,i4,8,6,"div",3),Wg(6,"async"),P(),R(7,"div",4)(8,"input",5),xn("ngModelChange",function(o){return er(r.message,o)||(r.message=o),o}),P(),R(9,"button",6),$e("click",function(){return r.sendMessage()}),V(10,"Enviar"),P()()()),n&2&&(q(5),se("ngForOf",fb(6,2,r.messages$)),q(3),Mn("ngModel",r.message))},dependencies:[St,is,zb,qb,_s,Wr,vs,zi],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100%}.chat-header[_ngcontent-%COMP%]{background-color:#2196f3;color:#fff;padding:10px;text-align:center}.chat-messages[_ngcontent-%COMP%]{flex:1;padding:10px;background-color:#f1f1f1;overflow-y:auto}.message-item[_ngcontent-%COMP%]{padding:5px;margin-bottom:5px;background-color:#fff;border-radius:5px}.chat-input[_ngcontent-%COMP%]{display:flex;padding:10px}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px;font-size:16px}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px;background-color:#2196f3;color:#fff;border:none;cursor:pointer}"]})};var $M=[{path:"login",component:of},{path:"home",component:xd},{path:"registro",component:cf},{path:"yo",component:sf},{path:"pacman",component:af},{path:"ahorcado",component:uf},{path:"chat",component:df},{path:"",redirectTo:"/login",pathMatch:"full"}];var HM={providers:[Ib({eventCoalescing:!0}),LD($M),kT(()=>FT({projectId:"salajuegos-4ae7b",appId:"1:503761293861:web:ab3251c9869b57c5df25cc",storageBucket:"salajuegos-4ae7b.appspot.com",apiKey:"AIzaSyA4ILBSXBbhBV67ikiunUgSE08pFJX5aMc",authDomain:"salajuegos-4ae7b.firebaseapp.com",messagingSenderId:"503761293861"})),NS(()=>OS()),kM(()=>LM())]};var hf=class t{title="ejercicio1";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=nt({type:t,selectors:[["app-root"]],standalone:!0,features:[rt],decls:1,vars:0,template:function(n,r){n&1&&we(0,"router-outlet")},dependencies:[Wm]})};eD(hf,HM).catch(t=>console.error(t));
