var FS=Object.defineProperty,LS=Object.defineProperties;var VS=Object.getOwnPropertyDescriptors;var O_=Object.getOwnPropertySymbols,jS=Object.getPrototypeOf,US=Object.prototype.hasOwnProperty,BS=Object.prototype.propertyIsEnumerable,$S=Reflect.get;var k_=(t,e,n)=>e in t?FS(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,F=(t,e)=>{for(var n in e||={})US.call(e,n)&&k_(t,n,e[n]);if(O_)for(var n of O_(e))BS.call(e,n)&&k_(t,n,e[n]);return t},se=(t,e)=>LS(t,VS(e));var nr=(t,e,n)=>$S(jS(t),n,e);var I=(t,e,n)=>new Promise((r,i)=>{var o=u=>{try{c(n.next(u))}catch(l){i(l)}},s=u=>{try{c(n.throw(u))}catch(l){i(l)}},c=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);c((n=n.apply(t,e)).next())});function F_(t,e){return Object.is(t,e)}var Ve=null,Ac=!1,Mc=1,Cn=Symbol("SIGNAL");function pe(t){let e=Ve;return Ve=t,e}function L_(){return Ve}var Ls={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Dh(t){if(Ac)throw new Error("");if(Ve===null)return;Ve.consumerOnSignalRead(t);let e=Ve.nextProducerIndex++;if(Pc(Ve),e<Ve.producerNode.length&&Ve.producerNode[e]!==t&&Fs(Ve)){let n=Ve.producerNode[e];Nc(n,Ve.producerIndexOfThis[e])}Ve.producerNode[e]!==t&&(Ve.producerNode[e]=t,Ve.producerIndexOfThis[e]=Fs(Ve)?B_(t,Ve,e):0),Ve.producerLastReadVersion[e]=t.version}function HS(){Mc++}function V_(t){if(!(Fs(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===Mc)){if(!t.producerMustRecompute(t)&&!Sh(t)){t.dirty=!1,t.lastCleanEpoch=Mc;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=Mc}}function j_(t){if(t.liveConsumerNode===void 0)return;let e=Ac;Ac=!0;try{for(let n of t.liveConsumerNode)n.dirty||zS(n)}finally{Ac=e}}function U_(){return Ve?.consumerAllowSignalWrites!==!1}function zS(t){t.dirty=!0,j_(t),t.consumerMarkedDirty?.(t)}function Rc(t){return t&&(t.nextProducerIndex=0),pe(t)}function Th(t,e){if(pe(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Fs(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Nc(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Sh(t){Pc(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(V_(n),r!==n.version))return!0}return!1}function Ah(t){if(Pc(t),Fs(t))for(let e=0;e<t.producerNode.length;e++)Nc(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function B_(t,e,n){if($_(t),t.liveConsumerNode.length===0&&H_(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=B_(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Nc(t,e){if($_(t),t.liveConsumerNode.length===1&&H_(t))for(let r=0;r<t.producerNode.length;r++)Nc(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];Pc(i),i.producerIndexOfThis[r]=e}}function Fs(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function Pc(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function $_(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function H_(t){return t.producerNode!==void 0}function z_(t){let e=Object.create(qS);e.computation=t;let n=()=>{if(V_(e),Dh(e),e.value===xc)throw e.error;return e.value};return n[Cn]=e,n}var bh=Symbol("UNSET"),Ch=Symbol("COMPUTING"),xc=Symbol("ERRORED"),qS=se(F({},Ls),{value:bh,dirty:!0,error:null,equal:F_,producerMustRecompute(t){return t.value===bh||t.value===Ch},producerRecomputeValue(t){if(t.value===Ch)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Ch;let n=Rc(t),r;try{r=t.computation()}catch(i){r=xc,t.error=i}finally{Th(t,n)}if(e!==bh&&e!==xc&&r!==xc&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function GS(){throw new Error}var q_=GS;function G_(){q_()}function W_(t){q_=t}var WS=null;function K_(t){let e=Object.create(Y_);e.value=t;let n=()=>(Dh(e),e.value);return n[Cn]=e,n}function Mh(t,e){U_()||G_(),t.equal(t.value,e)||(t.value=e,KS(t))}function Q_(t,e){U_()||G_(),Mh(t,e(t.value))}var Y_=se(F({},Ls),{equal:F_,value:void 0});function KS(t){t.version++,HS(),j_(t),WS?.()}function Q(t){return typeof t=="function"}function Bi(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Oc=Bi(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ur(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var Ae=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(Q(r))try{r()}catch(o){e=o instanceof Oc?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{Z_(o)}catch(s){e=e??[],s instanceof Oc?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Oc(e)}}add(e){var n;if(e&&e!==this)if(this.closed)Z_(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ur(n,e)}remove(e){let{_finalizers:n}=this;n&&Ur(n,e),e instanceof t&&e._removeParent(this)}};Ae.EMPTY=(()=>{let t=new Ae;return t.closed=!0,t})();var xh=Ae.EMPTY;function kc(t){return t instanceof Ae||t&&"closed"in t&&Q(t.remove)&&Q(t.add)&&Q(t.unsubscribe)}function Z_(t){Q(t)?t():t.unsubscribe()}var zt={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var $i={setTimeout(t,e,...n){let{delegate:r}=$i;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=$i;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Fc(t){$i.setTimeout(()=>{let{onUnhandledError:e}=zt;if(e)e(t);else throw t})}function Vs(){}var J_=Rh("C",void 0,void 0);function X_(t){return Rh("E",void 0,t)}function ew(t){return Rh("N",t,void 0)}function Rh(t,e,n){return{kind:t,value:e,error:n}}var Br=null;function Hi(t){if(zt.useDeprecatedSynchronousErrorHandling){let e=!Br;if(e&&(Br={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Br;if(Br=null,n)throw r}}else t()}function tw(t){zt.useDeprecatedSynchronousErrorHandling&&Br&&(Br.errorThrown=!0,Br.error=t)}var $r=class extends Ae{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,kc(e)&&e.add(this)):this.destination=ZS}static create(e,n,r){return new zi(e,n,r)}next(e){this.isStopped?Ph(ew(e),this):this._next(e)}error(e){this.isStopped?Ph(X_(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Ph(J_,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},QS=Function.prototype.bind;function Nh(t,e){return QS.call(t,e)}var Oh=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Lc(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Lc(r)}else Lc(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Lc(n)}}},zi=class extends $r{constructor(e,n,r){super();let i;if(Q(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&zt.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Nh(e.next,o),error:e.error&&Nh(e.error,o),complete:e.complete&&Nh(e.complete,o)}):i=e}this.destination=new Oh(i)}};function Lc(t){zt.useDeprecatedSynchronousErrorHandling?tw(t):Fc(t)}function YS(t){throw t}function Ph(t,e){let{onStoppedNotification:n}=zt;n&&$i.setTimeout(()=>n(t,e))}var ZS={closed:!0,next:Vs,error:YS,complete:Vs};var qi=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Et(t){return t}function kh(...t){return Fh(t)}function Fh(t){return t.length===0?Et:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var de=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=XS(n)?n:new zi(n,r,i);return Hi(()=>{let{operator:s,source:c}=this;o.add(s?s.call(o,c):c?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=nw(r),new r((i,o)=>{let s=new zi({next:c=>{try{n(c)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[qi](){return this}pipe(...n){return Fh(n)(this)}toPromise(n){return n=nw(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function nw(t){var e;return(e=t??zt.Promise)!==null&&e!==void 0?e:Promise}function JS(t){return t&&Q(t.next)&&Q(t.error)&&Q(t.complete)}function XS(t){return t&&t instanceof $r||JS(t)&&kc(t)}function Lh(t){return Q(t?.lift)}function he(t){return e=>{if(Lh(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ae(t,e,n,r,i){return new Vh(t,e,n,r,i)}var Vh=class extends $r{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(c){try{n(c)}catch(u){e.error(u)}}:super._next,this._error=i?function(c){try{i(c)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Gi(){return he((t,e)=>{let n=null;t._refCount++;let r=ae(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Wi=class extends de{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Lh(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Ae;let n=this.getSubject();e.add(this.source.subscribe(ae(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Ae.EMPTY)}return e}refCount(){return Gi()(this)}};var rw=Bi(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var qe=(()=>{class t extends de{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Vc(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new rw}next(n){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Hi(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?xh:(this.currentObservers=null,o.push(n),new Ae(()=>{this.currentObservers=null,Ur(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new de;return n.source=this,n}}return t.create=(e,n)=>new Vc(e,n),t})(),Vc=class extends qe{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:xh}};var Xe=class extends qe{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var jh={now(){return(jh.delegate||Date).now()},delegate:void 0};var jc=class extends Ae{constructor(e,n){super()}schedule(e,n=0){return this}};var js={setInterval(t,e,...n){let{delegate:r}=js;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=js;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Ki=class extends jc{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return js.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&js.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ur(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Qi=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Qi.now=jh.now;var Yi=class extends Qi{constructor(e,n=Qi.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Uh=new Yi(Ki);var Uc=class extends Ki{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Bc=class extends Yi{};var Bh=new Bc(Uc);var bt=new de(t=>t.complete());function iw(t){return t&&Q(t.schedule)}function ow(t){return t[t.length-1]}function $c(t){return Q(ow(t))?t.pop():void 0}function rr(t){return iw(ow(t))?t.pop():void 0}function $h(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function aw(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function c(f){try{l(r.next(f))}catch(g){s(g)}}function u(f){try{l(r.throw(f))}catch(g){s(g)}}function l(f){f.done?o(f.value):i(f.value).then(c,u)}l((r=r.apply(t,e||[])).next())})}function sw(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Hr(t){return this instanceof Hr?(this.v=t,this):new Hr(t)}function cw(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),c("next"),c("throw"),c("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(w){return function(A){return Promise.resolve(A).then(w,g)}}function c(w,A){r[w]&&(i[w]=function(O){return new Promise(function(P,j){o.push([w,O,P,j])>1||u(w,O)})},A&&(i[w]=A(i[w])))}function u(w,A){try{l(r[w](A))}catch(O){_(o[0][3],O)}}function l(w){w.value instanceof Hr?Promise.resolve(w.value.v).then(f,g):_(o[0][2],w)}function f(w){u("next",w)}function g(w){u("throw",w)}function _(w,A){w(A),o.shift(),o.length&&u(o[0][0],o[0][1])}}function uw(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sw=="function"?sw(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(c,u){s=t[o](s),i(c,u,s.done,s.value)})}}function i(o,s,c,u){Promise.resolve(u).then(function(l){o({value:l,done:c})},s)}}var Hc=t=>t&&typeof t.length=="number"&&typeof t!="function";function zc(t){return Q(t?.then)}function qc(t){return Q(t[qi])}function Gc(t){return Symbol.asyncIterator&&Q(t?.[Symbol.asyncIterator])}function Wc(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function eA(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Kc=eA();function Qc(t){return Q(t?.[Kc])}function Yc(t){return cw(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Hr(n.read());if(i)return yield Hr(void 0);yield yield Hr(r)}}finally{n.releaseLock()}})}function Zc(t){return Q(t?.getReader)}function Ne(t){if(t instanceof de)return t;if(t!=null){if(qc(t))return tA(t);if(Hc(t))return nA(t);if(zc(t))return rA(t);if(Gc(t))return lw(t);if(Qc(t))return iA(t);if(Zc(t))return oA(t)}throw Wc(t)}function tA(t){return new de(e=>{let n=t[qi]();if(Q(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function nA(t){return new de(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function rA(t){return new de(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Fc)})}function iA(t){return new de(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function lw(t){return new de(e=>{sA(t,e).catch(n=>e.error(n))})}function oA(t){return lw(Yc(t))}function sA(t,e){var n,r,i,o;return aw(this,void 0,void 0,function*(){try{for(n=uw(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function vt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function ir(t,e=0){return he((n,r)=>{n.subscribe(ae(r,i=>vt(r,t,()=>r.next(i),e),()=>vt(r,t,()=>r.complete(),e),i=>vt(r,t,()=>r.error(i),e)))})}function or(t,e=0){return he((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function dw(t,e){return Ne(t).pipe(or(e),ir(e))}function hw(t,e){return Ne(t).pipe(or(e),ir(e))}function fw(t,e){return new de(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function pw(t,e){return new de(n=>{let r;return vt(n,e,()=>{r=t[Kc](),vt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>Q(r?.return)&&r.return()})}function Jc(t,e){if(!t)throw new Error("Iterable cannot be null");return new de(n=>{vt(n,e,()=>{let r=t[Symbol.asyncIterator]();vt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function gw(t,e){return Jc(Yc(t),e)}function mw(t,e){if(t!=null){if(qc(t))return dw(t,e);if(Hc(t))return fw(t,e);if(zc(t))return hw(t,e);if(Gc(t))return Jc(t,e);if(Qc(t))return pw(t,e);if(Zc(t))return gw(t,e)}throw Wc(t)}function Me(t,e){return e?mw(t,e):Ne(t)}function Y(...t){let e=rr(t);return Me(t,e)}function Zi(t,e){let n=Q(t)?t:()=>t,r=i=>i.error(n());return new de(e?i=>e.schedule(r,0,i):r)}function Hh(t){return!!t&&(t instanceof de||Q(t.lift)&&Q(t.subscribe))}var Dn=Bi(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function oe(t,e){return he((n,r)=>{let i=0;n.subscribe(ae(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:aA}=Array;function cA(t,e){return aA(e)?t(...e):t(e)}function Xc(t){return oe(e=>cA(t,e))}var{isArray:uA}=Array,{getPrototypeOf:lA,prototype:dA,keys:hA}=Object;function eu(t){if(t.length===1){let e=t[0];if(uA(e))return{args:e,keys:null};if(fA(e)){let n=hA(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function fA(t){return t&&typeof t=="object"&&lA(t)===dA}function tu(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function nu(...t){let e=rr(t),n=$c(t),{args:r,keys:i}=eu(t);if(r.length===0)return Me([],e);let o=new de(pA(r,e,i?s=>tu(i,s):Et));return n?o.pipe(Xc(n)):o}function pA(t,e,n=Et){return r=>{yw(e,()=>{let{length:i}=t,o=new Array(i),s=i,c=i;for(let u=0;u<i;u++)yw(e,()=>{let l=Me(t[u],e),f=!1;l.subscribe(ae(r,g=>{o[u]=g,f||(f=!0,c--),c||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function yw(t,e,n){t?vt(n,t,e):e()}function vw(t,e,n,r,i,o,s,c){let u=[],l=0,f=0,g=!1,_=()=>{g&&!u.length&&!l&&e.complete()},w=O=>l<r?A(O):u.push(O),A=O=>{o&&e.next(O),l++;let P=!1;Ne(n(O,f++)).subscribe(ae(e,j=>{i?.(j),o?w(j):e.next(j)},()=>{P=!0},void 0,()=>{if(P)try{for(l--;u.length&&l<r;){let j=u.shift();s?vt(e,s,()=>A(j)):A(j)}_()}catch(j){e.error(j)}}))};return t.subscribe(ae(e,w,()=>{g=!0,_()})),()=>{c?.()}}function je(t,e,n=1/0){return Q(e)?je((r,i)=>oe((o,s)=>e(r,o,i,s))(Ne(t(r,i))),n):(typeof e=="number"&&(n=e),he((r,i)=>vw(r,i,t,n)))}function zh(t=1/0){return je(Et,t)}function _w(){return zh(1)}function Ji(...t){return _w()(Me(t,rr(t)))}function ru(t){return new de(e=>{Ne(t()).subscribe(e)})}function qh(...t){let e=$c(t),{args:n,keys:r}=eu(t),i=new de(o=>{let{length:s}=n;if(!s){o.complete();return}let c=new Array(s),u=s,l=s;for(let f=0;f<s;f++){let g=!1;Ne(n[f]).subscribe(ae(o,_=>{g||(g=!0,l--),c[f]=_},()=>u--,void 0,()=>{(!u||!g)&&(l||o.next(r?tu(r,c):c),o.complete())}))}});return e?i.pipe(Xc(e)):i}function qt(t,e){return he((n,r)=>{let i=0;n.subscribe(ae(r,o=>t.call(e,o,i++)&&r.next(o)))})}function sr(t){return he((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ae(n,void 0,void 0,s=>{o=Ne(t(s,sr(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function ww(t,e,n,r,i){return(o,s)=>{let c=n,u=e,l=0;o.subscribe(ae(s,f=>{let g=l++;u=c?t(u,f,g):(c=!0,f),r&&s.next(u)},i&&(()=>{c&&s.next(u),s.complete()})))}}function Xi(t,e){return Q(e)?je(t,e,1):je(t,1)}function ar(t){return he((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Tn(t){return t<=0?()=>bt:he((e,n)=>{let r=0;e.subscribe(ae(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function Gh(t){return oe(()=>t)}function iu(t=gA){return he((e,n)=>{let r=!1;e.subscribe(ae(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function gA(){return new Dn}function Us(t){return he((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function en(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qt((i,o)=>t(i,o,r)):Et,Tn(1),n?ar(e):iu(()=>new Dn))}function eo(t){return t<=0?()=>bt:he((e,n)=>{let r=[];e.subscribe(ae(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function Wh(t,e){let n=arguments.length>=2;return r=>r.pipe(t?qt((i,o)=>t(i,o,r)):Et,eo(1),n?ar(e):iu(()=>new Dn))}function Kh(t,e){return he(ww(t,e,arguments.length>=2,!0))}function Qh(...t){let e=rr(t);return he((n,r)=>{(e?Ji(t,n,e):Ji(t,n)).subscribe(r)})}function Gt(t,e){return he((n,r)=>{let i=null,o=0,s=!1,c=()=>s&&!i&&r.complete();n.subscribe(ae(r,u=>{i?.unsubscribe();let l=0,f=o++;Ne(t(u,f)).subscribe(i=ae(r,g=>r.next(e?e(u,g,f,l++):g),()=>{i=null,c()}))},()=>{s=!0,c()}))})}function Yh(t){return he((e,n)=>{Ne(t).subscribe(ae(n,()=>n.complete(),Vs)),!n.closed&&e.subscribe(n)})}function Ue(t,e,n){let r=Q(t)||e||n?{next:t,error:e,complete:n}:t;return r?he((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let c=!0;i.subscribe(ae(o,u=>{var l;(l=r.next)===null||l===void 0||l.call(r,u),o.next(u)},()=>{var u;c=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var l;c=!1,(l=r.error)===null||l===void 0||l.call(r,u),o.error(u)},()=>{var u,l;c&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(l=r.finalize)===null||l===void 0||l.call(r)}))}):Et}var aI="https://g.co/ng/security#xss",B=class extends Error{constructor(e,n){super(Xf(e,n)),this.code=e}};function Xf(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Zs(t){return{toString:t}.toString()}var ou="__parameters__";function mA(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function cI(t,e,n){return Zs(()=>{let r=mA(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return c.annotation=s,c;function c(u,l,f){let g=u.hasOwnProperty(ou)?u[ou]:Object.defineProperty(u,ou,{value:[]})[ou];for(;g.length<=f;)g.push(null);return(g[f]=g[f]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var df=globalThis;function Ee(t){for(let e in t)if(t[e]===Ee)return e;throw Error("Could not find renamed property on target object.")}function yA(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function ht(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(ht).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Iw(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var vA=Ee({__forward_ref__:Ee});function _o(t){return t.__forward_ref__=_o,t.toString=function(){return ht(this())},t}function dt(t){return uI(t)?t():t}function uI(t){return typeof t=="function"&&t.hasOwnProperty(vA)&&t.__forward_ref__===_o}function q(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function ti(t){return{providers:t.providers||[],imports:t.imports||[]}}function ju(t){return Ew(t,dI)||Ew(t,hI)}function lI(t){return ju(t)!==null}function Ew(t,e){return t.hasOwnProperty(e)?t[e]:null}function _A(t){let e=t&&(t[dI]||t[hI]);return e||null}function bw(t){return t&&(t.hasOwnProperty(Cw)||t.hasOwnProperty(wA))?t[Cw]:null}var dI=Ee({\u0275prov:Ee}),Cw=Ee({\u0275inj:Ee}),hI=Ee({ngInjectableDef:Ee}),wA=Ee({ngInjectorDef:Ee}),$=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=q({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function fI(t){return t&&!!t.\u0275providers}var IA=Ee({\u0275cmp:Ee}),EA=Ee({\u0275dir:Ee}),bA=Ee({\u0275pipe:Ee}),CA=Ee({\u0275mod:Ee}),gu=Ee({\u0275fac:Ee}),Hs=Ee({__NG_ELEMENT_ID__:Ee}),Dw=Ee({__NG_ENV_ID__:Ee});function Uu(t){return typeof t=="string"?t:t==null?"":String(t)}function DA(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Uu(t)}function TA(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new B(-200,t)}function ep(t,e){throw new B(-201,!1)}var te=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(te||{}),hf;function pI(){return hf}function Ot(t){let e=hf;return hf=t,e}function gI(t,e,n){let r=ju(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&te.Optional)return null;if(e!==void 0)return e;ep(t,"Injector")}var SA={},zs=SA,ff="__NG_DI_FLAG__",mu="ngTempTokenPath",AA="ngTokenPath",MA=/\n/gm,xA="\u0275",Tw="__source",io;function RA(){return io}function cr(t){let e=io;return io=t,e}function NA(t,e=te.Default){if(io===void 0)throw new B(-203,!1);return io===null?gI(t,void 0,e):io.get(t,e&te.Optional?null:void 0,e)}function re(t,e=te.Default){return(pI()||NA)(dt(t),e)}function L(t,e=te.Default){return re(t,Bu(e))}function Bu(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function pf(t){let e=[];for(let n=0;n<t.length;n++){let r=dt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new B(900,!1);let i,o=te.Default;for(let s=0;s<r.length;s++){let c=r[s],u=PA(c);typeof u=="number"?u===-1?i=c.token:o|=u:i=c}e.push(re(i,o))}else e.push(re(r))}return e}function mI(t,e){return t[ff]=e,t.prototype[ff]=e,t}function PA(t){return t[ff]}function OA(t,e,n,r){let i=t[mu];throw e[Tw]&&i.unshift(e[Tw]),t.message=kA(`
`+t.message,i,n,r),t[AA]=i,t[mu]=null,t}function kA(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==xA?t.slice(2):t;let i=ht(e);if(Array.isArray(e))i=e.map(ht).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let c=e[s];o.push(s+":"+(typeof c=="string"?JSON.stringify(c):ht(c)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(MA,`
  `)}`}var pt=mI(cI("Optional"),8);var yI=mI(cI("SkipSelf"),4);function so(t,e){let n=t.hasOwnProperty(gu);return n?t[gu]:null}function tp(t,e){t.forEach(n=>Array.isArray(n)?tp(n,e):e(n))}function vI(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function yu(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function FA(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function LA(t,e,n){let r=Js(t,e);return r>=0?t[r|1]=n:(r=~r,FA(t,r,e,n)),r}function Zh(t,e){let n=Js(t,e);if(n>=0)return t[n|1]}function Js(t,e){return VA(t,e,1)}function VA(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ao={},kt=[],co=new $(""),_I=new $("",-1),wI=new $(""),vu=class{get(e,n=zs){if(n===zs){let r=new Error(`NullInjectorError: No provider for ${ht(e)}!`);throw r.name="NullInjectorError",r}return n}},II=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(II||{}),rn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(rn||{}),dr=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(dr||{});function jA(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function gf(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],c=n[r++];t.setAttribute(e,s,c,o)}else{let o=i,s=n[++r];UA(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function EI(t){return t===3||t===4||t===6}function UA(t){return t.charCodeAt(0)===64}function qs(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Sw(t,n,i,null,e[++r]):Sw(t,n,i,null,null))}}return t}function Sw(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let c=t[o++];if(typeof c=="number"){if(c===e){s=-1;break}else if(c>e){s=o-1;break}}}for(;o<t.length;){let c=t[o];if(typeof c=="number")break;if(c===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var bI="ng-template";function BA(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&jA(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(np(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function np(t){return t.type===4&&t.value!==bI}function $A(t,e,n){let r=t.type===4&&!n?bI:t.value;return e===r}function HA(t,e,n){let r=4,i=t.attrs,o=i!==null?GA(i):0,s=!1;for(let c=0;c<e.length;c++){let u=e[c];if(typeof u=="number"){if(!s&&!Wt(r)&&!Wt(u))return!1;if(s&&Wt(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!$A(t,u,n)||u===""&&e.length===1){if(Wt(r))return!1;s=!0}}else if(r&8){if(i===null||!BA(t,i,u,n)){if(Wt(r))return!1;s=!0}}else{let l=e[++c],f=zA(u,i,np(t),n);if(f===-1){if(Wt(r))return!1;s=!0;continue}if(l!==""){let g;if(f>o?g="":g=i[f+1].toLowerCase(),r&2&&l!==g){if(Wt(r))return!1;s=!0}}}}return Wt(r)||s}function Wt(t){return(t&1)===0}function zA(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let c=e[++i];for(;typeof c=="string";)c=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return WA(e,t)}function qA(t,e,n=!1){for(let r=0;r<e.length;r++)if(HA(t,e[r],n))return!0;return!1}function GA(t){for(let e=0;e<t.length;e++){let n=t[e];if(EI(n))return e}return t.length}function WA(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Aw(t,e){return t?":not("+e.trim()+")":e}function KA(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let c=t[++n];i+="["+s+(c.length>0?'="'+c+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Wt(s)&&(e+=Aw(o,i),i=""),r=s,o=o||!Wt(r);n++}return i!==""&&(e+=Aw(o,i)),e}function QA(t){return t.map(KA).join(",")}function YA(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Wt(i))break;i=o}r++}return{attrs:e,classes:n}}function Ge(t){return Zs(()=>{let e=AI(t),n=se(F({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===II.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||rn.Emulated,styles:t.styles||kt,_:null,schemas:t.schemas||null,tView:null,id:""});MI(n);let r=t.dependencies;return n.directiveDefs=xw(r,!1),n.pipeDefs=xw(r,!0),n.id=XA(n),n})}function ZA(t){return Wr(t)||CI(t)}function JA(t){return t!==null}function ni(t){return Zs(()=>({type:t.type,bootstrap:t.bootstrap||kt,declarations:t.declarations||kt,imports:t.imports||kt,exports:t.exports||kt,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Mw(t,e){if(t==null)return ao;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,c=dr.None;Array.isArray(i)?(c=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=c!==dr.None?[r,c]:r,e[o]=s):n[o]=r}return n}function ot(t){return Zs(()=>{let e=AI(t);return MI(e),e})}function Wr(t){return t[IA]||null}function CI(t){return t[EA]||null}function DI(t){return t[bA]||null}function TI(t){let e=Wr(t)||CI(t)||DI(t);return e!==null?e.standalone:!1}function SI(t,e){let n=t[CA]||null;if(!n&&e===!0)throw new Error(`Type ${ht(t)} does not have '\u0275mod' property.`);return n}function AI(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ao,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||kt,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Mw(t.inputs,e),outputs:Mw(t.outputs),debugInfo:null}}function MI(t){t.features?.forEach(e=>e(t))}function xw(t,e){if(!t)return null;let n=e?DI:ZA;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(JA)}function XA(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function cn(t){return{\u0275providers:t}}function eM(...t){return{\u0275providers:xI(!0,t),\u0275fromNgModule:!0}}function xI(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return tp(e,s=>{let c=s;mf(c,o,[],r)&&(i||=[],i.push(c))}),i!==void 0&&RI(i,o),n}function RI(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];rp(i,o=>{e(o,r)})}}function mf(t,e,n,r){if(t=dt(t),!t)return!1;let i=null,o=bw(t),s=!o&&Wr(t);if(!o&&!s){let u=t.ngModule;if(o=bw(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let c=r.has(i);if(s){if(c)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let l of u)mf(l,e,n,r)}}else if(o){if(o.imports!=null&&!c){r.add(i);let l;try{tp(o.imports,f=>{mf(f,e,n,r)&&(l||=[],l.push(f))})}finally{}l!==void 0&&RI(l,e)}if(!c){let l=so(i)||(()=>new i);e({provide:i,useFactory:l,deps:kt},i),e({provide:wI,useValue:i,multi:!0},i),e({provide:co,useValue:()=>re(i),multi:!0},i)}let u=o.providers;if(u!=null&&!c){let l=t;rp(u,f=>{e(f,l)})}}else return!1;return i!==t&&t.providers!==void 0}function rp(t,e){for(let n of t)fI(n)&&(n=n.\u0275providers),Array.isArray(n)?rp(n,e):e(n)}var tM=Ee({provide:String,useValue:Ee});function NI(t){return t!==null&&typeof t=="object"&&tM in t}function nM(t){return!!(t&&t.useExisting)}function rM(t){return!!(t&&t.useFactory)}function uo(t){return typeof t=="function"}function iM(t){return!!t.useClass}var $u=new $(""),lu={},oM={},Jh;function ip(){return Jh===void 0&&(Jh=new vu),Jh}var Vt=class{},Gs=class extends Vt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,vf(e,s=>this.processProvider(s)),this.records.set(_I,to(void 0,this)),i.has("environment")&&this.records.set(Vt,to(void 0,this));let o=this.records.get($u);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(wI,kt,te.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=pe(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),pe(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=cr(this),r=Ot(void 0),i;try{return e()}finally{cr(n),Ot(r)}}get(e,n=zs,r=te.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Dw))return e[Dw](this);r=Bu(r);let i,o=cr(this),s=Ot(void 0);try{if(!(r&te.SkipSelf)){let u=this.records.get(e);if(u===void 0){let l=lM(e)&&ju(e);l&&this.injectableDefInScope(l)?u=to(yf(e),lu):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let c=r&te.Self?ip():this.parent;return n=r&te.Optional&&n===zs?null:n,c.get(e,n)}catch(c){if(c.name==="NullInjectorError"){if((c[mu]=c[mu]||[]).unshift(ht(e)),o)throw c;return OA(c,e,"R3InjectorError",this.source)}else throw c}finally{Ot(s),cr(o)}}resolveInjectorInitializers(){let e=pe(null),n=cr(this),r=Ot(void 0),i;try{let o=this.get(co,kt,te.Self);for(let s of o)s()}finally{cr(n),Ot(r),pe(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(ht(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new B(205,!1)}processProvider(e){e=dt(e);let n=uo(e)?e:dt(e&&e.provide),r=aM(e);if(!uo(e)&&e.multi===!0){let i=this.records.get(n);i||(i=to(void 0,lu,!0),i.factory=()=>pf(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=pe(null);try{return n.value===lu&&(n.value=oM,n.value=n.factory()),typeof n.value=="object"&&n.value&&uM(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{pe(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=dt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function yf(t){let e=ju(t),n=e!==null?e.factory:so(t);if(n!==null)return n;if(t instanceof $)throw new B(204,!1);if(t instanceof Function)return sM(t);throw new B(204,!1)}function sM(t){if(t.length>0)throw new B(204,!1);let n=_A(t);return n!==null?()=>n.factory(t):()=>new t}function aM(t){if(NI(t))return to(void 0,t.useValue);{let e=PI(t);return to(e,lu)}}function PI(t,e,n){let r;if(uo(t)){let i=dt(t);return so(i)||yf(i)}else if(NI(t))r=()=>dt(t.useValue);else if(rM(t))r=()=>t.useFactory(...pf(t.deps||[]));else if(nM(t))r=()=>re(dt(t.useExisting));else{let i=dt(t&&(t.useClass||t.provide));if(cM(t))r=()=>new i(...pf(t.deps));else return so(i)||yf(i)}return r}function to(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function cM(t){return!!t.deps}function uM(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function lM(t){return typeof t=="function"||typeof t=="object"&&t instanceof $}function vf(t,e){for(let n of t)Array.isArray(n)?vf(n,e):n&&fI(n)?vf(n.\u0275providers,e):e(n)}function xn(t,e){t instanceof Gs&&t.assertNotDestroyed();let n,r=cr(t),i=Ot(void 0);try{return e()}finally{cr(r),Ot(i)}}function dM(){return pI()!==void 0||RA()!=null}function hM(t){return typeof t=="function"}var Rn=0,ce=1,W=2,ft=3,Kt=4,Yt=5,_u=6,wu=7,Qt=8,lo=9,on=10,Be=11,Ws=12,Rw=13,wo=14,sn=15,ho=16,no=17,fo=18,Hu=19,OI=20,ur=21,Xh=22,Ft=23,hr=25,kI=1;var Kr=7,Iu=8,Eu=9,Lt=10,bu=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(bu||{});function lr(t){return Array.isArray(t)&&typeof t[kI]=="object"}function Nn(t){return Array.isArray(t)&&t[kI]===!0}function FI(t){return(t.flags&4)!==0}function zu(t){return t.componentOffset>-1}function op(t){return(t.flags&1)===1}function fr(t){return!!t.template}function _f(t){return(t[W]&512)!==0}var wf=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function LI(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function ri(){return VI}function VI(t){return t.type.prototype.ngOnChanges&&(t.setInput=pM),fM}ri.ngInherit=!0;function fM(){let t=UI(this),e=t?.current;if(e){let n=t.previous;if(n===ao)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function pM(t,e,n,r,i){let o=this.declaredInputs[r],s=UI(t)||gM(t,{previous:ao,current:null}),c=s.current||(s.current={}),u=s.previous,l=u[o];c[o]=new wf(l&&l.currentValue,n,u===ao),LI(t,e,i,n)}var jI="__ngSimpleChanges__";function UI(t){return t[jI]||null}function gM(t,e){return t[jI]=e}var Nw=null;var tn=function(t,e,n){Nw?.(t,e,n)},BI="svg",mM="math";function an(t){for(;Array.isArray(t);)t=t[Rn];return t}function $I(t,e){return an(e[t])}function jt(t,e){return an(e[t.index])}function HI(t,e){return t.data[e]}function gr(t,e){let n=e[t];return lr(n)?n:n[Rn]}function sp(t){return(t[W]&128)===128}function yM(t){return Nn(t[ft])}function Cu(t,e){return e==null?null:t[e]}function zI(t){t[no]=0}function qI(t){t[W]&1024||(t[W]|=1024,sp(t)&&Gu(t))}function vM(t,e){for(;t>0;)e=e[wo],t--;return e}function qu(t){return!!(t[W]&9216||t[Ft]?.dirty)}function If(t){t[on].changeDetectionScheduler?.notify(8),t[W]&64&&(t[W]|=1024),qu(t)&&Gu(t)}function Gu(t){t[on].changeDetectionScheduler?.notify(0);let e=Qr(t);for(;e!==null&&!(e[W]&8192||(e[W]|=8192,!sp(e)));)e=Qr(e)}function GI(t,e){if((t[W]&256)===256)throw new B(911,!1);t[ur]===null&&(t[ur]=[]),t[ur].push(e)}function _M(t,e){if(t[ur]===null)return;let n=t[ur].indexOf(e);n!==-1&&t[ur].splice(n,1)}function Qr(t){let e=t[ft];return Nn(e)?e[ft]:e}var ne={lFrame:tE(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var WI=!1;function wM(){return ne.lFrame.elementDepthCount}function IM(){ne.lFrame.elementDepthCount++}function EM(){ne.lFrame.elementDepthCount--}function KI(){return ne.bindingsEnabled}function bM(){return ne.skipHydrationRootTNode!==null}function CM(t){return ne.skipHydrationRootTNode===t}function DM(){ne.skipHydrationRootTNode=null}function Ce(){return ne.lFrame.lView}function Ct(){return ne.lFrame.tView}function Io(t){return ne.lFrame.contextLView=t,t[Qt]}function Eo(t){return ne.lFrame.contextLView=null,t}function gt(){let t=QI();for(;t!==null&&t.type===64;)t=t.parent;return t}function QI(){return ne.lFrame.currentTNode}function TM(){let t=ne.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function Xs(t,e){let n=ne.lFrame;n.currentTNode=t,n.isParent=e}function YI(){return ne.lFrame.isParent}function SM(){ne.lFrame.isParent=!1}function ZI(){return WI}function Pw(t){WI=t}function AM(){let t=ne.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function MM(t){return ne.lFrame.bindingIndex=t}function Wu(){return ne.lFrame.bindingIndex++}function xM(t){let e=ne.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function RM(){return ne.lFrame.inI18n}function NM(t,e){let n=ne.lFrame;n.bindingIndex=n.bindingRootIndex=t,Ef(e)}function PM(){return ne.lFrame.currentDirectiveIndex}function Ef(t){ne.lFrame.currentDirectiveIndex=t}function OM(t){let e=ne.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function JI(t){ne.lFrame.currentQueryIndex=t}function kM(t){let e=t[ce];return e.type===2?e.declTNode:e.type===1?t[Yt]:null}function XI(t,e,n){if(n&te.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&te.Host);)if(i=kM(o),i===null||(o=o[wo],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=ne.lFrame=eE();return r.currentTNode=e,r.lView=t,!0}function ap(t){let e=eE(),n=t[ce];ne.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function eE(){let t=ne.lFrame,e=t===null?null:t.child;return e===null?tE(t):e}function tE(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function nE(){let t=ne.lFrame;return ne.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var rE=nE;function cp(){let t=nE();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function FM(t){return(ne.lFrame.contextLView=vM(t,ne.lFrame.contextLView))[Qt]}function bo(){return ne.lFrame.selectedIndex}function Yr(t){ne.lFrame.selectedIndex=t}function up(){let t=ne.lFrame;return HI(t.tView,t.selectedIndex)}function mr(){ne.lFrame.currentNamespace=BI}function iE(){LM()}function LM(){ne.lFrame.currentNamespace=null}function VM(){return ne.lFrame.currentNamespace}var oE=!0;function lp(){return oE}function dp(t){oE=t}function jM(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=VI(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function hp(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:c,ngAfterViewInit:u,ngAfterViewChecked:l,ngOnDestroy:f}=o;s&&(t.contentHooks??=[]).push(-n,s),c&&((t.contentHooks??=[]).push(n,c),(t.contentCheckHooks??=[]).push(n,c)),u&&(t.viewHooks??=[]).push(-n,u),l&&((t.viewHooks??=[]).push(n,l),(t.viewCheckHooks??=[]).push(n,l)),f!=null&&(t.destroyHooks??=[]).push(n,f)}}function du(t,e,n){sE(t,e,3,n)}function hu(t,e,n,r){(t[W]&3)===n&&sE(t,e,n,r)}function ef(t,e){let n=t[W];(n&3)===e&&(n&=16383,n+=1,t[W]=n)}function sE(t,e,n,r){let i=r!==void 0?t[no]&65535:0,o=r??-1,s=e.length-1,c=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(c=e[u],r!=null&&c>=r)break}else e[u]<0&&(t[no]+=65536),(c<o||o==-1)&&(UM(t,n,e,u),t[no]=(t[no]&4294901760)+u+2),u++}function Ow(t,e){tn(4,t,e);let n=pe(null);try{e.call(t)}finally{pe(n),tn(5,t,e)}}function UM(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],c=t[s];i?t[W]>>14<t[no]>>16&&(t[W]&3)===e&&(t[W]+=16384,Ow(c,o)):Ow(c,o)}var oo=-1,Zr=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function BM(t){return t instanceof Zr}function $M(t){return(t.flags&8)!==0}function HM(t){return(t.flags&16)!==0}var tf={},bf=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Bu(r);let i=this.injector.get(e,tf,r);return i!==tf||n===tf?i:this.parentInjector.get(e,n,r)}};function aE(t){return t!==oo}function Du(t){return t&32767}function zM(t){return t>>16}function Tu(t,e){let n=zM(t),r=e;for(;n>0;)r=r[wo],n--;return r}var Cf=!0;function kw(t){let e=Cf;return Cf=t,e}var qM=256,cE=qM-1,uE=5,GM=0,nn={};function WM(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Hs)&&(r=n[Hs]),r==null&&(r=n[Hs]=GM++);let i=r&cE,o=1<<i;e.data[t+(i>>uE)]|=o}function Su(t,e){let n=lE(t,e);if(n!==-1)return n;let r=e[ce];r.firstCreatePass&&(t.injectorIndex=e.length,nf(r.data,t),nf(e,null),nf(r.blueprint,null));let i=fp(t,e),o=t.injectorIndex;if(aE(i)){let s=Du(i),c=Tu(i,e),u=c[ce].data;for(let l=0;l<8;l++)e[o+l]=c[s+l]|u[s+l]}return e[o+8]=i,o}function nf(t,e){t.push(0,0,0,0,0,0,0,0,e)}function lE(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function fp(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=gE(i),r===null)return oo;if(n++,i=i[wo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return oo}function Df(t,e,n){WM(t,e,n)}function KM(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(EI(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function dE(t,e,n){if(n&te.Optional||t!==void 0)return t;ep(e,"NodeInjector")}function hE(t,e,n,r){if(n&te.Optional&&r===void 0&&(r=null),!(n&(te.Self|te.Host))){let i=t[lo],o=Ot(void 0);try{return i?i.get(e,r,n&te.Optional):gI(e,r,n&te.Optional)}finally{Ot(o)}}return dE(r,e,n)}function fE(t,e,n,r=te.Default,i){if(t!==null){if(e[W]&2048&&!(r&te.Self)){let s=XM(t,e,n,r,nn);if(s!==nn)return s}let o=pE(t,e,n,r,nn);if(o!==nn)return o}return hE(e,n,r,i)}function pE(t,e,n,r,i){let o=ZM(n);if(typeof o=="function"){if(!XI(e,t,r))return r&te.Host?dE(i,n,r):hE(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&te.Optional))ep(n);else return s}finally{rE()}}else if(typeof o=="number"){let s=null,c=lE(t,e),u=oo,l=r&te.Host?e[sn][Yt]:null;for((c===-1||r&te.SkipSelf)&&(u=c===-1?fp(t,e):e[c+8],u===oo||!Lw(r,!1)?c=-1:(s=e[ce],c=Du(u),e=Tu(u,e)));c!==-1;){let f=e[ce];if(Fw(o,c,f.data)){let g=QM(c,e,n,s,r,l);if(g!==nn)return g}u=e[c+8],u!==oo&&Lw(r,e[ce].data[c+8]===l)&&Fw(o,c,e)?(s=f,c=Du(u),e=Tu(u,e)):c=-1}}return i}function QM(t,e,n,r,i,o){let s=e[ce],c=s.data[t+8],u=r==null?zu(c)&&Cf:r!=s&&(c.type&3)!==0,l=i&te.Host&&o===c,f=YM(c,s,n,u,l);return f!==null?po(e,s,f,c):nn}function YM(t,e,n,r,i){let o=t.providerIndexes,s=e.data,c=o&1048575,u=t.directiveStart,l=t.directiveEnd,f=o>>20,g=r?c:c+f,_=i?c+f:l;for(let w=g;w<_;w++){let A=s[w];if(w<u&&n===A||w>=u&&A.type===n)return w}if(i){let w=s[u];if(w&&fr(w)&&w.type===n)return u}return null}function po(t,e,n,r){let i=t[n],o=e.data;if(BM(i)){let s=i;s.resolving&&TA(DA(o[n]));let c=kw(s.canSeeViewProviders);s.resolving=!0;let u,l=s.injectImpl?Ot(s.injectImpl):null,f=XI(t,r,te.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&jM(n,o[n],e)}finally{l!==null&&Ot(l),kw(c),s.resolving=!1,rE()}}return i}function ZM(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Hs)?t[Hs]:void 0;return typeof e=="number"?e>=0?e&cE:JM:e}function Fw(t,e,n){let r=1<<t;return!!(n[e+(t>>uE)]&r)}function Lw(t,e){return!(t&te.Self)&&!(t&te.Host&&e)}var Gr=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return fE(this._tNode,this._lView,e,Bu(r),n)}};function JM(){return new Gr(gt(),Ce())}function ea(t){return Zs(()=>{let e=t.prototype.constructor,n=e[gu]||Tf(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[gu]||Tf(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Tf(t){return uI(t)?()=>{let e=Tf(dt(t));return e&&e()}:so(t)}function XM(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[W]&2048&&!(s[W]&512);){let c=pE(o,s,n,r|te.Self,nn);if(c!==nn)return c;let u=o.parent;if(!u){let l=s[OI];if(l){let f=l.get(n,nn,r);if(f!==nn)return f}u=gE(s),s=s[wo]}o=u}return i}function gE(t){let e=t[ce],n=e.type;return n===2?e.declTNode:n===1?t[Yt]:null}function pp(t){return KM(gt(),t)}function Vw(t,e=null,n=null,r){let i=mE(t,e,n,r);return i.resolveInjectorInitializers(),i}function mE(t,e=null,n=null,r,i=new Set){let o=[n||kt,eM(t)];return r=r||(typeof t=="object"?void 0:ht(t)),new Gs(o,e||ip(),r||null,i)}var zr=class zr{static create(e,n){if(Array.isArray(e))return Vw({name:""},n,e,"");{let r=e.name??"";return Vw({name:r},e.parent,e.providers,r)}}};zr.THROW_IF_NOT_FOUND=zs,zr.NULL=new vu,zr.\u0275prov=q({token:zr,providedIn:"any",factory:()=>re(_I)}),zr.__NG_ELEMENT_ID__=-1;var _t=zr;var ex=new $("");ex.__NG_ELEMENT_ID__=t=>{let e=gt();if(e===null)throw new B(204,!1);if(e.type&2)return e.value;if(t&te.Optional)return null;throw new B(204,!1)};var tx="ngOriginalError";function rf(t){return t[tx]}var yE=!0,vE=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=nx,e.__NG_ENV_ID__=r=>r;let t=e;return t})(),Sf=class extends vE{constructor(e){super(),this._lView=e}onDestroy(e){return GI(this._lView,e),()=>_M(this._lView,e)}};function nx(){return new Sf(Ce())}var Co=(()=>{let e=class e{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xe(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let r=this.taskId++;return this.pendingTasks.add(r),r}remove(r){this.pendingTasks.delete(r),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})();var Af=class extends qe{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,dM()&&(this.destroyRef=L(vE,{optional:!0})??void 0,this.pendingTasks=L(Co,{optional:!0})??void 0)}emit(e){let n=pe(null);try{super.next(e)}finally{pe(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let c=super.subscribe({next:i,error:o,complete:s});return e instanceof Ae&&e.add(c),c}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Pe=Af;function Au(...t){}function _E(t){let e,n;function r(){t=Au;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function jw(t){return queueMicrotask(()=>t()),()=>{t=Au}}var gp="isAngularZone",Mu=gp+"_ID",rx=0,we=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Pe(!1),this.onMicrotaskEmpty=new Pe(!1),this.onStable=new Pe(!1),this.onError=new Pe(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=yE}=e;if(typeof Zone>"u")throw new B(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,sx(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(gp)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new B(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new B(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,ix,Au,Au);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},ix={};function mp(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function ox(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){_E(()=>{t.callbackScheduled=!1,Mf(t),t.isCheckStableRunning=!0,mp(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Mf(t)}function sx(t){let e=()=>{ox(t)},n=rx++;t._inner=t._inner.fork({name:"angular",properties:{[gp]:!0,[Mu]:n,[Mu+n]:!0},onInvokeTask:(r,i,o,s,c,u)=>{if(ax(u))return r.invokeTask(o,s,c,u);try{return Uw(t),r.invokeTask(o,s,c,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),Bw(t)}},onInvoke:(r,i,o,s,c,u,l)=>{try{return Uw(t),r.invoke(o,s,c,u,l)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!cx(u)&&e(),Bw(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Mf(t),mp(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Mf(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Uw(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Bw(t){t._nesting--,mp(t)}var xf=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Pe,this.onMicrotaskEmpty=new Pe,this.onStable=new Pe,this.onError=new Pe}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function ax(t){return wE(t,"__ignore_ng_zone__")}function cx(t){return wE(t,"__scheduler_tick__")}function wE(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Sn=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&rf(e);for(;n&&rf(n);)n=rf(n);return n||null}},ux=new $("",{providedIn:"root",factory:()=>{let t=L(we),e=L(Sn);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function lx(){return Ku(gt(),Ce())}function Ku(t,e){return new Pn(jt(t,e))}var Pn=(()=>{let e=class e{constructor(r){this.nativeElement=r}};e.__NG_ELEMENT_ID__=lx;let t=e;return t})();function IE(t){return(t.flags&128)===128}var EE=new Map,dx=0;function hx(){return dx++}function fx(t){EE.set(t[Hu],t)}function Rf(t){EE.delete(t[Hu])}var $w="__ngContext__";function Jr(t,e){lr(e)?(t[$w]=e[Hu],fx(e)):t[$w]=e}function bE(t){return DE(t[Ws])}function CE(t){return DE(t[Kt])}function DE(t){for(;t!==null&&!Nn(t);)t=t[Kt];return t}var Nf;function TE(t){Nf=t}function px(){if(Nf!==void 0)return Nf;if(typeof document<"u")return document;throw new B(210,!1)}var yp=new $("",{providedIn:"root",factory:()=>gx}),gx="ng",vp=new $(""),yr=new $("",{providedIn:"platform",factory:()=>"unknown"});var _p=new $("",{providedIn:"root",factory:()=>px().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var mx="h",yx="b";var vx=()=>null;function wp(t,e,n=!1){return vx(t,e,n)}var SE=!1,_x=new $("",{providedIn:"root",factory:()=>SE});var su;function wx(){if(su===void 0&&(su=null,df.trustedTypes))try{su=df.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return su}function Hw(t){return wx()?.createScriptURL(t)||t}var xu=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${aI})`}};function ta(t){return t instanceof xu?t.changingThisBreaksApplicationSecurity:t}function Ip(t,e){let n=Ix(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${aI})`)}return n===e}function Ix(t){return t instanceof xu&&t.getTypeName()||null}var Ex=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function AE(t){return t=String(t),t.match(Ex)?t:"unsafe:"+t}var Qu=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Qu||{});function bx(t){let e=xE();return e?e.sanitize(Qu.URL,t)||"":Ip(t,"URL")?ta(t):AE(Uu(t))}function Cx(t){let e=xE();if(e)return Hw(e.sanitize(Qu.RESOURCE_URL,t)||"");if(Ip(t,"ResourceURL"))return Hw(ta(t));throw new B(904,!1)}function Dx(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Cx:bx}function ME(t,e,n){return Dx(e,n)(t)}function xE(){let t=Ce();return t&&t[on].sanitizer}function RE(t){return t.ownerDocument.defaultView}function NE(t){return t instanceof Function?t():t}var An=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(An||{}),Tx;function Ep(t,e){return Tx(t,e)}function ro(t,e,n,r,i){if(r!=null){let o,s=!1;Nn(r)?o=r:lr(r)&&(s=!0,r=r[Rn]);let c=an(r);t===0&&n!==null?i==null?LE(e,n,c):Ru(e,n,c,i||null,!0):t===1&&n!==null?Ru(e,n,c,i||null,!0):t===2?Bx(e,c,s):t===3&&e.destroyNode(c),o!=null&&Hx(e,t,o,n,i)}}function Sx(t,e){return t.createText(e)}function Ax(t,e,n){t.setValue(e,n)}function PE(t,e,n){return t.createElement(e,n)}function Mx(t,e){OE(t,e),e[Rn]=null,e[Yt]=null}function xx(t,e,n,r,i,o){r[Rn]=i,r[Yt]=e,Yu(t,r,n,1,i,o)}function OE(t,e){e[on].changeDetectionScheduler?.notify(9),Yu(t,e,e[Be],2,null,null)}function Rx(t){let e=t[Ws];if(!e)return of(t[ce],t);for(;e;){let n=null;if(lr(e))n=e[Ws];else{let r=e[Lt];r&&(n=r)}if(!n){for(;e&&!e[Kt]&&e!==t;)lr(e)&&of(e[ce],e),e=e[ft];e===null&&(e=t),lr(e)&&of(e[ce],e),n=e&&e[Kt]}e=n}}function Nx(t,e,n,r){let i=Lt+r,o=n.length;r>0&&(n[i-1][Kt]=e),r<o-Lt?(e[Kt]=n[i],vI(n,Lt+r,e)):(n.push(e),e[Kt]=null),e[ft]=n;let s=e[ho];s!==null&&n!==s&&kE(s,e);let c=e[fo];c!==null&&c.insertView(t),If(e),e[W]|=128}function kE(t,e){let n=t[Eu],r=e[ft];if(lr(r))t[W]|=bu.HasTransplantedViews;else{let i=r[ft][sn];e[sn]!==i&&(t[W]|=bu.HasTransplantedViews)}n===null?t[Eu]=[e]:n.push(e)}function bp(t,e){let n=t[Eu],r=n.indexOf(e);n.splice(r,1)}function Pf(t,e){if(t.length<=Lt)return;let n=Lt+e,r=t[n];if(r){let i=r[ho];i!==null&&i!==t&&bp(i,r),e>0&&(t[n-1][Kt]=r[Kt]);let o=yu(t,Lt+e);Mx(r[ce],r);let s=o[fo];s!==null&&s.detachView(o[ce]),r[ft]=null,r[Kt]=null,r[W]&=-129}return r}function FE(t,e){if(!(e[W]&256)){let n=e[Be];n.destroyNode&&Yu(t,e,n,3,null,null),Rx(e)}}function of(t,e){if(e[W]&256)return;let n=pe(null);try{e[W]&=-129,e[W]|=256,e[Ft]&&Ah(e[Ft]),Ox(t,e),Px(t,e),e[ce].type===1&&e[Be].destroy();let r=e[ho];if(r!==null&&Nn(e[ft])){r!==e[ft]&&bp(r,e);let i=e[fo];i!==null&&i.detachView(t)}Rf(e)}finally{pe(n)}}function Px(t,e){let n=t.cleanup,r=e[wu];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[wu]=null);let i=e[ur];if(i!==null){e[ur]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function Ox(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Zr)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let c=i[o[s]],u=o[s+1];tn(4,c,u);try{u.call(c)}finally{tn(5,c,u)}}else{tn(4,i,o);try{o.call(i)}finally{tn(5,i,o)}}}}}function kx(t,e,n){return Fx(t,e.parent,n)}function Fx(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Rn];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===rn.None||o===rn.Emulated)return null}return jt(r,n)}}function Ru(t,e,n,r,i){t.insertBefore(e,n,r,i)}function LE(t,e,n){t.appendChild(e,n)}function zw(t,e,n,r,i){r!==null?Ru(t,e,n,r,i):LE(t,e,n)}function VE(t,e){return t.parentNode(e)}function Lx(t,e){return t.nextSibling(e)}function Vx(t,e,n){return Ux(t,e,n)}function jx(t,e,n){return t.type&40?jt(t,n):null}var Ux=jx,qw;function Cp(t,e,n,r){let i=kx(t,r,e),o=e[Be],s=r.parent||e[Yt],c=Vx(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)zw(o,i,n[u],c,!1);else zw(o,i,n,c,!1);qw!==void 0&&qw(o,r,e,n,i)}function Bs(t,e){if(e!==null){let n=e.type;if(n&3)return jt(e,t);if(n&4)return Of(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Bs(t,r);{let i=t[e.index];return Nn(i)?Of(-1,i):an(i)}}else{if(n&128)return Bs(t,e.next);if(n&32)return Ep(e,t)()||an(t[e.index]);{let r=jE(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Qr(t[sn]);return Bs(i,r)}else return Bs(t,e.next)}}}return null}function jE(t,e){if(e!==null){let r=t[sn][Yt],i=e.projection;return r.projection[i]}return null}function Of(t,e){let n=Lt+t+1;if(n<e.length){let r=e[n],i=r[ce].firstChild;if(i!==null)return Bs(r,i)}return e[Kr]}function Bx(t,e,n){t.removeChild(null,e,n)}function Dp(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let c=r[n.index],u=n.type;if(s&&e===0&&(c&&Jr(an(c),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Dp(t,e,n.child,r,i,o,!1),ro(e,t,i,c,o);else if(u&32){let l=Ep(n,r),f;for(;f=l();)ro(e,t,i,f,o);ro(e,t,i,c,o)}else u&16?$x(t,e,r,n,i,o):ro(e,t,i,c,o);n=s?n.projectionNext:n.next}}function Yu(t,e,n,r,i,o){Dp(n,r,t.firstChild,e,i,o,!1)}function $x(t,e,n,r,i,o){let s=n[sn],u=s[Yt].projection[r.projection];if(Array.isArray(u))for(let l=0;l<u.length;l++){let f=u[l];ro(e,t,i,f,o)}else{let l=u,f=s[ft];IE(r)&&(l.flags|=128),Dp(t,e,l,f,i,o,!0)}}function Hx(t,e,n,r,i){let o=n[Kr],s=an(n);o!==s&&ro(e,t,r,o,i);for(let c=Lt;c<n.length;c++){let u=n[c];Yu(u[ce],u,t,e,r,o)}}function zx(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:An.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=An.Important),t.setStyle(n,r,i,o))}}function qx(t,e,n){t.setAttribute(e,"style",n)}function UE(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function BE(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&gf(t,e,r),i!==null&&UE(t,e,i),o!==null&&qx(t,e,o)}var ii={};function H(t=1){$E(Ct(),Ce(),bo()+t,!1)}function $E(t,e,n,r){if(!r)if((e[W]&3)===3){let o=t.preOrderCheckHooks;o!==null&&du(e,o,n)}else{let o=t.preOrderHooks;o!==null&&hu(e,o,0,n)}Yr(n)}function Z(t,e=te.Default){let n=Ce();if(n===null)return re(t,e);let r=gt();return fE(r,n,dt(t),e)}function HE(t,e,n,r,i,o){let s=pe(null);try{let c=null;i&dr.SignalBased&&(c=e[r][Cn]),c!==null&&c.transformFn!==void 0&&(o=c.transformFn(o)),i&dr.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,c,o,n,r):LI(e,c,r,o)}finally{pe(s)}}function Gx(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Yr(~i);else{let o=i,s=n[++r],c=n[++r];NM(s,o);let u=e[o];c(2,u)}}}finally{Yr(-1)}}function Zu(t,e,n,r,i,o,s,c,u,l,f){let g=e.blueprint.slice();return g[Rn]=i,g[W]=r|4|128|8|64,(l!==null||t&&t[W]&2048)&&(g[W]|=2048),zI(g),g[ft]=g[wo]=t,g[Qt]=n,g[on]=s||t&&t[on],g[Be]=c||t&&t[Be],g[lo]=u||t&&t[lo]||null,g[Yt]=o,g[Hu]=hx(),g[_u]=f,g[OI]=l,g[sn]=e.type==2?t[sn]:g,g}function Ju(t,e,n,r,i){let o=t.data[e];if(o===null)o=Wx(t,e,n,r,i),RM()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=TM();o.injectorIndex=s===null?-1:s.injectorIndex}return Xs(o,!0),o}function Wx(t,e,n,r,i){let o=QI(),s=YI(),c=s?o:o&&o.parent,u=t.data[e]=Jx(t,c,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function zE(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function qE(t,e,n,r,i){let o=bo(),s=r&2;try{Yr(-1),s&&e.length>hr&&$E(t,e,hr,!1),tn(s?2:0,i),n(r,i)}finally{Yr(o),tn(s?3:1,i)}}function GE(t,e,n){if(FI(e)){let r=pe(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let c=t.data[s];if(c.contentQueries){let u=n[s];c.contentQueries(1,u,s)}}}finally{pe(r)}}}function WE(t,e,n){KI()&&(iR(t,e,n,jt(n,e)),(n.flags&64)===64&&XE(t,e,n))}function KE(t,e,n=jt){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],c=s===-1?n(e,t):t[s];t[i++]=c}}}function QE(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Tp(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Tp(t,e,n,r,i,o,s,c,u,l,f){let g=hr+r,_=g+i,w=Kx(g,_),A=typeof l=="function"?l():l;return w[ce]={type:t,blueprint:w,template:n,queries:null,viewQuery:c,declTNode:e,data:w.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:A,incompleteFirstPass:!1,ssrId:f}}function Kx(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:ii);return n}function Qx(t,e,n,r){let o=r.get(_x,SE)||n===rn.ShadowDom,s=t.selectRootElement(e,o);return Yx(s),s}function Yx(t){Zx(t)}var Zx=()=>null;function Jx(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,c=0;return bM()&&(c|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:c,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function Gw(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let c,u=dr.None;Array.isArray(s)?(c=s[0],u=s[1]):c=s;let l=o;if(i!==null){if(!i.hasOwnProperty(o))continue;l=i[o]}t===0?Ww(r,n,l,c,u):Ww(r,n,l,c)}return r}function Ww(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function Xx(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,c=[],u=null,l=null;for(let f=r;f<i;f++){let g=o[f],_=n?n.get(g):null,w=_?_.inputs:null,A=_?_.outputs:null;u=Gw(0,g.inputs,f,u,w),l=Gw(1,g.outputs,f,l,A);let O=u!==null&&s!==null&&!np(e)?gR(u,f,s):null;c.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=c,e.inputs=u,e.outputs=l}function eR(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function YE(t,e,n,r,i,o,s,c){let u=jt(e,n),l=e.inputs,f;!c&&l!=null&&(f=l[r])?(Sp(t,n,f,r,i),zu(e)&&tR(n,e.index)):e.type&3?(r=eR(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function tR(t,e){let n=gr(e,t);n[W]&16||(n[W]|=64)}function ZE(t,e,n,r){if(KI()){let i=r===null?null:{"":-1},o=sR(t,n),s,c;o===null?s=c=null:[s,c]=o,s!==null&&JE(t,e,n,s,i,c),i&&aR(n,r,i)}n.mergedAttrs=qs(n.mergedAttrs,n.attrs)}function JE(t,e,n,r,i,o){for(let l=0;l<r.length;l++)Df(Su(n,e),t,r[l].type);uR(n,t.data.length,r.length);for(let l=0;l<r.length;l++){let f=r[l];f.providersResolver&&f.providersResolver(f)}let s=!1,c=!1,u=zE(t,e,r.length,null);for(let l=0;l<r.length;l++){let f=r[l];n.mergedAttrs=qs(n.mergedAttrs,f.hostAttrs),lR(t,n,e,u,f),cR(u,f,i),f.contentQueries!==null&&(n.flags|=4),(f.hostBindings!==null||f.hostAttrs!==null||f.hostVars!==0)&&(n.flags|=64);let g=f.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!c&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),c=!0),u++}Xx(t,n,o)}function nR(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let c=~e.index;rR(s)!=c&&s.push(c),s.push(n,r,o)}}function rR(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function iR(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;zu(n)&&dR(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||Su(n,e),Jr(r,e);let s=n.initialInputs;for(let c=i;c<o;c++){let u=t.data[c],l=po(e,t,c,n);if(Jr(l,e),s!==null&&pR(e,c-i,l,u,n,s),fr(u)){let f=gr(n.index,e);f[Qt]=po(e,t,c,n)}}}function XE(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=PM();try{Yr(o);for(let c=r;c<i;c++){let u=t.data[c],l=e[c];Ef(c),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&oR(u,l)}}finally{Yr(-1),Ef(s)}}function oR(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function sR(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(qA(e,s.selectors,!1))if(r||(r=[]),fr(s))if(s.findHostDirectiveDefs!==null){let c=[];i=i||new Map,s.findHostDirectiveDefs(s,c,i),r.unshift(...c,s);let u=c.length;kf(t,e,u)}else r.unshift(s),kf(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function kf(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function aR(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new B(-301,!1);r.push(e[i],o)}}}function cR(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;fr(e)&&(n[""]=t)}}function uR(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function lR(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=so(i.type,!0)),s=new Zr(o,fr(i),Z);t.blueprint[r]=s,n[r]=s,nR(t,e,r,zE(t,n,i.hostVars,ii),i)}function dR(t,e,n){let r=jt(e,t),i=QE(n),o=t[on].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let c=Xu(t,Zu(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=c}function hR(t,e,n,r,i,o){let s=jt(t,e);fR(e[Be],s,o,t.value,n,r,i)}function fR(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let c=s==null?Uu(o):s(o,r||"",i);t.setAttribute(e,i,c,n)}}function pR(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let c=0;c<s.length;){let u=s[c++],l=s[c++],f=s[c++],g=s[c++];HE(r,n,u,l,f,g)}}function gR(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let c=0;c<s.length;c+=3)if(s[c]===e){r.push(o,s[c+1],s[c+2],n[i+1]);break}}i+=2}return r}function e0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function t0(t,e){let n=t.contentQueries;if(n!==null){let r=pe(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let c=t.data[s];JI(o),c.contentQueries(2,e[s],s)}}}finally{pe(r)}}}function Xu(t,e){return t[Ws]?t[Rw][Kt]=e:t[Ws]=e,t[Rw]=e,e}function Ff(t,e,n){JI(0);let r=pe(null);try{e(t,n)}finally{pe(r)}}function mR(t){return t[wu]??=[]}function yR(t){return t.cleanup??=[]}function n0(t,e){let n=t[lo],r=n?n.get(Sn,null):null;r&&r.handleError(e)}function Sp(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],c=n[o++],u=n[o++],l=e[s],f=t.data[s];HE(f,l,r,c,u,i)}}function vR(t,e,n){let r=$I(e,t);Ax(t[Be],r,n)}function _R(t,e){let n=gr(e,t),r=n[ce];wR(r,n);let i=n[Rn];i!==null&&n[_u]===null&&(n[_u]=wp(i,n[lo])),Ap(r,n,n[Qt])}function wR(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function Ap(t,e,n){ap(e);try{let r=t.viewQuery;r!==null&&Ff(1,r,n);let i=t.template;i!==null&&qE(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[fo]?.finishViewCreation(t),t.staticContentQueries&&t0(t,e),t.staticViewQueries&&Ff(2,t.viewQuery,n);let o=t.components;o!==null&&IR(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[W]&=-5,cp()}}function IR(t,e){for(let n=0;n<e.length;n++)_R(t,e[n])}function ER(t,e,n,r){let i=pe(null);try{let o=e.tView,c=t[W]&4096?4096:16,u=Zu(t,o,n,c,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),l=t[e.index];u[ho]=l;let f=t[fo];return f!==null&&(u[fo]=f.createEmbeddedView(o)),Ap(o,u,n),u}finally{pe(i)}}function Kw(t,e){return!e||e.firstChild===null||IE(t)}function bR(t,e,n,r=!0){let i=e[ce];if(Nx(i,e,t,n),r){let s=Of(n,t),c=e[Be],u=VE(c,t[Kr]);u!==null&&xx(i,t[Yt],c,e,u,s)}let o=e[_u];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Nu(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(an(o)),Nn(o)&&CR(o,r);let s=n.type;if(s&8)Nu(t,e,n.child,r);else if(s&32){let c=Ep(n,e),u;for(;u=c();)r.push(u)}else if(s&16){let c=jE(e,n);if(Array.isArray(c))r.push(...c);else{let u=Qr(e[sn]);Nu(u[ce],u,c,r,!0)}}n=i?n.projectionNext:n.next}return r}function CR(t,e){for(let n=Lt;n<t.length;n++){let r=t[n],i=r[ce].firstChild;i!==null&&Nu(r[ce],r,i,e)}t[Kr]!==t[Rn]&&e.push(t[Kr])}var r0=[];function DR(t){return t[Ft]??TR(t)}function TR(t){let e=r0.pop()??Object.create(AR);return e.lView=t,e}function SR(t){t.lView[Ft]!==t&&(t.lView=null,r0.push(t))}var AR=se(F({},Ls),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Gu(t.lView)},consumerOnSignalRead(){this.lView[Ft]=this}});function MR(t){let e=t[Ft]??Object.create(xR);return e.lView=t,e}var xR=se(F({},Ls),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Qr(t.lView);for(;e&&!i0(e[ce]);)e=Qr(e);e&&qI(e)},consumerOnSignalRead(){this.lView[Ft]=this}});function i0(t){return t.type!==2}var RR=100;function o0(t,e=!0,n=0){let r=t[on],i=r.rendererFactory,o=!1;o||i.begin?.();try{NR(t,n)}catch(s){throw e&&n0(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function NR(t,e){let n=ZI();try{Pw(!0),Lf(t,e);let r=0;for(;qu(t);){if(r===RR)throw new B(103,!1);r++,Lf(t,1)}}finally{Pw(n)}}function PR(t,e,n,r){let i=e[W];if((i&256)===256)return;let o=!1,s=!1;!o&&e[on].inlineEffectRunner?.flush(),ap(e);let c=!0,u=null,l=null;o||(i0(t)?(l=DR(e),u=Rc(l)):L_()===null?(c=!1,l=MR(e),u=Rc(l)):e[Ft]&&(Ah(e[Ft]),e[Ft]=null));try{zI(e),MM(t.bindingStartIndex),n!==null&&qE(t,e,n,2,r);let f=(i&3)===3;if(!o)if(f){let w=t.preOrderCheckHooks;w!==null&&du(e,w,null)}else{let w=t.preOrderHooks;w!==null&&hu(e,w,0,null),ef(e,0)}if(s||OR(e),s0(e,0),t.contentQueries!==null&&t0(t,e),!o)if(f){let w=t.contentCheckHooks;w!==null&&du(e,w)}else{let w=t.contentHooks;w!==null&&hu(e,w,1),ef(e,1)}Gx(t,e);let g=t.components;g!==null&&c0(e,g,0);let _=t.viewQuery;if(_!==null&&Ff(2,_,r),!o)if(f){let w=t.viewCheckHooks;w!==null&&du(e,w)}else{let w=t.viewHooks;w!==null&&hu(e,w,2),ef(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Xh]){for(let w of e[Xh])w();e[Xh]=null}o||(e[W]&=-73)}catch(f){throw o||Gu(e),f}finally{l!==null&&(Th(l,u),c&&SR(l)),cp()}}function s0(t,e){for(let n=bE(t);n!==null;n=CE(n))for(let r=Lt;r<n.length;r++){let i=n[r];a0(i,e)}}function OR(t){for(let e=bE(t);e!==null;e=CE(e)){if(!(e[W]&bu.HasTransplantedViews))continue;let n=e[Eu];for(let r=0;r<n.length;r++){let i=n[r];qI(i)}}}function kR(t,e,n){let r=gr(e,t);a0(r,n)}function a0(t,e){sp(t)&&Lf(t,e)}function Lf(t,e){let r=t[ce],i=t[W],o=t[Ft],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Sh(o)),s||=!1,o&&(o.dirty=!1),t[W]&=-9217,s)PR(r,t,r.template,t[Qt]);else if(i&8192){s0(t,1);let c=r.components;c!==null&&c0(t,c,1)}}function c0(t,e,n){for(let r=0;r<e.length;r++)kR(t,e[r],n)}function Mp(t,e){let n=ZI()?64:1088;for(t[on].changeDetectionScheduler?.notify(e);t;){t[W]|=n;let r=Qr(t);if(_f(t)&&!r)return t;t=r}return null}var Xr=class{get rootNodes(){let e=this._lView,n=e[ce];return Nu(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Qt]}set context(e){this._lView[Qt]=e}get destroyed(){return(this._lView[W]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[ft];if(Nn(e)){let n=e[Iu],r=n?n.indexOf(this):-1;r>-1&&(Pf(e,r),yu(n,r))}this._attachedToViewContainer=!1}FE(this._lView[ce],this._lView)}onDestroy(e){GI(this._lView,e)}markForCheck(){Mp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[W]&=-129}reattach(){If(this._lView),this._lView[W]|=128}detectChanges(){this._lView[W]|=1024,o0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new B(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=_f(this._lView),n=this._lView[ho];n!==null&&!e&&bp(n,this._lView),OE(this._lView[ce],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new B(902,!1);this._appRef=e;let n=_f(this._lView),r=this._lView[ho];r!==null&&!n&&kE(r,this._lView),If(this._lView)}},el=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=VR;let t=e;return t})(),FR=el,LR=class extends FR{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=ER(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Xr(i)}};function VR(){return jR(gt(),Ce())}function jR(t,e){return t.type&4?new LR(e,t,Ku(t,e)):null}var N3=new RegExp(`^(\\d+)*(${yx}|${mx})*(.*)`);var UR=()=>null;function Qw(t,e){return UR(t,e)}var go=class{},xp=new $("",{providedIn:"root",factory:()=>!1});var u0=new $(""),l0=new $(""),Vf=class{},Pu=class{};function BR(t){let e=Error(`No component factory found for ${ht(t)}.`);return e[$R]=t,e}var $R="ngComponent";var jf=class{resolveComponentFactory(e){throw BR(e)}},Lp=class Lp{};Lp.NULL=new jf;var mo=Lp,yo=class{},vr=(()=>{let e=class e{constructor(){this.destroyNode=null}};e.__NG_ELEMENT_ID__=()=>HR();let t=e;return t})();function HR(){let t=Ce(),e=gt(),n=gr(e.index,t);return(lr(n)?n:t)[Be]}var zR=(()=>{let e=class e{};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>null});let t=e;return t})();function Uf(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let c=e[s];if(typeof c=="number")o=c;else if(o==1)i=Iw(i,c);else if(o==2){let u=c,l=e[++s];r=Iw(r,u+": "+l+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ou=class extends mo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Wr(e);return new Ks(n,this.ngModule)}};function Yw(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,c=o?i[1]:dr.None;e?n.push({propName:s,templateName:r,isSignal:(c&dr.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function qR(t){let e=t.toLowerCase();return e==="svg"?BI:e==="math"?mM:null}var Ks=class extends Pu{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Yw(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Yw(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=QA(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=pe(null);try{i=i||this.ngModule;let s=i instanceof Vt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let c=s?new bf(e,s):e,u=c.get(yo,null);if(u===null)throw new B(407,!1);let l=c.get(zR,null),f=c.get(go,null),g={rendererFactory:u,sanitizer:l,inlineEffectRunner:null,changeDetectionScheduler:f},_=u.createRenderer(null,this.componentDef),w=this.componentDef.selectors[0][0]||"div",A=r?Qx(_,r,this.componentDef.encapsulation,c):PE(_,w,qR(w)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let P=null;A!==null&&(P=wp(A,c,!0));let j=Tp(0,null,null,1,0,null,null,null,null,null,null),K=Zu(null,j,null,O,null,null,g,_,c,null,P);ap(K);let X,ve,Ze=null;try{let me=this.componentDef,b,m=null;me.findHostDirectiveDefs?(b=[],m=new Map,me.findHostDirectiveDefs(me,b,m),b.push(me)):b=[me];let y=GR(K,A);Ze=WR(y,A,me,b,K,g,_),ve=HI(j,hr),A&&YR(_,me,A,r),n!==void 0&&ZR(ve,this.ngContentSelectors,n),X=QR(Ze,me,b,m,K,[JR]),Ap(j,K,null)}catch(me){throw Ze!==null&&Rf(Ze),Rf(K),me}finally{cp()}return new Bf(this.componentType,X,Ku(ve,K),K,ve)}finally{pe(o)}}},Bf=class extends Vf{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Xr(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;Sp(o[ce],o,i,e,n),this.previousInputValues.set(e,n);let s=gr(this._tNode.index,o);Mp(s,1)}}get injector(){return new Gr(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function GR(t,e){let n=t[ce],r=hr;return t[r]=e,Ju(n,r,2,"#host",null)}function WR(t,e,n,r,i,o,s){let c=i[ce];KR(r,t,e,s);let u=null;e!==null&&(u=wp(e,i[lo]));let l=o.rendererFactory.createRenderer(e,n),f=16;n.signals?f=4096:n.onPush&&(f=64);let g=Zu(i,QE(n),null,f,i[t.index],t,o,l,null,null,u);return c.firstCreatePass&&kf(c,t,r.length-1),Xu(i,g),i[t.index]=g}function KR(t,e,n,r){for(let i of t)e.mergedAttrs=qs(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Uf(e,e.mergedAttrs,!0),n!==null&&BE(r,n,e))}function QR(t,e,n,r,i,o){let s=gt(),c=i[ce],u=jt(s,i);JE(c,i,s,n,null,r);for(let f=0;f<n.length;f++){let g=s.directiveStart+f,_=po(i,c,g,s);Jr(_,i)}XE(c,i,s),u&&Jr(u,i);let l=po(i,c,s.directiveStart+s.componentOffset,s);if(t[Qt]=i[Qt]=l,o!==null)for(let f of o)f(l,e);return GE(c,s,i),l}function YR(t,e,n,r){if(r)gf(t,n,["ng-version","18.2.2"]);else{let{attrs:i,classes:o}=YA(e.selectors[0]);i&&gf(t,n,i),o&&o.length>0&&UE(t,n,o.join(" "))}}function ZR(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function JR(){let t=gt();hp(Ce()[ce],t)}var Do=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=XR;let t=e;return t})();function XR(){let t=gt();return tN(t,Ce())}var eN=Do,d0=class extends eN{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Ku(this._hostTNode,this._hostLView)}get injector(){return new Gr(this._hostTNode,this._hostLView)}get parentInjector(){let e=fp(this._hostTNode,this._hostLView);if(aE(e)){let n=Tu(e,this._hostLView),r=Du(e),i=n[ce].data[r+8];return new Gr(i,n)}else return new Gr(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Zw(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Lt}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Qw(this._lContainer,e.ssrId),c=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(c,i,Kw(this._hostTNode,s)),c}createComponent(e,n,r,i,o){let s=e&&!hM(e),c;if(s)c=n;else{let A=n||{};c=A.index,r=A.injector,i=A.projectableNodes,o=A.environmentInjector||A.ngModuleRef}let u=s?e:new Ks(Wr(e)),l=r||this.parentInjector;if(!o&&u.ngModule==null){let O=(s?l:this.parentInjector).get(Vt,null);O&&(o=O)}let f=Wr(u.componentType??{}),g=Qw(this._lContainer,f?.id??null),_=g?.firstChild??null,w=u.create(l,i,_,o);return this.insertImpl(w.hostView,c,Kw(this._hostTNode,g)),w}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(yM(i)){let c=this.indexOf(e);if(c!==-1)this.detach(c);else{let u=i[ft],l=new d0(u,u[Yt],u[ft]);l.detach(l.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return bR(s,i,o,r),e.attachToViewContainerRef(),vI(sf(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Zw(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=Pf(this._lContainer,n);r&&(yu(sf(this._lContainer),n),FE(r[ce],r))}detach(e){let n=this._adjustIndex(e,-1),r=Pf(this._lContainer,n);return r&&yu(sf(this._lContainer),n)!=null?new Xr(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Zw(t){return t[Iu]}function sf(t){return t[Iu]||(t[Iu]=[])}function tN(t,e){let n,r=e[t.index];return Nn(r)?n=r:(n=e0(r,e,null,t),e[t.index]=n,Xu(e,n)),rN(n,e,t,r),new d0(n,t,e)}function nN(t,e){let n=t[Be],r=n.createComment(""),i=jt(e,t),o=VE(n,i);return Ru(n,o,r,Lx(n,i),!1),r}var rN=sN,iN=()=>!1;function oN(t,e,n){return iN(t,e,n)}function sN(t,e,n,r){if(t[Kr])return;let i;n.type&8?i=an(r):i=nN(e,n),t[Kr]=i}var Jw=new Set;function na(t){Jw.has(t)||(Jw.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function aN(t){return typeof t=="function"&&t[Cn]!==void 0}function ra(t,e){na("NgSignals");let n=K_(t),r=n[Cn];return e?.equal&&(r.equal=e.equal),n.set=i=>Mh(r,i),n.update=i=>Q_(r,i),n.asReadonly=cN.bind(n),n}function cN(){let t=this[Cn];if(t.readonlyFn===void 0){let e=()=>this();e[Cn]=t,t.readonlyFn=e}return t.readonlyFn}function h0(t){return aN(t)&&typeof t.set=="function"}function uN(t){return Object.getPrototypeOf(t.prototype).constructor}function _r(t){let e=uN(t.type),n=!0,r=[t];for(;e;){let i;if(fr(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new B(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=au(t.inputs),s.inputTransforms=au(t.inputTransforms),s.declaredInputs=au(t.declaredInputs),s.outputs=au(t.outputs);let c=i.hostBindings;c&&pN(t,c);let u=i.viewQuery,l=i.contentQueries;if(u&&hN(t,u),l&&fN(t,l),lN(t,i),yA(t.outputs,i.outputs),fr(i)&&i.data.animation){let f=t.data;f.animation=(f.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let c=o[s];c&&c.ngInherit&&c(t),c===_r&&(n=!1)}}e=Object.getPrototypeOf(e)}dN(r)}function lN(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function dN(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=qs(i.hostAttrs,n=qs(n,i.hostAttrs))}}function au(t){return t===ao?{}:t===kt?[]:t}function hN(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function fN(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function pN(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Rp(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var pr=class{},Qs=class{};var $f=class extends pr{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ou(this);let o=SI(e);this._bootstrapComponents=NE(o.bootstrap),this._r3Injector=mE(e,n,[{provide:pr,useValue:this},{provide:mo,useValue:this.componentFactoryResolver},...r],ht(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Hf=class extends Qs{constructor(e){super(),this.moduleType=e}create(e){return new $f(this.moduleType,e,[])}};var ku=class extends pr{constructor(e){super(),this.componentFactoryResolver=new Ou(this),this.instance=null;let n=new Gs([...e.providers,{provide:pr,useValue:this},{provide:mo,useValue:this.componentFactoryResolver}],e.parent||ip(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Np(t,e,n=null){return new ku({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function f0(t){return mN(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function gN(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function mN(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function yN(t,e,n){return t[e]=n}function vN(t,e){return t[e]}function ia(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function _N(t){return(t.flags&32)===32}function wN(t,e,n,r,i,o,s,c,u){let l=e.consts,f=Ju(e,t,4,s||null,c||null);ZE(e,n,f,Cu(l,u)),hp(e,f);let g=f.tView=Tp(2,f,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,l,null);return e.queries!==null&&(e.queries.template(e,f),g.queries=e.queries.embeddedTView(f)),f}function IN(t,e,n,r,i,o,s,c,u,l){let f=n+hr,g=e.firstCreatePass?wN(f,e,t,r,i,o,s,c,u):e.data[f];Xs(g,!1);let _=EN(e,t,g,n);lp()&&Cp(e,t,_,g),Jr(_,t);let w=e0(_,t,_,g);return t[f]=w,Xu(t,w),oN(w,g,t),op(g)&&WE(e,t,g),u!=null&&KE(t,g,l),g}function Dt(t,e,n,r,i,o,s,c){let u=Ce(),l=Ct(),f=Cu(l.consts,o);return IN(u,l,t,e,n,r,i,f,s,c),Dt}var EN=bN;function bN(t,e,n,r){return dp(!0),e[Be].createComment("")}var $s=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}($s||{}),CN=(()=>{let e=class e{constructor(){this.impl=null}execute(){this.impl?.execute()}};e.\u0275prov=q({token:e,providedIn:"root",factory:()=>new e});let t=e;return t})(),qr=class qr{constructor(){this.ngZone=L(we),this.scheduler=L(go),this.errorHandler=L(Sn,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}execute(){this.executing=!0;for(let e of qr.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&this.sequences.delete(e);for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}};qr.PHASES=[$s.EarlyRead,$s.Write,$s.MixedReadWrite,$s.Read],qr.\u0275prov=q({token:qr,providedIn:"root",factory:()=>new qr});var Xw=qr;function tl(t,e,n,r){let i=Ce(),o=Wu();if(ia(i,o,e)){let s=Ct(),c=up();hR(c,i,t,e,n,r)}return tl}function DN(t,e,n,r){return ia(t,Wu(),n)?e+Uu(n)+r:ii}function cu(t,e){return t<<17|e<<2}function ei(t){return t>>17&32767}function TN(t){return(t&2)==2}function SN(t,e){return t&131071|e<<17}function zf(t){return t|2}function vo(t){return(t&131068)>>2}function af(t,e){return t&-131069|e<<2}function AN(t){return(t&1)===1}function qf(t){return t|1}function MN(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,c=ei(s),u=vo(s);t[r]=n;let l=!1,f;if(Array.isArray(n)){let g=n;f=g[1],(f===null||Js(g,f)>0)&&(l=!0)}else f=n;if(i)if(u!==0){let _=ei(t[c+1]);t[r+1]=cu(_,c),_!==0&&(t[_+1]=af(t[_+1],r)),t[c+1]=SN(t[c+1],r)}else t[r+1]=cu(c,0),c!==0&&(t[c+1]=af(t[c+1],r)),c=r;else t[r+1]=cu(u,0),c===0?c=r:t[u+1]=af(t[u+1],r),u=r;l&&(t[r+1]=zf(t[r+1])),eI(t,f,r,!0),eI(t,f,r,!1),xN(e,f,t,r,o),s=cu(c,u),o?e.classBindings=s:e.styleBindings=s}function xN(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Js(o,e)>=0&&(n[r+1]=qf(n[r+1]))}function eI(t,e,n,r){let i=t[n+1],o=e===null,s=r?ei(i):vo(i),c=!1;for(;s!==0&&(c===!1||o);){let u=t[s],l=t[s+1];RN(u,e)&&(c=!0,t[s+1]=r?qf(l):zf(l)),s=r?ei(l):vo(l)}c&&(t[n+1]=r?zf(i):qf(i))}function RN(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Js(t,e)>=0:!1}function ee(t,e,n){let r=Ce(),i=Wu();if(ia(r,i,e)){let o=Ct(),s=up();YE(o,s,r,t,e,r[Be],n,!1)}return ee}function tI(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";Sp(t,n,o[s],s,r)}function nl(t,e){return NN(t,e,null,!0),nl}function NN(t,e,n,r){let i=Ce(),o=Ct(),s=xM(2);if(o.firstUpdatePass&&ON(o,t,s,r),e!==ii&&ia(i,s,e)){let c=o.data[bo()];jN(o,c,i,i[Be],t,i[s+1]=UN(e,n),r,s)}}function PN(t,e){return e>=t.expandoStartIndex}function ON(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[bo()],s=PN(t,n);BN(o,r)&&e===null&&!s&&(e=!1),e=kN(i,o,e,r),MN(i,o,e,n,s,r)}}function kN(t,e,n,r){let i=OM(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=cf(null,t,e,n,r),n=Ys(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=cf(i,t,e,n,r),o===null){let u=FN(t,e,r);u!==void 0&&Array.isArray(u)&&(u=cf(null,t,e,u[1],r),u=Ys(u,e.attrs,r),LN(t,e,r,u))}else o=VN(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function FN(t,e,n){let r=n?e.classBindings:e.styleBindings;if(vo(r)!==0)return t[ei(r)]}function LN(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[ei(i)]=r}function VN(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Ys(r,s,n)}return Ys(r,e.attrs,n)}function cf(t,e,n,r,i){let o=null,s=n.directiveEnd,c=n.directiveStylingLast;for(c===-1?c=n.directiveStart:c++;c<s&&(o=e[c],r=Ys(r,o.hostAttrs,i),o!==t);)c++;return t!==null&&(n.directiveStylingLast=c),r}function Ys(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),LA(t,s,n?!0:e[++o]))}return t===void 0?null:t}function jN(t,e,n,r,i,o,s,c){if(!(e.type&3))return;let u=t.data,l=u[c+1],f=AN(l)?nI(u,e,n,i,vo(l),s):void 0;if(!Fu(f)){Fu(o)||TN(l)&&(o=nI(u,null,n,i,c,s));let g=$I(bo(),n);zx(r,s,g,i,o)}}function nI(t,e,n,r,i,o){let s=e===null,c;for(;i>0;){let u=t[i],l=Array.isArray(u),f=l?u[1]:u,g=f===null,_=n[i+1];_===ii&&(_=g?kt:void 0);let w=g?Zh(_,r):f===r?_:void 0;if(l&&!Fu(w)&&(w=Zh(u,r)),Fu(w)&&(c=w,s))return c;let A=t[i+1];i=s?ei(A):vo(A)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(c=Zh(u,r))}return c}function Fu(t){return t!==void 0}function UN(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=ht(ta(t)))),t}function BN(t,e){return(t.flags&(e?8:16))!==0}function $N(t,e,n,r,i,o){let s=e.consts,c=Cu(s,i),u=Ju(e,t,2,r,c);return ZE(e,n,u,Cu(s,o)),u.attrs!==null&&Uf(u,u.attrs,!1),u.mergedAttrs!==null&&Uf(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function M(t,e,n,r){let i=Ce(),o=Ct(),s=hr+t,c=i[Be],u=o.firstCreatePass?$N(s,o,i,e,n,r):o.data[s],l=HN(o,i,u,c,e,t);i[s]=l;let f=op(u);return Xs(u,!0),BE(c,l,u),!_N(u)&&lp()&&Cp(o,i,l,u),wM()===0&&Jr(l,i),IM(),f&&(WE(o,i,u),GE(o,u,i)),r!==null&&KE(i,u),M}function x(){let t=gt();YI()?SM():(t=t.parent,Xs(t,!1));let e=t;CM(e)&&DM(),EM();let n=Ct();return n.firstCreatePass&&(hp(n,t),FI(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&$M(e)&&tI(n,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&HM(e)&&tI(n,e,Ce(),e.stylesWithoutHost,!1),x}function ge(t,e,n,r){return M(t,e,n,r),x(),ge}var HN=(t,e,n,r,i,o)=>(dp(!0),PE(r,i,VM()));function To(){return Ce()}var Lu="en-US";var zN=Lu;function qN(t){typeof t=="string"&&(zN=t.toLowerCase().replace(/_/g,"-"))}var GN=(t,e,n)=>{};function xe(t,e,n,r){let i=Ce(),o=Ct(),s=gt();return p0(o,i,i[Be],s,t,e,r),xe}function WN(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let c=e[wu],u=i[o+2];return c.length>u?c[u]:null}typeof s=="string"&&(o+=2)}return null}function p0(t,e,n,r,i,o,s){let c=op(r),l=t.firstCreatePass&&yR(t),f=e[Qt],g=mR(e),_=!0;if(r.type&3||s){let O=jt(r,e),P=s?s(O):O,j=g.length,K=s?ve=>s(an(ve[r.index])):r.index,X=null;if(!s&&c&&(X=WN(t,e,i,r.index)),X!==null){let ve=X.__ngLastListenerFn__||X;ve.__ngNextListenerFn__=o,X.__ngLastListenerFn__=o,_=!1}else{o=iI(r,e,f,o),GN(O,i,o);let ve=n.listen(P,i,o);g.push(o,ve),l&&l.push(i,K,j,j+1)}}else o=iI(r,e,f,o);let w=r.outputs,A;if(_&&w!==null&&(A=w[i])){let O=A.length;if(O)for(let P=0;P<O;P+=2){let j=A[P],K=A[P+1],Ze=e[j][K].subscribe(o),me=g.length;g.push(o,Ze),l&&l.push(i,r.index,me,-(me+1))}}}function rI(t,e,n,r){let i=pe(null);try{return tn(6,e,n),n(r)!==!1}catch(o){return n0(t,o),!1}finally{tn(7,e,n),pe(i)}}function iI(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?gr(t.index,e):e;Mp(s,5);let c=rI(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)c=rI(e,n,u,o)&&c,u=u.__ngNextListenerFn__;return c}}function Tt(t=1){return FM(t)}function V(t,e=""){let n=Ce(),r=Ct(),i=t+hr,o=r.firstCreatePass?Ju(r,i,1,e,null):r.data[i],s=KN(r,n,o,e,t);n[i]=s,lp()&&Cp(r,n,s,o),Xs(o,!1)}var KN=(t,e,n,r,i)=>(dp(!0),Sx(e[Be],r));function oi(t){return Zt("",t,""),oi}function Zt(t,e,n){let r=Ce(),i=DN(r,t,e,n);return i!==ii&&vR(r,bo(),i),Zt}function un(t,e,n){h0(e)&&(e=e());let r=Ce(),i=Wu();if(ia(r,i,e)){let o=Ct(),s=up();YE(o,s,r,t,e,r[Be],n,!1)}return un}function On(t,e){let n=h0(t);return n&&t.set(e),n}function ln(t,e){let n=Ce(),r=Ct(),i=gt();return p0(r,n,n[Be],i,t,e),ln}function QN(t,e,n){let r=Ct();if(r.firstCreatePass){let i=fr(t);Gf(n,r.data,r.blueprint,i,!0),Gf(e,r.data,r.blueprint,i,!1)}}function Gf(t,e,n,r,i){if(t=dt(t),Array.isArray(t))for(let o=0;o<t.length;o++)Gf(t[o],e,n,r,i);else{let o=Ct(),s=Ce(),c=gt(),u=uo(t)?t:dt(t.provide),l=PI(t),f=c.providerIndexes&1048575,g=c.directiveStart,_=c.providerIndexes>>20;if(uo(t)||!t.multi){let w=new Zr(l,i,Z),A=lf(u,e,i?f:f+_,g);A===-1?(Df(Su(c,s),o,u),uf(o,t,e.length),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(w),s.push(w)):(n[A]=w,s[A]=w)}else{let w=lf(u,e,f+_,g),A=lf(u,e,f,f+_),O=w>=0&&n[w],P=A>=0&&n[A];if(i&&!P||!i&&!O){Df(Su(c,s),o,u);let j=JN(i?ZN:YN,n.length,i,r,l);!i&&P&&(n[A].providerFactory=j),uf(o,t,e.length,0),e.push(u),c.directiveStart++,c.directiveEnd++,i&&(c.providerIndexes+=1048576),n.push(j),s.push(j)}else{let j=g0(n[i?A:w],l,!i&&r);uf(o,t,w>-1?w:A,j)}!i&&r&&P&&n[A].componentProviders++}}}function uf(t,e,n,r){let i=uo(e),o=iM(e);if(i||o){let u=(o?dt(e.useClass):e).prototype.ngOnDestroy;if(u){let l=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let f=l.indexOf(n);f===-1?l.push(n,[r,u]):l[f+1].push(r,u)}else l.push(n,u)}}}function g0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function lf(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function YN(t,e,n,r){return Wf(this.multi,[])}function ZN(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,c=po(n,n[ce],this.providerFactory.index,r);o=c.slice(0,s),Wf(i,o);for(let u=s;u<c.length;u++)o.push(c[u])}else o=[],Wf(i,o);return o}function Wf(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function JN(t,e,n,r,i){let o=new Zr(t,n,Z);return o.multi=[],o.index=e,o.componentProviders=0,g0(o,i,r&&!n),o}function rl(t,e=[]){return n=>{n.providersResolver=(r,i)=>QN(r,i?i(t):t,e)}}var XN=(()=>{let e=class e{constructor(r){this._injector=r,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(r){if(!r.standalone)return null;if(!this.cachedInjectors.has(r)){let i=xI(!1,r.type),o=i.length>0?Np([i],this._injector,`Standalone[${r.type.name}]`):null;this.cachedInjectors.set(r,o)}return this.cachedInjectors.get(r)}ngOnDestroy(){try{for(let r of this.cachedInjectors.values())r!==null&&r.destroy()}finally{this.cachedInjectors.clear()}}};e.\u0275prov=q({token:e,providedIn:"environment",factory:()=>new e(re(Vt))});let t=e;return t})();function We(t){na("NgStandalone"),t.getStandaloneInjector=e=>e.get(XN).getOrCreateStandaloneInjector(t)}function $e(t,e,n){let r=AM()+t,i=Ce();return i[r]===ii?yN(i,r,n?e.call(n):e()):vN(i,r)}var Mn=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},m0=new Mn("18.2.2");var il=(()=>{let e=class e{log(r){console.log(r)}warn(r){console.warn(r)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"platform"});let t=e;return t})();var y0=new $("");function si(t){return!!t&&typeof t.then=="function"}function v0(t){return!!t&&typeof t.subscribe=="function"}var _0=new $(""),w0=(()=>{let e=class e{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((r,i)=>{this.resolve=r,this.reject=i}),this.appInits=L(_0,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let r=[];for(let o of this.appInits){let s=o();if(si(s))r.push(s);else if(v0(s)){let c=new Promise((u,l)=>{s.subscribe({complete:u,error:l})});r.push(c)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(r).then(()=>{i()}).catch(o=>{this.reject(o)}),r.length===0&&i(),this.initialized=!0}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Pp=new $("");function eP(){W_(()=>{throw new B(600,!1)})}function tP(t){return t.isBoundToModule}var nP=10;function rP(t,e,n){try{let r=n();return si(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var ai=(()=>{let e=class e{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=L(ux),this.afterRenderManager=L(CN),this.zonelessEnabled=L(xp),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new qe,this.afterTick=new qe,this.componentTypes=[],this.components=[],this.isStable=L(Co).hasPendingTasks.pipe(oe(r=>!r)),this._injector=L(Vt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let r;return new Promise(i=>{r=this.isStable.subscribe({next:o=>{o&&i()}})}).finally(()=>{r.unsubscribe()})}get injector(){return this._injector}bootstrap(r,i){let o=r instanceof Pu;if(!this._injector.get(w0).done){let w=!o&&TI(r),A=!1;throw new B(405,A)}let c;o?c=r:c=this._injector.get(mo).resolveComponentFactory(r),this.componentTypes.push(c.componentType);let u=tP(c)?void 0:this._injector.get(pr),l=i||c.selector,f=c.create(_t.NULL,[],l,u),g=f.location.nativeElement,_=f.injector.get(y0,null);return _?.registerApplication(g),f.onDestroy(()=>{this.detachView(f.hostView),fu(this.components,f),_?.unregisterApplication(g)}),this._loadComponent(f),f}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new B(101,!1);let r=pe(null);try{this._runningTick=!0,this.synchronize()}catch(i){this.internalErrorHandler(i)}finally{this._runningTick=!1,pe(r),this.afterTick.next()}}synchronize(){let r=null;this._injector.destroyed||(r=this._injector.get(yo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let i=0;for(;this.dirtyFlags!==0&&i++<nP;)this.synchronizeOnce(r)}synchronizeOnce(r){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(i);for(let{_lView:o,notifyErrorHandler:s}of this._views)iP(o,s,i,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else r?.begin?.(),r?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:r})=>qu(r))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(r){let i=r;this._views.push(i),i.attachToAppRef(this)}detachView(r){let i=r;fu(this._views,i),i.detachFromAppRef()}_loadComponent(r){this.attachView(r.hostView),this.tick(),this.components.push(r);let i=this._injector.get(Pp,[]);[...this._bootstrapListeners,...i].forEach(o=>o(r))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(r=>r()),this._views.slice().forEach(r=>r.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(r){return this._destroyListeners.push(r),()=>fu(this._destroyListeners,r)}destroy(){if(this._destroyed)throw new B(406,!1);let r=this._injector;r.destroy&&!r.destroyed&&r.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fu(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function iP(t,e,n,r){if(!n&&!qu(t))return;o0(t,e,n&&!r?0:1)}var Kf=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},Op=(()=>{let e=class e{compileModuleSync(r){return new Hf(r)}compileModuleAsync(r){return Promise.resolve(this.compileModuleSync(r))}compileModuleAndAllComponentsSync(r){let i=this.compileModuleSync(r),o=SI(r),s=NE(o.declarations).reduce((c,u)=>{let l=Wr(u);return l&&c.push(new Ks(l)),c},[]);return new Kf(i,s)}compileModuleAndAllComponentsAsync(r){return Promise.resolve(this.compileModuleAndAllComponentsSync(r))}clearCache(){}clearCacheFor(r){}getModuleId(r){}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var oP=(()=>{let e=class e{constructor(){this.zone=L(we),this.changeDetectionScheduler=L(go),this.applicationRef=L(ai)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),sP=new $("",{factory:()=>!1});function I0({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new we(se(F({},b0()),{scheduleInRootZone:n})),[{provide:we,useFactory:t},{provide:co,multi:!0,useFactory:()=>{let r=L(oP,{optional:!0});return()=>r.initialize()}},{provide:co,multi:!0,useFactory:()=>{let r=L(aP);return()=>{r.initialize()}}},e===!0?{provide:u0,useValue:!0}:[],{provide:l0,useValue:n??yE}]}function E0(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=I0({ngZoneFactory:()=>{let i=b0(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&na("NgZone_CoalesceEvent"),new we(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return cn([{provide:sP,useValue:!0},{provide:xp,useValue:!1},r])}function b0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var aP=(()=>{let e=class e{constructor(){this.subscription=new Ae,this.initialized=!1,this.zone=L(we),this.pendingTasks=L(Co)}initialize(){if(this.initialized)return;this.initialized=!0;let r=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(r=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{we.assertNotInAngularZone(),queueMicrotask(()=>{r!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(r),r=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{we.assertInAngularZone(),r??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var cP=(()=>{let e=class e{constructor(){this.appRef=L(ai),this.taskService=L(Co),this.ngZone=L(we),this.zonelessEnabled=L(xp),this.disableScheduling=L(u0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new Ae,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Mu):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(L(l0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xf||!this.zoneIsDefined)}notify(r){if(!this.zonelessEnabled&&r===5)return;switch(r){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let i=this.useMicrotaskScheduler?jw:_E;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>i(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>i(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Mu+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let r=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){throw this.taskService.remove(r),i}finally{this.cleanup()}this.useMicrotaskScheduler=!0,jw(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(r)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let r=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(r)}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function uP(){return typeof $localize<"u"&&$localize.locale||Lu}var kp=new $("",{providedIn:"root",factory:()=>L(kp,te.Optional|te.SkipSelf)||uP()});var C0=new $("");function uu(t){return!!t.platformInjector}function lP(t){let e=uu(t)?t.r3Injector:t.moduleRef.injector,n=e.get(we);return n.run(()=>{uu(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Sn,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),uu(t)){let o=()=>e.destroy(),s=t.platformInjector.get(C0);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else t.moduleRef.onDestroy(()=>{fu(t.allPlatformModules,t.moduleRef),i.unsubscribe()});return rP(r,n,()=>{let o=e.get(w0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(kp,Lu);if(qN(s||Lu),uu(t)){let c=e.get(ai);return t.rootComponent!==void 0&&c.bootstrap(t.rootComponent),c}else return dP(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function dP(t,e){let n=t.injector.get(ai);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new B(-403,!1);e.push(t)}var pu=null;function hP(t=[],e){return _t.create({name:e,providers:[{provide:$u,useValue:"platform"},{provide:C0,useValue:new Set([()=>pu=null])},...t]})}function fP(t=[]){if(pu)return pu;let e=hP(t);return pu=e,eP(),pP(e),e}function pP(t){t.get(vp,null)?.forEach(n=>n())}var ci=(()=>{let e=class e{};e.__NG_ELEMENT_ID__=gP;let t=e;return t})();function gP(t){return mP(gt(),Ce(),(t&16)===16)}function mP(t,e,n){if(zu(t)&&!n){let r=gr(t.index,e);return new Xr(r,r)}else if(t.type&175){let r=e[sn];return new Xr(r,e)}return null}var Qf=class{constructor(){}supports(e){return f0(e)}create(e){return new Yf(e)}},yP=(t,e)=>e,Yf=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||yP}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<oI(r,i,o)?n:r,c=oI(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let l=c-i,f=u-i;if(l!=f){for(let _=0;_<l;_++){let w=_<o.length?o[_]:o[_]=0,A=w+_;f<=A&&A<l&&(o[_]=w+1)}let g=s.previousIndex;o[g]=f-l}}c!==u&&e(s,c,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!f0(e))throw new B(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let c=0;c<this.length;c++)o=e[c],s=this._trackByFn(c,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,c),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,c)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,gN(e,c=>{s=this._trackByFn(i,c),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,c,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,c,s,i)),Object.is(n.item,c)||this._addIdentityChange(n,c)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new Zf(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Vu),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Vu),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Zf=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Jf=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Vu=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Jf,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function oI(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function sI(){return new Fp([new Qf])}var Fp=(()=>{let e=class e{constructor(r){this.factories=r}static create(r,i){if(i!=null){let o=i.factories.slice();r=r.concat(o)}return new e(r)}static extend(r){return{provide:e,useFactory:i=>e.create(r,i||sI()),deps:[[e,new yI,new pt]]}}find(r){let i=this.factories.find(o=>o.supports(r));if(i!=null)return i;throw new B(901,!1)}};e.\u0275prov=q({token:e,providedIn:"root",factory:sI});let t=e;return t})();function D0(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=fP(r),o=[I0({}),{provide:go,useExisting:cP},...n||[]],s=new ku({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return lP({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}var T0=new $("");function ui(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function oa(t,e){na("NgSignals");let n=z_(t);return e?.equal&&(n[Cn].equal=e.equal),n}function kn(t){let e=pe(null);try{return t()}finally{pe(e)}}var N0=null;function Fn(){return N0}function P0(t){N0??=t}var ol=class{};var At=new $(""),O0=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>L(vP),providedIn:"platform"});let t=e;return t})();var vP=(()=>{let e=class e extends O0{constructor(){super(),this._doc=L(At),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Fn().getBaseHref(this._doc)}onPopState(r){let i=Fn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",r,!1),()=>i.removeEventListener("popstate",r)}onHashChange(r){let i=Fn().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",r,!1),()=>i.removeEventListener("hashchange",r)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(r){this._location.pathname=r}pushState(r,i,o){this._history.pushState(r,i,o)}replaceState(r,i,o){this._history.replaceState(r,i,o)}forward(){this._history.forward()}back(){this._history.back()}historyGo(r=0){this._history.go(r)}getState(){return this._history.state}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new e,providedIn:"platform"});let t=e;return t})();function k0(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function S0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function li(t){return t&&t[0]!=="?"?"?"+t:t}var So=(()=>{let e=class e{historyGo(r){throw new Error("")}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>L(F0),providedIn:"root"});let t=e;return t})(),_P=new $(""),F0=(()=>{let e=class e extends So{constructor(r,i){super(),this._platformLocation=r,this._removeListenerFns=[],this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??L(At).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(r){this._removeListenerFns.push(this._platformLocation.onPopState(r),this._platformLocation.onHashChange(r))}getBaseHref(){return this._baseHref}prepareExternalUrl(r){return k0(this._baseHref,r)}path(r=!1){let i=this._platformLocation.pathname+li(this._platformLocation.search),o=this._platformLocation.hash;return o&&r?`${i}${o}`:i}pushState(r,i,o,s){let c=this.prepareExternalUrl(o+li(s));this._platformLocation.pushState(r,i,c)}replaceState(r,i,o,s){let c=this.prepareExternalUrl(o+li(s));this._platformLocation.replaceState(r,i,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(r=0){this._platformLocation.historyGo?.(r)}};e.\u0275fac=function(i){return new(i||e)(re(O0),re(_P,8))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var sa=(()=>{let e=class e{constructor(r){this._subject=new Pe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=r;let i=this._locationStrategy.getBaseHref();this._basePath=EP(S0(A0(i))),this._locationStrategy.onPopState(o=>{this._subject.emit({url:this.path(!0),pop:!0,state:o.state,type:o.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(r=!1){return this.normalize(this._locationStrategy.path(r))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(r,i=""){return this.path()==this.normalize(r+li(i))}normalize(r){return e.stripTrailingSlash(IP(this._basePath,A0(r)))}prepareExternalUrl(r){return r&&r[0]!=="/"&&(r="/"+r),this._locationStrategy.prepareExternalUrl(r)}go(r,i="",o=null){this._locationStrategy.pushState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+li(i)),o)}replaceState(r,i="",o=null){this._locationStrategy.replaceState(o,"",r,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(r+li(i)),o)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(r=0){this._locationStrategy.historyGo?.(r)}onUrlChange(r){return this._urlChangeListeners.push(r),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(r);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(r="",i){this._urlChangeListeners.forEach(o=>o(r,i))}subscribe(r,i,o){return this._subject.subscribe({next:r,error:i,complete:o})}};e.normalizeQueryParams=li,e.joinWithSlash=k0,e.stripTrailingSlash=S0,e.\u0275fac=function(i){return new(i||e)(re(So))},e.\u0275prov=q({token:e,factory:()=>wP(),providedIn:"root"});let t=e;return t})();function wP(){return new sa(re(So))}function IP(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function A0(t){return t.replace(/\/index.html$/,"")}function EP(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function L0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Vp=/\s+/,M0=[],V0=(()=>{let e=class e{constructor(r,i){this._ngEl=r,this._renderer=i,this.initialClasses=M0,this.stateMap=new Map}set klass(r){this.initialClasses=r!=null?r.trim().split(Vp):M0}set ngClass(r){this.rawClass=typeof r=="string"?r.trim().split(Vp):r}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let r=this.rawClass;if(Array.isArray(r)||r instanceof Set)for(let i of r)this._updateState(i,!0);else if(r!=null)for(let i of Object.keys(r))this._updateState(i,!!r[i]);this._applyStateDiff()}_updateState(r,i){let o=this.stateMap.get(r);o!==void 0?(o.enabled!==i&&(o.changed=!0,o.enabled=i),o.touched=!0):this.stateMap.set(r,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let r of this.stateMap){let i=r[0],o=r[1];o.changed?(this._toggleClass(i,o.enabled),o.changed=!1):o.touched||(o.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),o.touched=!1}}_toggleClass(r,i){r=r.trim(),r.length>0&&r.split(Vp).forEach(o=>{i?this._renderer.addClass(this._ngEl.nativeElement,o):this._renderer.removeClass(this._ngEl.nativeElement,o)})}};e.\u0275fac=function(i){return new(i||e)(Z(Pn),Z(vr))},e.\u0275dir=ot({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0});let t=e;return t})();var jp=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},Ao=(()=>{let e=class e{set ngForOf(r){this._ngForOf=r,this._ngForOfDirty=!0}set ngForTrackBy(r){this._trackByFn=r}get ngForTrackBy(){return this._trackByFn}constructor(r,i,o){this._viewContainer=r,this._template=i,this._differs=o,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(r){r&&(this._template=r)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let r=this._ngForOf;if(!this._differ&&r)if(0)try{}catch{}else this._differ=this._differs.find(r).create(this.ngForTrackBy)}if(this._differ){let r=this._differ.diff(this._ngForOf);r&&this._applyChanges(r)}}_applyChanges(r){let i=this._viewContainer;r.forEachOperation((o,s,c)=>{if(o.previousIndex==null)i.createEmbeddedView(this._template,new jp(o.item,this._ngForOf,-1,-1),c===null?void 0:c);else if(c==null)i.remove(s===null?void 0:s);else if(s!==null){let u=i.get(s);i.move(u,c),x0(u,o)}});for(let o=0,s=i.length;o<s;o++){let u=i.get(o).context;u.index=o,u.count=s,u.ngForOf=this._ngForOf}r.forEachIdentityChange(o=>{let s=i.get(o.currentIndex);x0(s,o)})}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Z(Do),Z(el),Z(Fp))},e.\u0275dir=ot({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0});let t=e;return t})();function x0(t,e){t.context.$implicit=e.item}var j0=(()=>{let e=class e{constructor(r,i){this._viewContainer=r,this._context=new Up,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=i}set ngIf(r){this._context.$implicit=this._context.ngIf=r,this._updateView()}set ngIfThen(r){R0("ngIfThen",r),this._thenTemplateRef=r,this._thenViewRef=null,this._updateView()}set ngIfElse(r){R0("ngIfElse",r),this._elseTemplateRef=r,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(r,i){return!0}};e.\u0275fac=function(i){return new(i||e)(Z(Do),Z(el))},e.\u0275dir=ot({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0});let t=e;return t})(),Up=class{constructor(){this.$implicit=null,this.ngIf=null}};function R0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${ht(e)}'.`)}var mt=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=ti({});let t=e;return t})(),U0="browser",bP="server";function Bp(t){return t===bP}var sl=class{};var zp=class extends ol{constructor(){super(...arguments),this.supportsDOMEvents=!0}},qp=class t extends zp{static makeCurrent(){P0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=CP();return n==null?null:DP(n)}resetBaseElement(){aa=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return L0(document.cookie,e)}},aa=null;function CP(){return aa=aa||document.querySelector("base"),aa?aa.getAttribute("href"):null}function DP(t){return new URL(t,document.baseURI).pathname}var TP=(()=>{let e=class e{build(){return new XMLHttpRequest}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),cl=new $(""),z0=(()=>{let e=class e{constructor(r,i){this._zone=i,this._eventNameToPlugin=new Map,r.forEach(o=>{o.manager=this}),this._plugins=r.slice().reverse()}addEventListener(r,i,o){return this._findPluginFor(i).addEventListener(r,i,o)}getZone(){return this._zone}_findPluginFor(r){let i=this._eventNameToPlugin.get(r);if(i)return i;if(i=this._plugins.find(s=>s.supports(r)),!i)throw new B(5101,!1);return this._eventNameToPlugin.set(r,i),i}};e.\u0275fac=function(i){return new(i||e)(re(cl),re(we))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),ca=class{constructor(e){this._doc=e}},$p="ng-app-id",q0=(()=>{let e=class e{constructor(r,i,o,s={}){this.doc=r,this.appId=i,this.nonce=o,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Bp(s),this.resetHostNodes()}addStyles(r){for(let i of r)this.changeUsageCount(i,1)===1&&this.onStyleAdded(i)}removeStyles(r){for(let i of r)this.changeUsageCount(i,-1)<=0&&this.onStyleRemoved(i)}ngOnDestroy(){let r=this.styleNodesInDOM;r&&(r.forEach(i=>i.remove()),r.clear());for(let i of this.getAllStyles())this.onStyleRemoved(i);this.resetHostNodes()}addHost(r){this.hostNodes.add(r);for(let i of this.getAllStyles())this.addStyleToHost(r,i)}removeHost(r){this.hostNodes.delete(r)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(r){for(let i of this.hostNodes)this.addStyleToHost(i,r)}onStyleRemoved(r){let i=this.styleRef;i.get(r)?.elements?.forEach(o=>o.remove()),i.delete(r)}collectServerRenderedStyles(){let r=this.doc.head?.querySelectorAll(`style[${$p}="${this.appId}"]`);if(r?.length){let i=new Map;return r.forEach(o=>{o.textContent!=null&&i.set(o.textContent,o)}),i}return null}changeUsageCount(r,i){let o=this.styleRef;if(o.has(r)){let s=o.get(r);return s.usage+=i,s.usage}return o.set(r,{usage:i,elements:[]}),i}getStyleElement(r,i){let o=this.styleNodesInDOM,s=o?.get(i);if(s?.parentNode===r)return o.delete(i),s.removeAttribute($p),s;{let c=this.doc.createElement("style");return this.nonce&&c.setAttribute("nonce",this.nonce),c.textContent=i,this.platformIsServer&&c.setAttribute($p,this.appId),r.appendChild(c),c}}addStyleToHost(r,i){let o=this.getStyleElement(r,i),s=this.styleRef,c=s.get(i)?.elements;c?c.push(o):s.set(i,{elements:[o],usage:1})}resetHostNodes(){let r=this.hostNodes;r.clear(),r.add(this.doc.head)}};e.\u0275fac=function(i){return new(i||e)(re(At),re(yp),re(_p,8),re(yr))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),Hp={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Wp=/%COMP%/g,G0="%COMP%",SP=`_nghost-${G0}`,AP=`_ngcontent-${G0}`,MP=!0,xP=new $("",{providedIn:"root",factory:()=>MP});function RP(t){return AP.replace(Wp,t)}function NP(t){return SP.replace(Wp,t)}function W0(t,e){return e.map(n=>n.replace(Wp,t))}var B0=(()=>{let e=class e{constructor(r,i,o,s,c,u,l,f=null){this.eventManager=r,this.sharedStylesHost=i,this.appId=o,this.removeStylesOnCompDestroy=s,this.doc=c,this.platformId=u,this.ngZone=l,this.nonce=f,this.rendererByCompId=new Map,this.platformIsServer=Bp(u),this.defaultRenderer=new ua(r,c,l,this.platformIsServer)}createRenderer(r,i){if(!r||!i)return this.defaultRenderer;this.platformIsServer&&i.encapsulation===rn.ShadowDom&&(i=se(F({},i),{encapsulation:rn.Emulated}));let o=this.getOrCreateRenderer(r,i);return o instanceof ul?o.applyToHost(r):o instanceof la&&o.applyStyles(),o}getOrCreateRenderer(r,i){let o=this.rendererByCompId,s=o.get(i.id);if(!s){let c=this.doc,u=this.ngZone,l=this.eventManager,f=this.sharedStylesHost,g=this.removeStylesOnCompDestroy,_=this.platformIsServer;switch(i.encapsulation){case rn.Emulated:s=new ul(l,f,i,this.appId,g,c,u,_);break;case rn.ShadowDom:return new Gp(l,f,r,i,c,u,this.nonce,_);default:s=new la(l,f,i,g,c,u,_);break}o.set(i.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}};e.\u0275fac=function(i){return new(i||e)(re(z0),re(q0),re(yp),re(xP),re(At),re(yr),re(we),re(_p))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),ua=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Hp[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){($0(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&($0(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new B(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Hp[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Hp[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(An.DashCase|An.Important)?e.style.setProperty(n,r,i&An.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&An.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Fn().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function $0(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Gp=class extends ua{constructor(e,n,r,i,o,s,c,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let l=W0(i.id,i.styles);for(let f of l){let g=document.createElement("style");c&&g.setAttribute("nonce",c),g.textContent=f,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},la=class extends ua{constructor(e,n,r,i,o,s,c,u){super(e,o,s,c),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?W0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},ul=class extends la{constructor(e,n,r,i,o,s,c,u){let l=i+"-"+r.id;super(e,n,r,o,s,c,u,l),this.contentAttr=RP(l),this.hostAttr=NP(l)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},PP=(()=>{let e=class e extends ca{constructor(r){super(r)}supports(r){return!0}addEventListener(r,i,o){return r.addEventListener(i,o,!1),()=>this.removeEventListener(r,i,o)}removeEventListener(r,i,o){return r.removeEventListener(i,o)}};e.\u0275fac=function(i){return new(i||e)(re(At))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),OP=(()=>{let e=class e extends ca{constructor(r){super(r),this.delegate=L(T0,{optional:!0})}supports(r){return this.delegate?this.delegate.supports(r):!1}addEventListener(r,i,o){return this.delegate.addEventListener(r,i,o)}removeEventListener(r,i,o){return this.delegate.removeEventListener(r,i,o)}};e.\u0275fac=function(i){return new(i||e)(re(At))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})(),H0=["alt","control","meta","shift"],kP={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},FP={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},LP=(()=>{let e=class e extends ca{constructor(r){super(r)}supports(r){return e.parseEventName(r)!=null}addEventListener(r,i,o){let s=e.parseEventName(i),c=e.eventCallback(s.fullKey,o,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Fn().onAndCancel(r,s.domEventName,c))}static parseEventName(r){let i=r.toLowerCase().split("."),o=i.shift();if(i.length===0||!(o==="keydown"||o==="keyup"))return null;let s=e._normalizeKey(i.pop()),c="",u=i.indexOf("code");if(u>-1&&(i.splice(u,1),c="code."),H0.forEach(f=>{let g=i.indexOf(f);g>-1&&(i.splice(g,1),c+=f+".")}),c+=s,i.length!=0||s.length===0)return null;let l={};return l.domEventName=o,l.fullKey=c,l}static matchEventFullKeyCode(r,i){let o=kP[r.key]||r.key,s="";return i.indexOf("code.")>-1&&(o=r.code,s="code."),o==null||!o?!1:(o=o.toLowerCase(),o===" "?o="space":o==="."&&(o="dot"),H0.forEach(c=>{if(c!==o){let u=FP[c];u(r)&&(s+=c+".")}}),s+=o,s===i)}static eventCallback(r,i,o){return s=>{e.matchEventFullKeyCode(s,r)&&o.runGuarded(()=>i(s))}}static _normalizeKey(r){return r==="esc"?"escape":r}};e.\u0275fac=function(i){return new(i||e)(re(At))},e.\u0275prov=q({token:e,factory:e.\u0275fac});let t=e;return t})();function K0(t,e){return D0(F({rootComponent:t},VP(e)))}function VP(t){return{appProviders:[...HP,...t?.providers??[]],platformProviders:$P}}function jP(){qp.makeCurrent()}function UP(){return new Sn}function BP(){return TE(document),document}var $P=[{provide:yr,useValue:U0},{provide:vp,useValue:jP,multi:!0},{provide:At,useFactory:BP,deps:[]}];var HP=[{provide:$u,useValue:"root"},{provide:Sn,useFactory:UP,deps:[]},{provide:cl,useClass:PP,multi:!0,deps:[At,we,yr]},{provide:cl,useClass:LP,multi:!0,deps:[At]},{provide:cl,useClass:OP,multi:!0},B0,q0,z0,{provide:yo,useExisting:B0},{provide:sl,useClass:TP,deps:[]},[]];var Q0=(()=>{let e=class e{constructor(r){this._doc=r}getTitle(){return this._doc.title}setTitle(r){this._doc.title=r||""}};e.\u0275fac=function(i){return new(i||e)(re(At))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();var J="primary",Ta=Symbol("RouteTitle"),Jp=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Oo(t){return new Jp(t)}function qP(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],c=t[o];if(s[0]===":")i[s.substring(1)]=c;else if(s!==c.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function GP(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!dn(t[n],e[n]))return!1;return!0}function dn(t,e){let n=t?Xp(t):void 0,r=e?Xp(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!rb(t[i],e[i]))return!1;return!0}function Xp(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function rb(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function ib(t){return t.length>0?t[t.length-1]:null}function Ir(t){return Hh(t)?t:si(t)?Me(Promise.resolve(t)):Y(t)}var WP={exact:sb,subset:ab},ob={exact:KP,subset:QP,ignored:()=>!0};function Y0(t,e,n){return WP[n.paths](t.root,e.root,n.matrixParams)&&ob[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function KP(t,e){return dn(t,e)}function sb(t,e,n){if(!hi(t.segments,e.segments)||!hl(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!sb(t.children[r],e.children[r],n))return!1;return!0}function QP(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>rb(t[n],e[n]))}function ab(t,e,n){return cb(t,e,e.segments,n)}function cb(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!hi(i,n)||e.hasChildren()||!hl(i,n,r))}else if(t.segments.length===n.length){if(!hi(t.segments,n)||!hl(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!ab(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!hi(t.segments,i)||!hl(t.segments,i,r)||!t.children[J]?!1:cb(t.children[J],e,o,r)}}function hl(t,e,n){return e.every((r,i)=>ob[n](t[i].parameters,r.parameters))}var Vn=class{constructor(e=new _e([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Oo(this.queryParams),this._queryParamMap}toString(){return JP.serialize(this)}},_e=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return fl(this)}},di=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Oo(this.parameters),this._parameterMap}toString(){return lb(this)}};function YP(t,e){return hi(t,e)&&t.every((n,r)=>dn(n.parameters,e[r].parameters))}function hi(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function ZP(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===J&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==J&&(n=n.concat(e(i,r)))}),n}var Dg=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>new ya,providedIn:"root"});let t=e;return t})(),ya=class{parse(e){let n=new tg(e);return new Vn(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${da(e.root,!0)}`,r=t1(e.queryParams),i=typeof e.fragment=="string"?`#${XP(e.fragment)}`:"";return`${n}${r}${i}`}},JP=new ya;function fl(t){return t.segments.map(e=>lb(e)).join("/")}function da(t,e){if(!t.hasChildren())return fl(t);if(e){let n=t.children[J]?da(t.children[J],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==J&&r.push(`${i}:${da(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=ZP(t,(r,i)=>i===J?[da(t.children[J],!1)]:[`${i}:${da(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[J]!=null?`${fl(t)}/${n[0]}`:`${fl(t)}/(${n.join("//")})`}}function ub(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function ll(t){return ub(t).replace(/%3B/gi,";")}function XP(t){return encodeURI(t)}function eg(t){return ub(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pl(t){return decodeURIComponent(t)}function Z0(t){return pl(t.replace(/\+/g,"%20"))}function lb(t){return`${eg(t.path)}${e1(t.parameters)}`}function e1(t){return Object.entries(t).map(([e,n])=>`;${eg(e)}=${eg(n)}`).join("")}function t1(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${ll(n)}=${ll(i)}`).join("&"):`${ll(n)}=${ll(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var n1=/^[^\/()?;#]+/;function Kp(t){let e=t.match(n1);return e?e[0]:""}var r1=/^[^\/()?;=#]+/;function i1(t){let e=t.match(r1);return e?e[0]:""}var o1=/^[^=?&#]+/;function s1(t){let e=t.match(o1);return e?e[0]:""}var a1=/^[^&#]+/;function c1(t){let e=t.match(a1);return e?e[0]:""}var tg=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[J]=new _e(e,n)),r}parseSegment(){let e=Kp(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new B(4009,!1);return this.capture(e),new di(pl(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=i1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=Kp(this.remaining);i&&(r=i,this.capture(r))}e[pl(n)]=pl(r)}parseQueryParam(e){let n=s1(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=c1(this.remaining);s&&(r=s,this.capture(r))}let i=Z0(n),o=Z0(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=Kp(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new B(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=J);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[J]:new _e([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new B(4011,!1)}};function db(t){return t.segments.length>0?new _e([],{[J]:t}):t}function hb(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=hb(i);if(r===J&&o.segments.length===0&&o.hasChildren())for(let[s,c]of Object.entries(o.children))e[s]=c;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new _e(t.segments,e);return u1(n)}function u1(t){if(t.numberOfChildren===1&&t.children[J]){let e=t.children[J];return new _e(t.segments.concat(e.segments),e.children)}return t}function fi(t){return t instanceof Vn}function l1(t,e,n=null,r=null){let i=fb(t);return pb(i,e,n,r)}function fb(t){let e;function n(o){let s={};for(let u of o.children){let l=n(u);s[u.outlet]=l}let c=new _e(o.url,s);return o===t&&(e=c),c}let r=n(t.root),i=db(r);return e??i}function pb(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Qp(i,i,i,n,r);let o=d1(e);if(o.toRoot())return Qp(i,i,new _e([],{}),n,r);let s=h1(o,i,t),c=s.processChildren?pa(s.segmentGroup,s.index,o.commands):mb(s.segmentGroup,s.index,o.commands);return Qp(i,s.segmentGroup,c,n,r)}function gl(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function va(t){return typeof t=="object"&&t!=null&&t.outlets}function Qp(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,l])=>{o[u]=Array.isArray(l)?l.map(f=>`${f}`):`${l}`});let s;t===e?s=n:s=gb(t,e,n);let c=db(hb(s));return new Vn(c,o,i)}function gb(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=gb(o,e,n)}),new _e(t.segments,r)}var ml=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&gl(r[0]))throw new B(4003,!1);let i=r.find(va);if(i&&i!==ib(r))throw new B(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function d1(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new ml(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let c={};return Object.entries(o.outlets).forEach(([u,l])=>{c[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:c}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((c,u)=>{u==0&&c==="."||(u==0&&c===""?n=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,o]},[]);return new ml(n,e,r)}var Ro=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function h1(t,e,n){if(t.isAbsolute)return new Ro(e,!0,0);if(!n)return new Ro(e,!1,NaN);if(n.parent===null)return new Ro(n,!0,0);let r=gl(t.commands[0])?0:1,i=n.segments.length-1+r;return f1(n,i,t.numberOfDoubleDots)}function f1(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new B(4005,!1);i=r.segments.length}return new Ro(r,!1,i-o)}function p1(t){return va(t[0])?t[0].outlets:{[J]:t}}function mb(t,e,n){if(t??=new _e([],{}),t.segments.length===0&&t.hasChildren())return pa(t,e,n);let r=g1(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new _e(t.segments.slice(0,r.pathIndex),{});return o.children[J]=new _e(t.segments.slice(r.pathIndex),t.children),pa(o,0,i)}else return r.match&&i.length===0?new _e(t.segments,{}):r.match&&!t.hasChildren()?ng(t,e,n):r.match?pa(t,0,i):ng(t,e,n)}function pa(t,e,n){if(n.length===0)return new _e(t.segments,{});{let r=p1(n),i={};if(Object.keys(r).some(o=>o!==J)&&t.children[J]&&t.numberOfChildren===1&&t.children[J].segments.length===0){let o=pa(t.children[J],e,n);return new _e(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=mb(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new _e(t.segments,i)}}function g1(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],c=n[r];if(va(c))break;let u=`${c}`,l=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!X0(u,l,s))return o;r+=2}else{if(!X0(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function ng(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(va(o)){let u=m1(o.outlets);return new _e(r,u)}if(i===0&&gl(n[0])){let u=t.segments[e];r.push(new di(u.path,J0(n[0]))),i++;continue}let s=va(o)?o.outlets[J]:`${o}`,c=i<n.length-1?n[i+1]:null;s&&c&&gl(c)?(r.push(new di(s,J0(c))),i+=2):(r.push(new di(s,{})),i++)}return new _e(r,{})}function m1(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=ng(new _e([],{}),0,r))}),e}function J0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function X0(t,e,n){return t==n.path&&dn(e,n.parameters)}var ga="imperative",et=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(et||{}),Ut=class{constructor(e,n){this.id=e,this.url=n}},_a=class extends Ut{constructor(e,n,r="imperative",i=null){super(e,n),this.type=et.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},wr=class extends Ut{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=et.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},xt=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(xt||{}),rg=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(rg||{}),Ln=class extends Ut{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=et.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},pi=class extends Ut{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=et.NavigationSkipped}},wa=class extends Ut{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=et.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},yl=class extends Ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ig=class extends Ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},og=class extends Ut{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=et.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},sg=class extends Ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ag=class extends Ut{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=et.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},cg=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},ug=class{constructor(e){this.route=e,this.type=et.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},lg=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},dg=class{constructor(e){this.snapshot=e,this.type=et.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},hg=class{constructor(e){this.snapshot=e,this.type=et.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},fg=class{constructor(e){this.snapshot=e,this.type=et.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}};var Ia=class{},ko=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function y1(t,e){return t.providers&&!t._injector&&(t._injector=Np(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Jt(t){return t.outlet||J}function v1(t,e){let n=t.filter(r=>Jt(r)===e);return n.push(...t.filter(r=>Jt(r)!==e)),n}function Sa(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var pg=class{get injector(){return Sa(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new Cl(this.rootInjector),this.attachRef=null}},Cl=(()=>{let e=class e{constructor(r){this.rootInjector=r,this.contexts=new Map}onChildOutletCreated(r,i){let o=this.getOrCreateContext(r);o.outlet=i,this.contexts.set(r,o)}onChildOutletDestroyed(r){let i=this.getContext(r);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let r=this.contexts;return this.contexts=new Map,r}onOutletReAttached(r){this.contexts=r}getOrCreateContext(r){let i=this.getContext(r);return i||(i=new pg(this.rootInjector),this.contexts.set(r,i)),i}getContext(r){return this.contexts.get(r)||null}};e.\u0275fac=function(i){return new(i||e)(re(Vt))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),vl=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=gg(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=gg(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=mg(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return mg(e,this._root).map(n=>n.value)}};function gg(t,e){if(t===e.value)return e;for(let n of e.children){let r=gg(t,n);if(r)return r}return null}function mg(t,e){if(t===e.value)return[e];for(let n of e.children){let r=mg(t,n);if(r.length)return r.unshift(e),r}return[]}var Mt=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function xo(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var _l=class extends vl{constructor(e,n){super(e),this.snapshot=n,Tg(this,e)}toString(){return this.snapshot.toString()}};function yb(t){let e=_1(t),n=new Xe([new di("",{})]),r=new Xe({}),i=new Xe({}),o=new Xe({}),s=new Xe(""),c=new gi(n,r,o,s,i,J,t,e.root);return c.snapshot=e.root,new _l(new Mt(c,[]),e)}function _1(t){let e={},n={},r={},i="",o=new No([],e,r,i,n,J,t,null,{});return new Il("",new Mt(o,[]))}var gi=class{constructor(e,n,r,i,o,s,c,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=c,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(oe(l=>l[Ta]))??Y(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(oe(e=>Oo(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(oe(e=>Oo(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function wl(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:F(F({},e.params),t.params),data:F(F({},e.data),t.data),resolve:F(F(F(F({},t.data),e.data),i?.data),t._resolvedData)}:r={params:F({},t.params),data:F({},t.data),resolve:F(F({},t.data),t._resolvedData??{})},i&&_b(i)&&(r.resolve[Ta]=i.title),r}var No=class{get title(){return this.data?.[Ta]}constructor(e,n,r,i,o,s,c,u,l){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=c,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Oo(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Oo(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Il=class extends vl{constructor(e,n){super(n),this.url=e,Tg(this,n)}toString(){return vb(this._root)}};function Tg(t,e){e.value._routerState=t,e.children.forEach(n=>Tg(t,n))}function vb(t){let e=t.children.length>0?` { ${t.children.map(vb).join(", ")} } `:"";return`${t.value}${e}`}function Yp(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,dn(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),dn(e.params,n.params)||t.paramsSubject.next(n.params),GP(e.url,n.url)||t.urlSubject.next(n.url),dn(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function yg(t,e){let n=dn(t.params,e.params)&&YP(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||yg(t.parent,e.parent))}function _b(t){return typeof t.title=="string"||t.title===null}var Sg=(()=>{let e=class e{constructor(){this.activated=null,this._activatedRoute=null,this.name=J,this.activateEvents=new Pe,this.deactivateEvents=new Pe,this.attachEvents=new Pe,this.detachEvents=new Pe,this.parentContexts=L(Cl),this.location=L(Do),this.changeDetector=L(ci),this.inputBinder=L(Ag,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(r){if(r.name){let{firstChange:i,previousValue:o}=r.name;if(i)return;this.isTrackedInParentContexts(o)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(o)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(r){return this.parentContexts.getContext(r)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let r=this.parentContexts.getContext(this.name);r?.route&&(r.attachRef?this.attach(r.attachRef,r.route):this.activateWith(r.route,r.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new B(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new B(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new B(4012,!1);this.location.detach();let r=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(r.instance),r}attach(r,i){this.activated=r,this._activatedRoute=i,this.location.insert(r.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(r.instance)}deactivate(){if(this.activated){let r=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(r)}}activateWith(r,i){if(this.isActivated)throw new B(4013,!1);this._activatedRoute=r;let o=this.location,c=r.snapshot.component,u=this.parentContexts.getOrCreateContext(this.name).children,l=new vg(r,u,o.injector);this.activated=o.createComponent(c,{index:o.length,injector:l,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ot({type:e,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[ri]});let t=e;return t})(),vg=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===gi?this.route:e===Cl?this.childContexts:this.parent.get(e,n)}},Ag=new $("");function w1(t,e,n){let r=Ea(t,e._root,n?n._root:void 0);return new _l(r,e)}function Ea(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=I1(t,e,n);return new Mt(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(c=>Ea(t,c)),s}}let r=E1(e.value),i=e.children.map(o=>Ea(t,o));return new Mt(r,i)}}function I1(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Ea(t,r,i);return Ea(t,r)})}function E1(t){return new gi(new Xe(t.url),new Xe(t.params),new Xe(t.queryParams),new Xe(t.fragment),new Xe(t.data),t.outlet,t.component,t)}var ba=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},wb="ngNavigationCancelingError";function El(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=fi(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Ib(!1,xt.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function Ib(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[wb]=!0,n.cancellationCode=e,n}function b1(t){return Eb(t)&&fi(t.url)}function Eb(t){return!!t&&t[wb]}var C1=(t,e,n,r)=>oe(i=>(new _g(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),_g=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),Yp(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=xo(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=xo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:c})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=xo(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=xo(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new fg(o.value.snapshot))}),e.children.length&&this.forwardEvent(new dg(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(Yp(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(c.contexts),s.attachRef=c.componentRef,s.route=c.route.value,s.outlet&&s.outlet.attach(c.componentRef,c.route.value),Yp(c.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},bl=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Po=class{constructor(e,n){this.component=e,this.route=n}};function D1(t,e,n){let r=t._root,i=e?e._root:null;return ha(r,i,n,[r.value])}function T1(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Lo(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!lI(t)?t:e.get(t):r}function ha(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=xo(e);return t.children.forEach(s=>{S1(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,c])=>ma(c,n.getContext(s),i)),i}function S1(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,c=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=A1(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new bl(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?ha(t,e,c?c.children:null,r,i):ha(t,e,n,r,i),u&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new Po(c.outlet.component,s))}else s&&ma(e,c,i),i.canActivateChecks.push(new bl(r)),o.component?ha(t,null,c?c.children:null,r,i):ha(t,null,n,r,i);return i}function A1(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!hi(t.url,e.url);case"pathParamsOrQueryParamsChange":return!hi(t.url,e.url)||!dn(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!yg(t,e)||!dn(t.queryParams,e.queryParams);case"paramsChange":default:return!yg(t,e)}}function ma(t,e,n){let r=xo(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?ma(s,e.children.getContext(o),n):ma(s,null,n):ma(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Po(e.outlet.component,i)):n.canDeactivateChecks.push(new Po(null,i)):n.canDeactivateChecks.push(new Po(null,i))}function Aa(t){return typeof t=="function"}function M1(t){return typeof t=="boolean"}function x1(t){return t&&Aa(t.canLoad)}function R1(t){return t&&Aa(t.canActivate)}function N1(t){return t&&Aa(t.canActivateChild)}function P1(t){return t&&Aa(t.canDeactivate)}function O1(t){return t&&Aa(t.canMatch)}function bb(t){return t instanceof Dn||t?.name==="EmptyError"}var dl=Symbol("INITIAL_VALUE");function Fo(){return Gt(t=>nu(t.map(e=>e.pipe(Tn(1),Qh(dl)))).pipe(oe(e=>{for(let n of e)if(n!==!0){if(n===dl)return dl;if(n===!1||k1(n))return n}return!0}),qt(e=>e!==dl),Tn(1)))}function k1(t){return fi(t)||t instanceof ba}function F1(t,e){return je(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?Y(se(F({},n),{guardsResult:!0})):L1(s,r,i,t).pipe(je(c=>c&&M1(c)?V1(r,o,t,e):Y(c)),oe(c=>se(F({},n),{guardsResult:c})))})}function L1(t,e,n,r){return Me(t).pipe(je(i=>H1(i.component,i.route,n,e,r)),en(i=>i!==!0,!0))}function V1(t,e,n,r){return Me(e).pipe(Xi(i=>Ji(U1(i.route.parent,r),j1(i.route,r),$1(t,i.path,n),B1(t,i.route,n))),en(i=>i!==!0,!0))}function j1(t,e){return t!==null&&e&&e(new hg(t)),Y(!0)}function U1(t,e){return t!==null&&e&&e(new lg(t)),Y(!0)}function B1(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return Y(!0);let i=r.map(o=>ru(()=>{let s=Sa(e)??n,c=Lo(o,s),u=R1(c)?c.canActivate(e,t):xn(s,()=>c(e,t));return Ir(u).pipe(en())}));return Y(i).pipe(Fo())}function $1(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>T1(s)).filter(s=>s!==null).map(s=>ru(()=>{let c=s.guards.map(u=>{let l=Sa(s.node)??n,f=Lo(u,l),g=N1(f)?f.canActivateChild(r,t):xn(l,()=>f(r,t));return Ir(g).pipe(en())});return Y(c).pipe(Fo())}));return Y(o).pipe(Fo())}function H1(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return Y(!0);let s=o.map(c=>{let u=Sa(e)??i,l=Lo(c,u),f=P1(l)?l.canDeactivate(t,e,n,r):xn(u,()=>l(t,e,n,r));return Ir(f).pipe(en())});return Y(s).pipe(Fo())}function z1(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return Y(!0);let o=i.map(s=>{let c=Lo(s,t),u=x1(c)?c.canLoad(e,n):xn(t,()=>c(e,n));return Ir(u)});return Y(o).pipe(Fo(),Cb(r))}function Cb(t){return kh(Ue(e=>{if(typeof e!="boolean")throw El(t,e)}),oe(e=>e===!0))}function q1(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return Y(!0);let o=i.map(s=>{let c=Lo(s,t),u=O1(c)?c.canMatch(e,n):xn(t,()=>c(e,n));return Ir(u)});return Y(o).pipe(Fo(),Cb(r))}var Ca=class{constructor(e){this.segmentGroup=e||null}},Da=class extends Error{constructor(e){super(),this.urlTree=e}};function Mo(t){return Zi(new Ca(t))}function G1(t){return Zi(new B(4e3,!1))}function W1(t){return Zi(Ib(!1,xt.GuardRejected))}var wg=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return Y(r);if(i.numberOfChildren>1||!i.children[J])return G1(`${e.redirectTo}`);i=i.children[J]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let c=n,{queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,params:w,data:A,title:O}=i,P=xn(o,()=>c({params:w,data:A,queryParams:u,fragment:l,routeConfig:f,url:g,outlet:_,title:O}));if(P instanceof Vn)throw new Da(P);n=P}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Da(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Vn(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let c=o.substring(1);r[i]=n[c]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([c,u])=>{s[c]=this.createSegmentGroup(e,u,r,i)}),new _e(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new B(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ig={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function K1(t,e,n,r,i){let o=Db(t,e,n);return o.matched?(r=y1(e,r),q1(r,e,n,i).pipe(oe(s=>s===!0?o:F({},Ig)))):Y(o)}function Db(t,e,n){if(e.path==="**")return Q1(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?F({},Ig):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||qP)(n,t,e);if(!i)return F({},Ig);let o={};Object.entries(i.posParams??{}).forEach(([c,u])=>{o[c]=u.path});let s=i.consumed.length>0?F(F({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function Q1(t){return{matched:!0,parameters:t.length>0?ib(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function eb(t,e,n,r){return n.length>0&&J1(t,n,r)?{segmentGroup:new _e(e,Z1(r,new _e(n,t.children))),slicedSegments:[]}:n.length===0&&X1(t,n,r)?{segmentGroup:new _e(t.segments,Y1(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new _e(t.segments,t.children),slicedSegments:n}}function Y1(t,e,n,r){let i={};for(let o of n)if(Dl(t,e,o)&&!r[Jt(o)]){let s=new _e([],{});i[Jt(o)]=s}return F(F({},r),i)}function Z1(t,e){let n={};n[J]=e;for(let r of t)if(r.path===""&&Jt(r)!==J){let i=new _e([],{});n[Jt(r)]=i}return n}function J1(t,e,n){return n.some(r=>Dl(t,e,r)&&Jt(r)!==J)}function X1(t,e,n){return n.some(r=>Dl(t,e,r))}function Dl(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function eO(t,e,n){return e.length===0&&!t.children[n]}var Eg=class{};function tO(t,e,n,r,i,o,s="emptyOnly"){return new bg(t,e,n,r,i,s,o).recognize()}var nO=31,bg=class{constructor(e,n,r,i,o,s,c){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=c,this.applyRedirects=new wg(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new B(4002,`'${e.segmentGroup}'`)}recognize(){let e=eb(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(oe(({children:n,rootSnapshot:r})=>{let i=new Mt(r,n),o=new Il("",i),s=l1(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new No([],Object.freeze({}),Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),J,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,J,n).pipe(oe(r=>({children:r,rootSnapshot:n})),sr(r=>{if(r instanceof Da)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Ca?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(oe(s=>s instanceof Mt?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Me(o).pipe(Xi(s=>{let c=r.children[s],u=v1(n,s);return this.processSegmentGroup(e,u,c,s,i)}),Kh((s,c)=>(s.push(...c),s)),ar(null),Wh(),je(s=>{if(s===null)return Mo(r);let c=Tb(s);return rO(c),Y(c)}))}processSegment(e,n,r,i,o,s,c){return Me(n).pipe(Xi(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,c).pipe(sr(l=>{if(l instanceof Ca)return Y(null);throw l}))),en(u=>!!u),sr(u=>{if(bb(u))return eO(r,i,o)?Y(new Eg):Mo(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,c,u){return Jt(r)!==s&&(s===J||!Dl(i,o,r))?Mo(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Mo(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,c){let{matched:u,parameters:l,consumedSegments:f,positionalParamSegments:g,remainingSegments:_}=Db(n,i,o);if(!u)return Mo(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>nO&&(this.allowRedirects=!1));let w=new No(o,l,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,tb(i),Jt(i),i.component??i._loadedComponent??null,i,nb(i)),A=wl(w,c,this.paramsInheritanceStrategy);w.params=Object.freeze(A.params),w.data=Object.freeze(A.data);let O=this.applyRedirects.applyRedirectCommands(f,i.redirectTo,g,w,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(je(P=>this.processSegment(e,r,n,P.concat(_),s,!1,c)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let c=K1(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),c.pipe(Gt(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(Gt(({routes:l})=>{let f=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:w}=u,A=new No(_,g,Object.freeze(F({},this.urlTree.queryParams)),this.urlTree.fragment,tb(r),Jt(r),r.component??r._loadedComponent??null,r,nb(r)),O=wl(A,s,this.paramsInheritanceStrategy);A.params=Object.freeze(O.params),A.data=Object.freeze(O.data);let{segmentGroup:P,slicedSegments:j}=eb(n,_,w,l);if(j.length===0&&P.hasChildren())return this.processChildren(f,l,P,A).pipe(oe(X=>new Mt(A,X)));if(l.length===0&&j.length===0)return Y(new Mt(A,[]));let K=Jt(r)===o;return this.processSegment(f,l,P,j,K?J:o,!0,A).pipe(oe(X=>new Mt(A,X instanceof Mt?[X]:[])))}))):Mo(n)))}getChildConfig(e,n,r){return n.children?Y({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?Y({routes:n._loadedRoutes,injector:n._loadedInjector}):z1(e,n,r,this.urlSerializer).pipe(je(i=>i?this.configLoader.loadChildren(e,n).pipe(Ue(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):W1(n))):Y({routes:[],injector:e})}};function rO(t){t.sort((e,n)=>e.value.outlet===J?-1:n.value.outlet===J?1:e.value.outlet.localeCompare(n.value.outlet))}function iO(t){let e=t.value.routeConfig;return e&&e.path===""}function Tb(t){let e=[],n=new Set;for(let r of t){if(!iO(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=Tb(r.children);e.push(new Mt(r.value,i))}return e.filter(r=>!n.has(r))}function tb(t){return t.data||{}}function nb(t){return t.resolve||{}}function oO(t,e,n,r,i,o){return je(s=>tO(t,e,n,r,s.extractedUrl,i,o).pipe(oe(({state:c,tree:u})=>se(F({},s),{targetSnapshot:c,urlAfterRedirects:u}))))}function sO(t,e){return je(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return Y(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let l of Sb(u))s.add(l);let c=0;return Me(s).pipe(Xi(u=>o.has(u)?aO(u,r,t,e):(u.data=wl(u,u.parent,t).resolve,Y(void 0))),Ue(()=>c++),eo(1),je(u=>c===s.size?Y(n):bt))})}function Sb(t){let e=t.children.map(n=>Sb(n)).flat();return[t,...e]}function aO(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!_b(i)&&(o[Ta]=i.title),cO(o,t,e,r).pipe(oe(s=>(t._resolvedData=s,t.data=wl(t,t.parent,n).resolve,null)))}function cO(t,e,n,r){let i=Xp(t);if(i.length===0)return Y({});let o={};return Me(i).pipe(je(s=>uO(t[s],e,n,r).pipe(en(),Ue(c=>{if(c instanceof ba)throw El(new ya,c);o[s]=c}))),eo(1),Gh(o),sr(s=>bb(s)?bt:Zi(s)))}function uO(t,e,n,r){let i=Sa(e)??r,o=Lo(t,i),s=o.resolve?o.resolve(e,n):xn(i,()=>o(e,n));return Ir(s)}function Zp(t){return Gt(e=>{let n=t(e);return n?Me(n).pipe(oe(()=>e)):Y(e)})}var Ab=(()=>{let e=class e{buildTitle(r){let i,o=r.root;for(;o!==void 0;)i=this.getResolvedTitleForRoute(o)??i,o=o.children.find(s=>s.outlet===J);return i}getResolvedTitleForRoute(r){return r.data[Ta]}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>L(lO),providedIn:"root"});let t=e;return t})(),lO=(()=>{let e=class e extends Ab{constructor(r){super(),this.title=r}updateTitle(r){let i=this.buildTitle(r);i!==void 0&&this.title.setTitle(i)}};e.\u0275fac=function(i){return new(i||e)(re(Q0))},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),Mg=new $("",{providedIn:"root",factory:()=>({})}),dO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275cmp=Ge({type:e,selectors:[["ng-component"]],standalone:!0,features:[We],decls:1,vars:0,template:function(i,o){i&1&&ge(0,"router-outlet")},dependencies:[Sg],encapsulation:2});let t=e;return t})();function xg(t){let e=t.children&&t.children.map(xg),n=e?se(F({},t),{children:e}):F({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==J&&(n.component=dO),n}var Rg=new $(""),hO=(()=>{let e=class e{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=L(Op)}loadComponent(r){if(this.componentLoaders.get(r))return this.componentLoaders.get(r);if(r._loadedComponent)return Y(r._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(r);let i=Ir(r.loadComponent()).pipe(oe(Mb),Ue(s=>{this.onLoadEndListener&&this.onLoadEndListener(r),r._loadedComponent=s}),Us(()=>{this.componentLoaders.delete(r)})),o=new Wi(i,()=>new qe).pipe(Gi());return this.componentLoaders.set(r,o),o}loadChildren(r,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return Y({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let s=fO(i,this.compiler,r,this.onLoadEndListener).pipe(Us(()=>{this.childrenLoaders.delete(i)})),c=new Wi(s,()=>new qe).pipe(Gi());return this.childrenLoaders.set(i,c),c}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function fO(t,e,n,r){return Ir(t.loadChildren()).pipe(oe(Mb),je(i=>i instanceof Qs||Array.isArray(i)?Y(i):Me(e.compileModuleAsync(i))),oe(i=>{r&&r(t);let o,s,c=!1;return Array.isArray(i)?(s=i,c=!0):(o=i.create(n).injector,s=o.get(Rg,[],{optional:!0,self:!0}).flat()),{routes:s.map(xg),injector:o}}))}function pO(t){return t&&typeof t=="object"&&"default"in t}function Mb(t){return pO(t)?t.default:t}var Ng=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>L(gO),providedIn:"root"});let t=e;return t})(),gO=(()=>{let e=class e{shouldProcessUrl(r){return!0}extract(r){return r}merge(r,i){return r}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),mO=new $("");var yO=new $(""),vO=(()=>{let e=class e{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new qe,this.transitionAbortSubject=new qe,this.configLoader=L(hO),this.environmentInjector=L(Vt),this.urlSerializer=L(Dg),this.rootContexts=L(Cl),this.location=L(sa),this.inputBindingEnabled=L(Ag,{optional:!0})!==null,this.titleStrategy=L(Ab),this.options=L(Mg,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=L(Ng),this.createViewTransition=L(mO,{optional:!0}),this.navigationErrorHandler=L(yO,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>Y(void 0),this.rootComponentType=null;let r=o=>this.events.next(new cg(o)),i=o=>this.events.next(new ug(o));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=r}complete(){this.transitions?.complete()}handleNavigationRequest(r){let i=++this.navigationId;this.transitions?.next(se(F(F({},this.transitions.value),r),{id:i}))}setupNavigations(r,i,o){return this.transitions=new Xe({id:0,currentUrlTree:i,currentRawUrl:i,extractedUrl:this.urlHandlingStrategy.extract(i),urlAfterRedirects:this.urlHandlingStrategy.extract(i),rawUrl:i,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ga,restoredState:null,currentSnapshot:o.snapshot,targetSnapshot:null,currentRouterState:o,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(qt(s=>s.id!==0),oe(s=>se(F({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),Gt(s=>{let c=!1,u=!1;return Y(s).pipe(Gt(l=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),bt;this.currentTransition=s,this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,targetBrowserUrl:typeof l.extras.browserUrl=="string"?this.urlSerializer.parse(l.extras.browserUrl):l.extras.browserUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?se(F({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let f=!r.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),g=l.extras.onSameUrlNavigation??r.onSameUrlNavigation;if(!f&&g!=="reload"){let _="";return this.events.next(new pi(l.id,this.urlSerializer.serialize(l.rawUrl),_,rg.IgnoredSameUrlNavigation)),l.resolve(!1),bt}if(this.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Y(l).pipe(Gt(_=>{let w=this.transitions?.getValue();return this.events.next(new _a(_.id,this.urlSerializer.serialize(_.extractedUrl),_.source,_.restoredState)),w!==this.transitions?.getValue()?bt:Promise.resolve(_)}),oO(this.environmentInjector,this.configLoader,this.rootComponentType,r.config,this.urlSerializer,this.paramsInheritanceStrategy),Ue(_=>{s.targetSnapshot=_.targetSnapshot,s.urlAfterRedirects=_.urlAfterRedirects,this.currentNavigation=se(F({},this.currentNavigation),{finalUrl:_.urlAfterRedirects});let w=new yl(_.id,this.urlSerializer.serialize(_.extractedUrl),this.urlSerializer.serialize(_.urlAfterRedirects),_.targetSnapshot);this.events.next(w)}));if(f&&this.urlHandlingStrategy.shouldProcessUrl(l.currentRawUrl)){let{id:_,extractedUrl:w,source:A,restoredState:O,extras:P}=l,j=new _a(_,this.urlSerializer.serialize(w),A,O);this.events.next(j);let K=yb(this.rootComponentType).snapshot;return this.currentTransition=s=se(F({},l),{targetSnapshot:K,urlAfterRedirects:w,extras:se(F({},P),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=w,Y(s)}else{let _="";return this.events.next(new pi(l.id,this.urlSerializer.serialize(l.extractedUrl),_,rg.IgnoredByUrlHandlingStrategy)),l.resolve(!1),bt}}),Ue(l=>{let f=new ig(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(f)}),oe(l=>(this.currentTransition=s=se(F({},l),{guards:D1(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),s)),F1(this.environmentInjector,l=>this.events.next(l)),Ue(l=>{if(s.guardsResult=l.guardsResult,l.guardsResult&&typeof l.guardsResult!="boolean")throw El(this.urlSerializer,l.guardsResult);let f=new og(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(f)}),qt(l=>l.guardsResult?!0:(this.cancelNavigationTransition(l,"",xt.GuardRejected),!1)),Zp(l=>{if(l.guards.canActivateChecks.length)return Y(l).pipe(Ue(f=>{let g=new sg(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}),Gt(f=>{let g=!1;return Y(f).pipe(sO(this.paramsInheritanceStrategy,this.environmentInjector),Ue({next:()=>g=!0,complete:()=>{g||this.cancelNavigationTransition(f,"",xt.NoDataFromResolver)}}))}),Ue(f=>{let g=new ag(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(g)}))}),Zp(l=>{let f=g=>{let _=[];g.routeConfig?.loadComponent&&!g.routeConfig._loadedComponent&&_.push(this.configLoader.loadComponent(g.routeConfig).pipe(Ue(w=>{g.component=w}),oe(()=>{})));for(let w of g.children)_.push(...f(w));return _};return nu(f(l.targetSnapshot.root)).pipe(ar(null),Tn(1))}),Zp(()=>this.afterPreactivation()),Gt(()=>{let{currentSnapshot:l,targetSnapshot:f}=s,g=this.createViewTransition?.(this.environmentInjector,l.root,f.root);return g?Me(g).pipe(oe(()=>s)):Y(s)}),oe(l=>{let f=w1(r.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return this.currentTransition=s=se(F({},l),{targetRouterState:f}),this.currentNavigation.targetRouterState=f,s}),Ue(()=>{this.events.next(new Ia)}),C1(this.rootContexts,r.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Tn(1),Ue({next:l=>{c=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new wr(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects))),this.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{c=!0}}),Yh(this.transitionAbortSubject.pipe(Ue(l=>{throw l}))),Us(()=>{!c&&!u&&this.cancelNavigationTransition(s,"",xt.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),sr(l=>{if(u=!0,Eb(l))this.events.next(new Ln(s.id,this.urlSerializer.serialize(s.extractedUrl),l.message,l.cancellationCode)),b1(l)?this.events.next(new ko(l.url,l.navigationBehaviorOptions)):s.resolve(!1);else{let f=new wa(s.id,this.urlSerializer.serialize(s.extractedUrl),l,s.targetSnapshot??void 0);try{let g=xn(this.environmentInjector,()=>this.navigationErrorHandler?.(f));if(g instanceof ba){let{message:_,cancellationCode:w}=El(this.urlSerializer,g);this.events.next(new Ln(s.id,this.urlSerializer.serialize(s.extractedUrl),_,w)),this.events.next(new ko(g.redirectTo,g.navigationBehaviorOptions))}else{this.events.next(f);let _=r.errorHandler(l);s.resolve(!!_)}}catch(g){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(g)}}return bt}))}))}cancelNavigationTransition(r,i,o){let s=new Ln(r.id,this.urlSerializer.serialize(r.extractedUrl),i,o);this.events.next(s),r.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let r=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return r.toString()!==i?.toString()&&!this.currentNavigation?.extras.skipLocationChange}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function _O(t){return t!==ga}var wO=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>L(IO),providedIn:"root"});let t=e;return t})(),Cg=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},IO=(()=>{let e=class e extends Cg{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ea(e)))(o||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),xb=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:()=>L(EO),providedIn:"root"});let t=e;return t})(),EO=(()=>{let e=class e extends xb{constructor(){super(...arguments),this.location=L(sa),this.urlSerializer=L(Dg),this.options=L(Mg,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=L(Ng),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Vn,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=yb(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(r){return this.location.subscribe(i=>{i.type==="popstate"&&r(i.url,i.state)})}handleRouterEvent(r,i){if(r instanceof _a)this.stateMemento=this.createStateMemento();else if(r instanceof pi)this.rawUrlTree=i.initialUrl;else if(r instanceof yl){if(this.urlUpdateStrategy==="eager"&&!i.extras.skipLocationChange){let o=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl);this.setBrowserUrl(i.targetBrowserUrl??o,i)}}else r instanceof Ia?(this.currentUrlTree=i.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(i.finalUrl,i.initialUrl),this.routerState=i.targetRouterState,this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(i.targetBrowserUrl??this.rawUrlTree,i)):r instanceof Ln&&(r.code===xt.GuardRejected||r.code===xt.NoDataFromResolver)?this.restoreHistory(i):r instanceof wa?this.restoreHistory(i,!0):r instanceof wr&&(this.lastSuccessfulId=r.id,this.currentPageId=this.browserPageId)}setBrowserUrl(r,i){let o=r instanceof Vn?this.urlSerializer.serialize(r):r;if(this.location.isCurrentPathEqualTo(o)||i.extras.replaceUrl){let s=this.browserPageId,c=F(F({},i.extras.state),this.generateNgRouterState(i.id,s));this.location.replaceState(o,"",c)}else{let s=F(F({},i.extras.state),this.generateNgRouterState(i.id,this.browserPageId+1));this.location.go(o,"",s)}}restoreHistory(r,i=!1){if(this.canceledNavigationResolution==="computed"){let o=this.browserPageId,s=this.currentPageId-o;s!==0?this.location.historyGo(s):this.currentUrlTree===r.finalUrl&&s===0&&(this.resetState(r),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetState(r),this.resetUrlToCurrentUrlTree())}resetState(r){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,r.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(r,i){return this.canceledNavigationResolution==="computed"?{navigationId:r,\u0275routerPageId:i}:{navigationId:r}}};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ea(e)))(o||e)}})(),e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})(),fa=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(fa||{});function bO(t,e){t.events.pipe(qt(n=>n instanceof wr||n instanceof Ln||n instanceof wa||n instanceof pi),oe(n=>n instanceof wr||n instanceof pi?fa.COMPLETE:(n instanceof Ln?n.code===xt.Redirect||n.code===xt.SupersededByNewNavigation:!1)?fa.REDIRECTING:fa.FAILED),qt(n=>n!==fa.REDIRECTING),Tn(1)).subscribe(()=>{e()})}function CO(t){throw t}var DO={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TO={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},mi=(()=>{let e=class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=L(il),this.stateManager=L(xb),this.options=L(Mg,{optional:!0})||{},this.pendingTasks=L(Co),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=L(vO),this.urlSerializer=L(Dg),this.location=L(sa),this.urlHandlingStrategy=L(Ng),this._events=new qe,this.errorHandler=this.options.errorHandler||CO,this.navigated=!1,this.routeReuseStrategy=L(wO),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=L(Rg,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!L(Ag,{optional:!0}),this.eventsSubscription=new Ae,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:r=>{this.console.warn(r)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let r=this.navigationTransitions.events.subscribe(i=>{try{let o=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(o!==null&&s!==null){if(this.stateManager.handleRouterEvent(i,s),i instanceof Ln&&i.code!==xt.Redirect&&i.code!==xt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof wr)this.navigated=!0;else if(i instanceof ko){let c=i.navigationBehaviorOptions,u=this.urlHandlingStrategy.merge(i.url,o.currentRawUrl),l=F({browserUrl:o.extras.browserUrl,info:o.extras.info,skipLocationChange:o.extras.skipLocationChange,replaceUrl:o.extras.replaceUrl||this.urlUpdateStrategy==="eager"||_O(o.source)},c);this.scheduleNavigation(u,ga,null,l,{resolve:o.resolve,reject:o.reject,promise:o.promise})}}AO(i)&&this._events.next(i)}catch(o){this.navigationTransitions.transitionAbortSubject.next(o)}});this.eventsSubscription.add(r)}resetRootComponentType(r){this.routerState.root.component=r,this.navigationTransitions.rootComponentType=r}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ga,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((r,i)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(r,"popstate",i)},0)})}navigateToSyncWithBrowser(r,i,o){let s={replaceUrl:!0},c=o?.navigationId?o:null;if(o){let l=F({},o);delete l.navigationId,delete l.\u0275routerPageId,Object.keys(l).length!==0&&(s.state=l)}let u=this.parseUrl(r);this.scheduleNavigation(u,i,c,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(r){this.config=r.map(xg),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(r,i={}){let{relativeTo:o,queryParams:s,fragment:c,queryParamsHandling:u,preserveFragment:l}=i,f=l?this.currentUrlTree.fragment:c,g=null;switch(u??this.options.defaultQueryParamsHandling){case"merge":g=F(F({},this.currentUrlTree.queryParams),s);break;case"preserve":g=this.currentUrlTree.queryParams;break;default:g=s||null}g!==null&&(g=this.removeEmptyProps(g));let _;try{let w=o?o.snapshot:this.routerState.snapshot.root;_=fb(w)}catch{(typeof r[0]!="string"||r[0][0]!=="/")&&(r=[]),_=this.currentUrlTree.root}return pb(_,r,g,f??null)}navigateByUrl(r,i={skipLocationChange:!1}){let o=fi(r)?r:this.parseUrl(r),s=this.urlHandlingStrategy.merge(o,this.rawUrlTree);return this.scheduleNavigation(s,ga,null,i)}navigate(r,i={skipLocationChange:!1}){return SO(r),this.navigateByUrl(this.createUrlTree(r,i),i)}serializeUrl(r){return this.urlSerializer.serialize(r)}parseUrl(r){try{return this.urlSerializer.parse(r)}catch{return this.urlSerializer.parse("/")}}isActive(r,i){let o;if(i===!0?o=F({},DO):i===!1?o=F({},TO):o=i,fi(r))return Y0(this.currentUrlTree,r,o);let s=this.parseUrl(r);return Y0(this.currentUrlTree,s,o)}removeEmptyProps(r){return Object.entries(r).reduce((i,[o,s])=>(s!=null&&(i[o]=s),i),{})}scheduleNavigation(r,i,o,s,c){if(this.disposed)return Promise.resolve(!1);let u,l,f;c?(u=c.resolve,l=c.reject,f=c.promise):f=new Promise((_,w)=>{u=_,l=w});let g=this.pendingTasks.add();return bO(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(g))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:o,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:r,extras:s,resolve:u,reject:l,promise:f,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),f.catch(_=>Promise.reject(_))}};e.\u0275fac=function(i){return new(i||e)},e.\u0275prov=q({token:e,factory:e.\u0275fac,providedIn:"root"});let t=e;return t})();function SO(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new B(4008,!1)}function AO(t){return!(t instanceof Ia)&&!(t instanceof ko)}var Bt=(()=>{let e=class e{constructor(r,i,o,s,c,u){this.router=r,this.route=i,this.tabIndexAttribute=o,this.renderer=s,this.el=c,this.locationStrategy=u,this.href=null,this.onChanges=new qe,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let l=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement=l==="a"||l==="area",this.isAnchorElement?this.subscription=r.events.subscribe(f=>{f instanceof wr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(r){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",r)}ngOnChanges(r){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(r){r==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(fi(r)?this.routerLinkInput=r:this.routerLinkInput=Array.isArray(r)?r:[r],this.setTabIndexIfNotOnNativeEl("0"))}onClick(r,i,o,s,c){let u=this.urlTree;if(u===null||this.isAnchorElement&&(r!==0||i||o||s||c||typeof this.target=="string"&&this.target!="_self"))return!0;let l={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(u,l),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let r=this.urlTree;this.href=r!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(r)):null;let i=this.href===null?null:ME(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",i)}applyAttributeValue(r,i){let o=this.renderer,s=this.el.nativeElement;i!==null?o.setAttribute(s,r,i):o.removeAttribute(s,r)}get urlTree(){return this.routerLinkInput===null?null:fi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}};e.\u0275fac=function(i){return new(i||e)(Z(mi),Z(gi),pp("tabindex"),Z(vr),Z(Pn),Z(So))},e.\u0275dir=ot({type:e,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(i,o){i&1&&xe("click",function(c){return o.onClick(c.button,c.ctrlKey,c.shiftKey,c.altKey,c.metaKey)}),i&2&&tl("target",o.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",ui],skipLocationChange:[2,"skipLocationChange","skipLocationChange",ui],replaceUrl:[2,"replaceUrl","replaceUrl",ui],routerLink:"routerLink"},standalone:!0,features:[Rp,ri]});let t=e;return t})();var MO=new $("");function Rb(t,...e){return cn([{provide:Rg,multi:!0,useValue:t},[],{provide:gi,useFactory:xO,deps:[mi]},{provide:Pp,multi:!0,useFactory:RO},e.map(n=>n.\u0275providers)])}function xO(t){return t.routerState.root}function RO(){let t=L(_t);return e=>{let n=t.get(ai);if(e!==n.components[0])return;let r=t.get(mi),i=t.get(NO);t.get(PO)===1&&r.initialNavigation(),t.get(OO,null,te.Optional)?.setUpPreloading(),t.get(MO,null,te.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var NO=new $("",{factory:()=>new qe}),PO=new $("",{providedIn:"root",factory:()=>1});var OO=new $("");var kO=()=>["/login"],FO=()=>["/chat"],LO=()=>["/yo"],Pb="*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;background-image:url(https://images.unsplash.com/photo-1556856425-366d6618905d?q=80&w=1864&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D);background-repeat:no-repeat;background-size:cover;background-position:center;display:flex;justify-content:center;align-items:center;min-height:100vh}.container[_ngcontent-%COMP%]{text-align:center;padding:20px}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.game[_ngcontent-%COMP%]{background-color:#000;padding:10px;border-radius:8px;box-shadow:0 4px 8px #0000001a;transition:transform .3s ease;width:80%;max-width:250px;margin:0 auto;border:3px solid transparent}.games-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;max-width:800px;margin:90px auto 0;justify-items:center}.game[_ngcontent-%COMP%]:hover{transform:scale(1.05);border-color:#ff0}.game[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:auto;border-radius:8px}.game[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:10px;font-size:1.5rem;color:#faf7f7}a[_ngcontent-%COMP%]{text-decoration:none;color:inherit}",Tl=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ge({type:t,selectors:[["app-home"]],standalone:!0,features:[We],decls:44,vars:6,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"container"],[1,"games-grid"],[1,"game"],["routerLink","/pacman"],["src","pacman.jpg","alt","Pacman"],["routerLink","/ahorcado"],["src","ahorcado.png","alt","Ahorcado"],["href","juego3.html"],["src","mayormenor.jpg","alt","Mayor o menor"],["href","juego4.html"],["src","preguntados.png","alt","Preguntados"]],template:function(n,r){n&1&&(M(0,"html",0)(1,"head"),ge(2,"meta",1)(3,"meta",2),M(4,"title"),V(5,"Selecciona tu Juego"),x()(),M(6,"body")(7,"div",3)(8,"nav",4)(9,"ul")(10,"li")(11,"a",5),V(12,"Log in"),x()(),M(13,"li")(14,"a",5),V(15,"Chat"),x()(),M(16,"li")(17,"a",5),V(18,"Sobre Mi"),x()(),M(19,"li")(20,"a",6),V(21,"Log Out"),x()()()()(),M(22,"div",7)(23,"div",8)(24,"div",9)(25,"a",10),ge(26,"img",11),M(27,"h2"),V(28,"Pacman"),x()()(),M(29,"div",9)(30,"a",12),ge(31,"img",13),M(32,"h2"),V(33,"Ahorcado"),x()()(),M(34,"div",9)(35,"a",14),ge(36,"img",15),M(37,"h2"),V(38,"Mayor o Menor"),x()()(),M(39,"div",9)(40,"a",16),ge(41,"img",17),M(42,"h2"),V(43,"Preguntados"),x()()()()()()()),n&2&&(H(11),ee("routerLink",$e(3,kO)),H(3),ee("routerLink",$e(4,FO)),H(3),ee("routerLink",$e(5,LO)))},dependencies:[Bt,mt],styles:[Pb,Pb]})};var Bb=(()=>{let e=class e{constructor(r,i){this._renderer=r,this._elementRef=i,this.onChange=o=>{},this.onTouched=()=>{}}setProperty(r,i){this._renderer.setProperty(this._elementRef.nativeElement,r,i)}registerOnTouched(r){this.onTouched=r}registerOnChange(r){this.onChange=r}setDisabledState(r){this.setProperty("disabled",r)}};e.\u0275fac=function(i){return new(i||e)(Z(vr),Z(Pn))},e.\u0275dir=ot({type:e});let t=e;return t})(),VO=(()=>{let e=class e extends Bb{};e.\u0275fac=(()=>{let r;return function(o){return(r||(r=ea(e)))(o||e)}})(),e.\u0275dir=ot({type:e,features:[_r]});let t=e;return t})(),$b=new $("");var jO={provide:$b,useExisting:_o(()=>Er),multi:!0};function UO(){let t=Fn()?Fn().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var BO=new $(""),Er=(()=>{let e=class e extends Bb{constructor(r,i,o){super(r,i),this._compositionMode=o,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!UO())}writeValue(r){let i=r??"";this.setProperty("value",i)}_handleInput(r){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(r)}_compositionStart(){this._composing=!0}_compositionEnd(r){this._composing=!1,this._compositionMode&&this.onChange(r)}};e.\u0275fac=function(i){return new(i||e)(Z(vr),Z(Pn),Z(BO,8))},e.\u0275dir=ot({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,o){i&1&&xe("input",function(c){return o._handleInput(c.target.value)})("blur",function(){return o.onTouched()})("compositionstart",function(){return o._compositionStart()})("compositionend",function(c){return o._compositionEnd(c.target.value)})},features:[rl([jO]),_r]});let t=e;return t})();var Hb=new $(""),zb=new $("");function qb(t){return t!=null}function Gb(t){return si(t)?Me(t):t}function Wb(t){let e={};return t.forEach(n=>{e=n!=null?F(F({},e),n):e}),Object.keys(e).length===0?null:e}function Kb(t,e){return e.map(n=>n(t))}function $O(t){return!t.validate}function Qb(t){return t.map(e=>$O(e)?e:n=>e.validate(n))}function HO(t){if(!t)return null;let e=t.filter(qb);return e.length==0?null:function(n){return Wb(Kb(n,e))}}function Og(t){return t!=null?HO(Qb(t)):null}function zO(t){if(!t)return null;let e=t.filter(qb);return e.length==0?null:function(n){let r=Kb(n,e).map(Gb);return qh(r).pipe(oe(Wb))}}function kg(t){return t!=null?zO(Qb(t)):null}function Ob(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function qO(t){return t._rawValidators}function GO(t){return t._rawAsyncValidators}function Pg(t){return t?Array.isArray(t)?t:[t]:[]}function Al(t,e){return Array.isArray(t)?t.includes(e):t===e}function kb(t,e){let n=Pg(e);return Pg(t).forEach(i=>{Al(n,i)||n.push(i)}),n}function Fb(t,e){return Pg(e).filter(n=>!Al(t,n))}var Ml=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Og(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=kg(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Uo=class extends Ml{get formDirective(){return null}get path(){return null}},Oa=class extends Ml{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},xl=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},WO={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},EG=se(F({},WO),{"[class.ng-submitted]":"isSubmitted"}),$o=(()=>{let e=class e extends xl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Z(Oa,2))},e.\u0275dir=ot({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,o){i&2&&nl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)},features:[_r]});let t=e;return t})(),Ol=(()=>{let e=class e extends xl{constructor(r){super(r)}};e.\u0275fac=function(i){return new(i||e)(Z(Uo,10))},e.\u0275dir=ot({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,o){i&2&&nl("ng-untouched",o.isUntouched)("ng-touched",o.isTouched)("ng-pristine",o.isPristine)("ng-dirty",o.isDirty)("ng-valid",o.isValid)("ng-invalid",o.isInvalid)("ng-pending",o.isPending)("ng-submitted",o.isSubmitted)},features:[_r]});let t=e;return t})();var Ma="VALID",Sl="INVALID",Vo="PENDING",xa="DISABLED",Bo=class{},Rl=class extends Bo{constructor(e,n){super(),this.value=e,this.source=n}},Na=class extends Bo{constructor(e,n){super(),this.pristine=e,this.source=n}},Pa=class extends Bo{constructor(e,n){super(),this.touched=e,this.source=n}},jo=class extends Bo{constructor(e,n){super(),this.status=e,this.source=n}};function Yb(t){return(kl(t)?t.validators:t)||null}function KO(t){return Array.isArray(t)?Og(t):t||null}function Zb(t,e){return(kl(e)?e.asyncValidators:t)||null}function QO(t){return Array.isArray(t)?kg(t):t||null}function kl(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function YO(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new B(1e3,"");if(!r[n])throw new B(1001,"")}function ZO(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new B(1002,"")})}var Nl=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=oa(()=>this.statusReactive()),this.statusReactive=ra(void 0),this._pristine=oa(()=>this.pristineReactive()),this.pristineReactive=ra(!0),this._touched=oa(()=>this.touchedReactive()),this.touchedReactive=ra(!1),this._events=new qe,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return kn(this.statusReactive)}set status(e){kn(()=>this.statusReactive.set(e))}get valid(){return this.status===Ma}get invalid(){return this.status===Sl}get pending(){return this.status==Vo}get disabled(){return this.status===xa}get enabled(){return this.status!==xa}get pristine(){return kn(this.pristineReactive)}set pristine(e){kn(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return kn(this.touchedReactive)}set touched(e){kn(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(kb(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(kb(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Fb(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Fb(e,this._rawAsyncValidators))}hasValidator(e){return Al(this._rawValidators,e)}hasAsyncValidator(e){return Al(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(se(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Pa(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new Pa(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(se(F({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Na(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Na(!0,r))}markAsPending(e={}){this.status=Vo;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new jo(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(se(F({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=xa,this.errors=null,this._forEachChild(i=>{i.disable(se(F({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rl(this.value,r)),this._events.next(new jo(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(se(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Ma,this._forEachChild(r=>{r.enable(se(F({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(se(F({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ma||this.status===Vo)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Rl(this.value,n)),this._events.next(new jo(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(se(F({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?xa:Ma}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Vo,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=Gb(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new jo(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Pe,this.statusChanges=new Pe}_calculateStatus(){return this._allControlsDisabled()?xa:this.errors?Sl:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vo)?Vo:this._anyControlsHaveStatus(Sl)?Sl:Ma}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Na(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new Pa(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){kl(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=KO(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=QO(this._rawAsyncValidators)}},Pl=class extends Nl{constructor(e,n,r){super(Yb(n),Zb(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){ZO(this,!0,e),Object.keys(e).forEach(r=>{YO(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Fg=new $("CallSetDisabledState",{providedIn:"root",factory:()=>Lg}),Lg="always";function JO(t,e){return[...e.path,t]}function Jb(t,e,n=Lg){Xb(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),ek(t,e),nk(t,e),tk(t,e),XO(t,e)}function Lb(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function XO(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Xb(t,e){let n=qO(t);e.validator!==null?t.setValidators(Ob(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=GO(t);e.asyncValidator!==null?t.setAsyncValidators(Ob(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Lb(e._rawValidators,i),Lb(e._rawAsyncValidators,i)}function ek(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&eC(t,e)})}function tk(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&eC(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function eC(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function nk(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function rk(t,e){t==null,Xb(t,e)}function ik(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function ok(t){return Object.getPrototypeOf(t.constructor)===VO}function sk(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function ak(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===Er?n=o:ok(o)?r=o:i=o}),i||r||n||null}var ck={provide:Uo,useExisting:_o(()=>ka)},Ra=Promise.resolve(),ka=(()=>{let e=class e extends Uo{get submitted(){return kn(this.submittedReactive)}constructor(r,i,o){super(),this.callSetDisabledState=o,this._submitted=oa(()=>this.submittedReactive()),this.submittedReactive=ra(!1),this._directives=new Set,this.ngSubmit=new Pe,this.form=new Pl({},Og(r),kg(i))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(r){Ra.then(()=>{let i=this._findContainer(r.path);r.control=i.registerControl(r.name,r.control),Jb(r.control,r,this.callSetDisabledState),r.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(r)})}getControl(r){return this.form.get(r.path)}removeControl(r){Ra.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name),this._directives.delete(r)})}addFormGroup(r){Ra.then(()=>{let i=this._findContainer(r.path),o=new Pl({});rk(o,r),i.registerControl(r.name,o),o.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(r){Ra.then(()=>{let i=this._findContainer(r.path);i&&i.removeControl(r.name)})}getFormGroup(r){return this.form.get(r.path)}updateModel(r,i){Ra.then(()=>{this.form.get(r.path).setValue(i)})}setValue(r){this.control.setValue(r)}onSubmit(r){return this.submittedReactive.set(!0),sk(this.form,this._directives),this.ngSubmit.emit(r),r?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(r=void 0){this.form.reset(r),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(r){return r.pop(),r.length?this.form.get(r):this.form}};e.\u0275fac=function(i){return new(i||e)(Z(Hb,10),Z(zb,10),Z(Fg,8))},e.\u0275dir=ot({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(i,o){i&1&&xe("submit",function(c){return o.onSubmit(c)})("reset",function(){return o.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[rl([ck]),_r]});let t=e;return t})();function Vb(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function jb(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var uk=class extends Nl{constructor(e=null,n,r){super(Yb(n),Zb(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),kl(n)&&(n.nonNullable||n.initialValueIsDefault)&&(jb(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){Vb(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){Vb(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){jb(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var lk={provide:Oa,useExisting:_o(()=>vi)},Ub=Promise.resolve(),vi=(()=>{let e=class e extends Oa{constructor(r,i,o,s,c,u){super(),this._changeDetectorRef=c,this.callSetDisabledState=u,this.control=new uk,this._registered=!1,this.name="",this.update=new Pe,this._parent=r,this._setValidators(i),this._setAsyncValidators(o),this.valueAccessor=ak(this,s)}ngOnChanges(r){if(this._checkForErrors(),!this._registered||"name"in r){if(this._registered&&(this._checkName(),this.formDirective)){let i=r.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in r&&this._updateDisabled(r),ik(r,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(r){this.viewModel=r,this.update.emit(r)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Jb(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(r){Ub.then(()=>{this.control.setValue(r,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(r){let i=r.isDisabled.currentValue,o=i!==0&&ui(i);Ub.then(()=>{o&&!this.control.disabled?this.control.disable():!o&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(r){return this._parent?JO(r,this._parent):[r]}};e.\u0275fac=function(i){return new(i||e)(Z(Uo,9),Z(Hb,10),Z(zb,10),Z($b,10),Z(ci,8),Z(Fg,8))},e.\u0275dir=ot({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[rl([lk]),_r,ri]});let t=e;return t})(),Fl=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275dir=ot({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]});let t=e;return t})();var dk=(()=>{let e=class e{};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=ti({});let t=e;return t})();var Ho=(()=>{let e=class e{static withConfig(r){return{ngModule:e,providers:[{provide:Fg,useValue:r.callSetDisabledState??Lg}]}}};e.\u0275fac=function(i){return new(i||e)},e.\u0275mod=ni({type:e}),e.\u0275inj=ti({imports:[dk]});let t=e;return t})();var nC=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},hk=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],c=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},rC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,c=s?t[i+1]:0,u=i+2<t.length,l=u?t[i+2]:0,f=o>>2,g=(o&3)<<4|c>>4,_=(c&15)<<2|l>>6,w=l&63;u||(w=64,s||(_=64)),r.push(n[f],n[g],n[_],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(nC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):hk(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],c=i<t.length?n[t.charAt(i)]:0;++i;let l=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||c==null||l==null||g==null)throw new Ug;let _=o<<2|c>>4;if(r.push(_),l!==64){let w=c<<4&240|l>>2;if(r.push(w),g!==64){let A=l<<6&192|g;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Ug=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},fk=function(t){let e=nC(t);return rC.encodeByteArray(e,!0)},Fa=function(t){return fk(t).replace(/\./g,"")},$g=function(t){try{return rC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function pk(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var gk=()=>pk().__FIREBASE_DEFAULTS__,mk=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},yk=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&$g(t[1]);return e&&JSON.parse(e)},Vl=()=>{try{return gk()||mk()||yk()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Hg=t=>{var e,n;return(n=(e=Vl())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},iC=t=>{let e=Hg(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},zg=()=>{var t;return(t=Vl())===null||t===void 0?void 0:t.config},qg=t=>{var e;return(e=Vl())===null||e===void 0?void 0:e[`_${t}`]};var Ll=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function oC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fa(JSON.stringify(n)),Fa(JSON.stringify(s)),""].join(".")}function Ke(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function sC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ke())}function vk(){var t;let e=(t=Vl())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function aC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function cC(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function uC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function lC(){let t=Ke();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function dC(){return!vk()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Gg(){try{return typeof indexedDB=="object"}catch{return!1}}function hC(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var _k="FirebaseError",Rt=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=_k,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,jn.prototype.create)}},jn=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?wk(o,r):"Error",c=`${this.serviceName}: ${s} (${i}).`;return new Rt(i,c,r)}};function wk(t,e){return t.replace(Ik,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Ik=/\{\$([^}]+)}/g;function fC(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function _i(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(tC(o)&&tC(s)){if(!_i(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function tC(t){return t!==null&&typeof t=="object"}function La(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function zo(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function qo(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pC(t,e){let n=new Bg(t,e);return n.subscribe.bind(n)}var Bg=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");Ek(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=jg),i.error===void 0&&(i.error=jg),i.complete===void 0&&(i.complete=jg);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Ek(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function jg(){}var DG=4*60*60*1e3;function wt(t){return t&&t._delegate?t._delegate:t}var $t=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var wi="[DEFAULT]";var Wg=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new Ll;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Ck(e))try{this.getOrInitializeService({instanceIdentifier:wi})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=wi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return I(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=wi){return this.instances.has(e)}getOptions(e=wi){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(o);r===c&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:bk(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=wi){return this.component?this.component.multipleInstances?e:wi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bk(t){return t===wi?void 0:t}function Ck(t){return t.instantiationMode==="EAGER"}var jl=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Wg(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var Dk=[],ue=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ue||{}),Tk={debug:ue.DEBUG,verbose:ue.VERBOSE,info:ue.INFO,warn:ue.WARN,error:ue.ERROR,silent:ue.SILENT},Sk=ue.INFO,Ak={[ue.DEBUG]:"log",[ue.VERBOSE]:"log",[ue.INFO]:"info",[ue.WARN]:"warn",[ue.ERROR]:"error"},Mk=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=Ak[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},br=class{constructor(e){this.name=e,this._logLevel=Sk,this._logHandler=Mk,this._userLogHandler=null,Dk.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ue))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tk[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ue.DEBUG,...e),this._logHandler(this,ue.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ue.VERBOSE,...e),this._logHandler(this,ue.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ue.INFO,...e),this._logHandler(this,ue.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ue.WARN,...e),this._logHandler(this,ue.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ue.ERROR,...e),this._logHandler(this,ue.ERROR,...e)}};var xk=(t,e)=>e.some(n=>t instanceof n),gC,mC;function Rk(){return gC||(gC=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nk(){return mC||(mC=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var yC=new WeakMap,Qg=new WeakMap,vC=new WeakMap,Kg=new WeakMap,Zg=new WeakMap;function Pk(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(hn(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&yC.set(n,t)}).catch(()=>{}),Zg.set(e,t),e}function Ok(t){if(Qg.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});Qg.set(t,e)}var Yg={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Qg.get(t);if(e==="objectStoreNames")return t.objectStoreNames||vC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function _C(t){Yg=t(Yg)}function kk(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Ul(this),e,...n);return vC.set(r,e.sort?e.sort():[e]),hn(r)}:Nk().includes(t)?function(...e){return t.apply(Ul(this),e),hn(yC.get(this))}:function(...e){return hn(t.apply(Ul(this),e))}}function Fk(t){return typeof t=="function"?kk(t):(t instanceof IDBTransaction&&Ok(t),xk(t,Rk())?new Proxy(t,Yg):t)}function hn(t){if(t instanceof IDBRequest)return Pk(t);if(Kg.has(t))return Kg.get(t);let e=Fk(t);return e!==t&&(Kg.set(t,e),Zg.set(e,t)),e}var Ul=t=>Zg.get(t);function IC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),c=hn(s);return r&&s.addEventListener("upgradeneeded",u=>{r(hn(s.result),u.oldVersion,u.newVersion,hn(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),c.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",l=>i(l.oldVersion,l.newVersion,l))}).catch(()=>{}),c}var Lk=["get","getKey","getAll","getAllKeys","count"],Vk=["put","add","delete","clear"],Jg=new Map;function wC(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Jg.get(e))return Jg.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=Vk.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||Lk.includes(n)))return;let o=function(s,...c){return I(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),l=u.store;return r&&(l=l.index(c.shift())),(yield Promise.all([l[n](...c),i&&u.done]))[0]})};return Jg.set(e,o),o}_C(t=>se(F({},t),{get:(e,n,r)=>wC(e,n)||t.get(e,n,r),has:(e,n)=>!!wC(e,n)||t.has(e,n)}));var em=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(jk(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function jk(t){let e=t.getComponent();return e?.type==="VERSION"}var tm="@firebase/app",EC="0.10.11";var Un=new br("@firebase/app"),Uk="@firebase/app-compat",Bk="@firebase/analytics-compat",$k="@firebase/analytics",Hk="@firebase/app-check-compat",zk="@firebase/app-check",qk="@firebase/auth",Gk="@firebase/auth-compat",Wk="@firebase/database",Kk="@firebase/database-compat",Qk="@firebase/functions",Yk="@firebase/functions-compat",Zk="@firebase/installations",Jk="@firebase/installations-compat",Xk="@firebase/messaging",eF="@firebase/messaging-compat",tF="@firebase/performance",nF="@firebase/performance-compat",rF="@firebase/remote-config",iF="@firebase/remote-config-compat",oF="@firebase/storage",sF="@firebase/storage-compat",aF="@firebase/firestore",cF="@firebase/vertexai-preview",uF="@firebase/firestore-compat",lF="firebase",dF="10.13.2";var nm="[DEFAULT]",hF={[tm]:"fire-core",[Uk]:"fire-core-compat",[$k]:"fire-analytics",[Bk]:"fire-analytics-compat",[zk]:"fire-app-check",[Hk]:"fire-app-check-compat",[qk]:"fire-auth",[Gk]:"fire-auth-compat",[Wk]:"fire-rtdb",[Kk]:"fire-rtdb-compat",[Qk]:"fire-fn",[Yk]:"fire-fn-compat",[Zk]:"fire-iid",[Jk]:"fire-iid-compat",[Xk]:"fire-fcm",[eF]:"fire-fcm-compat",[tF]:"fire-perf",[nF]:"fire-perf-compat",[rF]:"fire-rc",[iF]:"fire-rc-compat",[oF]:"fire-gcs",[sF]:"fire-gcs-compat",[aF]:"fire-fst",[uF]:"fire-fst-compat",[cF]:"fire-vertex","fire-js":"fire-js",[lF]:"fire-js-all"};var Va=new Map,fF=new Map,rm=new Map;function bC(t,e){try{t.container.addComponent(e)}catch(n){Un.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Dr(t){let e=t.name;if(rm.has(e))return Un.debug(`There were multiple attempts to register component ${e}.`),!1;rm.set(e,t);for(let n of Va.values())bC(n,t);for(let n of fF.values())bC(n,t);return!0}function Ua(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Xt(t){return t.settings!==void 0}var pF={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Cr=new jn("app","Firebase",pF);var im=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $t("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Cr.create("app-deleted",{appName:this._name})}};var Tr=dF;function am(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:nm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Cr.create("bad-app-name",{appName:String(i)});if(n||(n=zg()),!n)throw Cr.create("no-options");let o=Va.get(i);if(o){if(_i(n,o.options)&&_i(r,o.config))return o;throw Cr.create("duplicate-app",{appName:i})}let s=new jl(i);for(let u of rm.values())s.addComponent(u);let c=new im(n,r,s);return Va.set(i,c),c}function Go(t=nm){let e=Va.get(t);if(!e&&t===nm&&zg())return am();if(!e)throw Cr.create("no-app",{appName:t});return e}function Bl(){return Array.from(Va.values())}function He(t,e,n){var r;let i=(r=hF[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let c=[`Unable to register library "${i}" with version "${e}":`];o&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&c.push("and"),s&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Un.warn(c.join(" "));return}Dr(new $t(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var gF="firebase-heartbeat-database",mF=1,ja="firebase-heartbeat-store",Xg=null;function SC(){return Xg||(Xg=IC(gF,mF,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ja)}catch(n){console.warn(n)}}}}).catch(t=>{throw Cr.create("idb-open",{originalErrorMessage:t.message})})),Xg}function yF(t){return I(this,null,function*(){try{let n=(yield SC()).transaction(ja),r=yield n.objectStore(ja).get(AC(t));return yield n.done,r}catch(e){if(e instanceof Rt)Un.warn(e.message);else{let n=Cr.create("idb-get",{originalErrorMessage:e?.message});Un.warn(n.message)}}})}function CC(t,e){return I(this,null,function*(){try{let r=(yield SC()).transaction(ja,"readwrite");yield r.objectStore(ja).put(e,AC(t)),yield r.done}catch(n){if(n instanceof Rt)Un.warn(n.message);else{let r=Cr.create("idb-set",{originalErrorMessage:n?.message});Un.warn(r.message)}}})}function AC(t){return`${t.name}!${t.options.appId}`}var vF=1024,_F=30*24*60*60*1e3,om=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new sm(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return I(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=DC();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let c=new Date(s.date).valueOf();return Date.now()-c<=_F}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Un.warn(r)}})}getHeartbeatsHeader(){return I(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=DC(),{heartbeatsToSend:r,unsentEntries:i}=wF(this._heartbeatsCache.heartbeats),o=Fa(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Un.warn(n),""}})}};function DC(){return new Date().toISOString().substring(0,10)}function wF(t,e=vF){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),TC(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),TC(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var sm=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return I(this,null,function*(){return Gg()?hC().then(()=>!0).catch(()=>!1):!1})}read(){return I(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield yF(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return CC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return I(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return CC(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function TC(t){return Fa(JSON.stringify({version:2,heartbeats:t})).length}function IF(t){Dr(new $t("platform-logger",e=>new em(e),"PRIVATE")),Dr(new $t("heartbeat",e=>new om(e),"PRIVATE")),He(tm,EC,t),He(tm,EC,"esm2017"),He("fire-js","")}IF("");var EF="firebase",bF="10.13.2";He(EF,bF,"app");var Ei=new Mn("ANGULARFIRE2_VERSION");function Hl(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ba=(t,e)=>{let n=e?[e]:Bl(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ko=class{constructor(){return Ba(CF)}},CF="app-check";function Wo(){}var $l=class{zone;delegate;constructor(e,n=Bh){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},cm=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo)),n.pipe(Ue({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Qo=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new $l(Zone.current)),this.insideAngular=n.run(()=>new $l(Zone.current,Uh)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(re(we))};static \u0275prov=q({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function zl(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function DF(t){return zl().ngZone.runOutsideAngular(()=>t())}function Ii(t){return zl().ngZone.run(()=>t())}function TF(t){return SF(zl())(t)}function SF(t){return function(n){return n=n.lift(new cm(t.ngZone)),n.pipe(or(t.outsideAngular),ir(t.insideAngular))}}var AF=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Ii(()=>t.apply(void 0,r))},fn=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=Ii(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Wo,{},Wo,Wo))),r[o]=AF(r[o],n));let i=DF(()=>t.apply(this,r));if(!e)if(i instanceof de){let o=zl();return i.pipe(or(o.outsideAngular),ir(o.insideAngular))}else return Ii(()=>i);return i instanceof de?i.pipe(TF):i instanceof Promise?Ii(()=>new Promise((o,s)=>i.then(c=>Ii(()=>o(c)),c=>Ii(()=>s(c))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Ii(()=>i)};var Bn=class{constructor(e){return e}},bi=class{constructor(){return Bl()}};function MF(t){return t&&t.length===1?t[0]:new Bn(Go())}var um=new $("angularfire2._apps"),xF={provide:Bn,useFactory:MF,deps:[[new pt,um]]},RF={provide:bi,deps:[[new pt,um]]};function NF(t){return(e,n)=>{let r=n.get(yr);He("angularfire",Ei.full,"core"),He("angularfire",Ei.full,"app"),He("angular",m0.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Bn(i)}}function MC(t,...e){return cn([xF,RF,{provide:um,useFactory:NF(t),multi:!0,deps:[we,_t,Qo,...e]}])}var xC=fn(am,!0);function WC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var KC=WC,QC=new jn("auth","Firebase",WC());var Yl=new br("@firebase/auth");function PF(t,...e){Yl.logLevel<=ue.WARN&&Yl.warn(`Auth (${Tr}): ${t}`,...e)}function Gl(t,...e){Yl.logLevel<=ue.ERROR&&Yl.error(`Auth (${Tr}): ${t}`,...e)}function gn(t,...e){throw Nm(t,...e)}function Ci(t,...e){return Nm(t,...e)}function YC(t,e,n){let r=Object.assign(Object.assign({},KC()),{[e]:n});return new jn("auth","Firebase",r).create(e,{appName:t.name})}function zn(t){return YC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nm(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return QC.create(t,...e)}function G(t,e,...n){if(!t)throw Nm(e,...n)}function $n(t){let e="INTERNAL ASSERTION FAILED: "+t;throw Gl(e),new Error(e)}function Ar(t,e){t||$n(e)}function fm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function OF(){return RC()==="http:"||RC()==="https:"}function RC(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function kF(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(OF()||cC()||"connection"in navigator)?navigator.onLine:!0}function FF(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var Di=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Ar(n>e,"Short delay should be less than long delay!"),this.isMobile=sC()||uC()}get(){return kF()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Pm(t,e){Ar(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Zl=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$n("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$n("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$n("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var LF={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var VF=new Di(3e4,6e4);function Mr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function xr(o,s,c,u){return I(this,arguments,function*(t,e,n,r,i={}){return ZC(t,i,()=>I(this,null,function*(){let l={},f={};r&&(e==="GET"?f=r:l={body:JSON.stringify(r)});let g=La(Object.assign({key:t.config.apiKey},f)).slice(1),_=yield t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);let w=Object.assign({method:e,headers:_},l);return aC()||(w.referrerPolicy="no-referrer"),Zl.fetch()(JC(t,t.config.apiHost,n,g),w)}))})}function ZC(t,e,n){return I(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},LF),e);try{let i=new pm(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw ql(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let c=o.ok?s.errorMessage:s.error.message,[u,l]=c.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw ql(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw ql(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw ql(t,"user-disabled",s);let f=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(l)throw YC(t,f,l);gn(t,f)}}catch(i){if(i instanceof Rt)throw i;gn(t,"network-request-failed",{message:String(i)})}})}function Qa(o,s,c,u){return I(this,arguments,function*(t,e,n,r,i={}){let l=yield xr(t,e,n,r,i);return"mfaPendingCredential"in l&&gn(t,"multi-factor-auth-required",{_serverResponse:l}),l})}function JC(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Pm(t.config,i):`${t.config.apiScheme}://${i}`}function jF(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var pm=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ci(this.auth,"network-request-failed")),VF.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function ql(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Ci(t,e,r);return i.customData._tokenResponse=n,i}function NC(t){return t!==void 0&&t.enterprise!==void 0}var gm=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return jF(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function UF(t,e){return I(this,null,function*(){return xr(t,"GET","/v2/recaptchaConfig",Mr(t,e))})}function BF(t,e){return I(this,null,function*(){return xr(t,"POST","/v1/accounts:delete",e)})}function XC(t,e){return I(this,null,function*(){return xr(t,"POST","/v1/accounts:lookup",e)})}function $a(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Om(t,e=!1){return I(this,null,function*(){let n=wt(t),r=yield n.getIdToken(e),i=km(r);G(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:$a(lm(i.auth_time)),issuedAtTime:$a(lm(i.iat)),expirationTime:$a(lm(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function lm(t){return Number(t)*1e3}function km(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Gl("JWT malformed, contained fewer than 3 sections"),null;try{let i=$g(n);return i?JSON.parse(i):(Gl("Failed to decode base64 JWT payload"),null)}catch(i){return Gl("Caught error parsing JWT payload as JSON",i?.toString()),null}}function PC(t){let e=km(t);return G(e,"internal-error"),G(typeof e.exp<"u","internal-error"),G(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function za(t,e,n=!1){return I(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Rt&&$F(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function $F({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var mm=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>I(this,null,function*(){yield this.iteration()}),n)}iteration(){return I(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var qa=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=$a(this.lastLoginAt),this.creationTime=$a(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Jl(t){return I(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield za(t,XC(n,{idToken:r}));G(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?eD(o.providerUserInfo):[],c=HF(t.providerData,s),u=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!c?.length,f=u?l:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:c,metadata:new qa(o.createdAt,o.lastLoginAt),isAnonymous:f};Object.assign(t,g)})}function Fm(t){return I(this,null,function*(){let e=wt(t);yield Jl(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function HF(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function eD(t){return t.map(e=>{var{providerId:n}=e,r=$h(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function zF(t,e){return I(this,null,function*(){let n=yield ZC(t,{},()=>I(this,null,function*(){let r=La({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=JC(t,i,"/v1/token",`key=${o}`),c=yield t._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Zl.fetch()(s,{method:"POST",headers:c,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function qF(t,e){return I(this,null,function*(){return xr(t,"POST","/v2/accounts:revokeToken",Mr(t,e))})}var Ha=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){G(e.idToken,"internal-error"),G(typeof e.idToken<"u","internal-error"),G(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):PC(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){G(e.length!==0,"internal-error");let n=PC(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return I(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(G(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return I(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield zF(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(G(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(G(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(G(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return $n("not implemented")}};function Sr(t,e){G(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Yo=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=$h(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new mm(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new qa(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return I(this,null,function*(){let n=yield za(this,this.stsTokenManager.getToken(this.auth,e));return G(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return Om(this,e)}reload(){return Fm(this)}_assign(e){this!==e&&(G(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){G(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return I(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Jl(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return I(this,null,function*(){if(Xt(this.auth.app))return Promise.reject(zn(this.auth));let e=yield this.getIdToken();return yield za(this,BF(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,c,u,l,f;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,w=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,A=(s=n.photoURL)!==null&&s!==void 0?s:void 0,O=(c=n.tenantId)!==null&&c!==void 0?c:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,j=(l=n.createdAt)!==null&&l!==void 0?l:void 0,K=(f=n.lastLoginAt)!==null&&f!==void 0?f:void 0,{uid:X,emailVerified:ve,isAnonymous:Ze,providerData:me,stsTokenManager:b}=n;G(X&&b,e,"internal-error");let m=Ha.fromJSON(this.name,b);G(typeof X=="string",e,"internal-error"),Sr(g,e.name),Sr(_,e.name),G(typeof ve=="boolean",e,"internal-error"),G(typeof Ze=="boolean",e,"internal-error"),Sr(w,e.name),Sr(A,e.name),Sr(O,e.name),Sr(P,e.name),Sr(j,e.name),Sr(K,e.name);let y=new t({uid:X,auth:e,email:_,emailVerified:ve,displayName:g,isAnonymous:Ze,photoURL:A,phoneNumber:w,tenantId:O,stsTokenManager:m,createdAt:j,lastLoginAt:K});return me&&Array.isArray(me)&&(y.providerData=me.map(E=>Object.assign({},E))),P&&(y._redirectEventId=P),y}static _fromIdTokenResponse(e,n,r=!1){return I(this,null,function*(){let i=new Ha;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Jl(o),o})}static _fromGetAccountInfoResponse(e,n,r){return I(this,null,function*(){let i=n.users[0];G(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?eD(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,c=new Ha;c.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:s}),l={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new qa(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,l),u})}};var OC=new Map;function Hn(t){Ar(t instanceof Function,"Expected a class definition");let e=OC.get(t);return e?(Ar(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,OC.set(t,e),e)}var GF=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return I(this,null,function*(){return!0})}_set(n,r){return I(this,null,function*(){this.storage[n]=r})}_get(n){return I(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return I(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),ym=GF;function Wl(t,e,n){return`firebase:${t}:${e}:${n}`}var Xl=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=Wl(this.userKey,i.apiKey,o),this.fullPersistenceKey=Wl("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return I(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Yo._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return I(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return I(this,null,function*(){if(!n.length)return new t(Hn(ym),e,r);let i=(yield Promise.all(n.map(l=>I(this,null,function*(){if(yield l._isAvailable())return l})))).filter(l=>l),o=i[0]||Hn(ym),s=Wl(r,e.config.apiKey,e.name),c=null;for(let l of n)try{let f=yield l._get(s);if(f){let g=Yo._fromJSON(e,f);l!==o&&(c=g),o=l;break}}catch{}let u=i.filter(l=>l._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],c&&(yield o._set(s,c.toJSON())),yield Promise.all(n.map(l=>I(this,null,function*(){if(l!==o)try{yield l._remove(s)}catch{}}))),new t(o,e,r))})}};function kC(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(iD(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(tD(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(sD(e))return"Blackberry";if(aD(e))return"Webos";if(nD(e))return"Safari";if((e.includes("chrome/")||rD(e))&&!e.includes("edge/"))return"Chrome";if(oD(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function tD(t=Ke()){return/firefox\//i.test(t)}function nD(t=Ke()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function rD(t=Ke()){return/crios\//i.test(t)}function iD(t=Ke()){return/iemobile/i.test(t)}function oD(t=Ke()){return/android/i.test(t)}function sD(t=Ke()){return/blackberry/i.test(t)}function aD(t=Ke()){return/webos/i.test(t)}function Lm(t=Ke()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function WF(t=Ke()){var e;return Lm(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function KF(){return lC()&&document.documentMode===10}function cD(t=Ke()){return Lm(t)||oD(t)||aD(t)||sD(t)||/windows phone/i.test(t)||iD(t)}function uD(t,e=[]){let n;switch(t){case"Browser":n=kC(Ke());break;case"Worker":n=`${kC(Ke())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Tr}/${r}`}var vm=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,c)=>{try{let u=e(o);s(u)}catch(u){c(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return I(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function QF(n){return I(this,arguments,function*(t,e={}){return xr(t,"GET","/v2/passwordPolicy",Mr(t,e))})}var YF=6,_m=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:YF,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,c;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(c=u.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var wm=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ed(this),this.idTokenSubscription=new ed(this),this.beforeStateQueue=new vm(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=QC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hn(n)),this._initializationPromise=this.queue(()=>I(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Xl.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return I(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return I(this,null,function*(){try{let n=yield XC(this,{idToken:e}),r=yield Yo._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return I(this,null,function*(){var n;if(Xt(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,c=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===c)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return G(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return I(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return I(this,null,function*(){try{yield Jl(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=FF()}_delete(){return I(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return I(this,null,function*(){if(Xt(this.app))return Promise.reject(zn(this));let n=e?wt(e):null;return n&&G(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return I(this,null,function*(){if(!this._deleted)return e&&G(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>I(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return I(this,null,function*(){return Xt(this.app)?Promise.reject(zn(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Xt(this.app)?Promise.reject(zn(this)):this.queue(()=>I(this,null,function*(){yield this.assertedPersistence.setPersistence(Hn(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return I(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return I(this,null,function*(){let e=yield QF(this),n=new _m(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new jn("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return I(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield qF(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return I(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return I(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Hn(e)||this._popupRedirectResolver;G(n,this,"argument-error"),this.redirectPersistenceManager=yield Xl.create(this,[Hn(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return I(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>I(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return I(this,null,function*(){if(e===this.currentUser)return this.queue(()=>I(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(G(c,this,"internal-error"),c.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return I(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return G(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=uD(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return I(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return I(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&PF(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Si(t){return wt(t)}var ed=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=pC(n=>this.observer=n)}get next(){return G(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var ad={loadJS(){return I(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function ZF(t){ad=t}function lD(t){return ad.loadJS(t)}function JF(){return ad.recaptchaEnterpriseScript}function XF(){return ad.gapiScript}function dD(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var eL="recaptcha-enterprise",tL="NO_RECAPTCHA",Im=class{constructor(e){this.type=eL,this.auth=Si(e)}verify(e="verify",n=!1){return I(this,null,function*(){function r(o){return I(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,c)=>I(this,null,function*(){UF(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let l=new gm(u);return o.tenantId==null?o._agentRecaptchaConfig=l:o._tenantRecaptchaConfigs[o.tenantId]=l,s(l.siteKey)}}).catch(u=>{c(u)})}))})}function i(o,s,c){let u=window.grecaptcha;NC(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(l=>{s(l)}).catch(()=>{s(tL)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(c=>{if(!n&&NC(window.grecaptcha))i(c,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=JF();u.length!==0&&(u+=c),lD(u).then(()=>{i(c,o,s)}).catch(l=>{s(l)})}}).catch(c=>{s(c)})})})}};function FC(t,e,n,r=!1){return I(this,null,function*(){let i=new Im(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Em(t,e,n,r){return I(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield FC(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>I(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield FC(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function Vm(t,e){let n=Ua(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(_i(o,e??{}))return i;gn(i,"already-initialized")}return n.initialize({options:e})}function nL(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hn);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function jm(t,e,n){let r=Si(t);G(r._canInitEmulator,r,"emulator-config-failed"),G(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=hD(e),{host:s,port:c}=rL(e),u=c===null?"":`:${c}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:c,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||iL()}function hD(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function rL(t){let e=hD(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:LC(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:LC(s)}}}function LC(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function iL(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ga=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $n("not implemented")}_getIdTokenResponse(e){return $n("not implemented")}_linkToIdToken(e,n){return $n("not implemented")}_getReauthenticationResolver(e){return $n("not implemented")}};function oL(t,e){return I(this,null,function*(){return xr(t,"POST","/v1/accounts:signUp",e)})}function sL(t,e){return I(this,null,function*(){return Qa(t,"POST","/v1/accounts:signInWithPassword",Mr(t,e))})}function aL(t,e){return I(this,null,function*(){return Qa(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))})}function cL(t,e){return I(this,null,function*(){return Qa(t,"POST","/v1/accounts:signInWithEmailLink",Mr(t,e))})}var Wa=class t extends Ga{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return I(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(e,n,"signInWithPassword",sL);case"emailLink":return aL(e,{email:this._email,oobCode:this._password});default:gn(e,"internal-error")}})}_linkToIdToken(e,n){return I(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Em(e,r,"signUpPassword",oL);case"emailLink":return cL(e,{idToken:n,email:this._email,oobCode:this._password});default:gn(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function dm(t,e){return I(this,null,function*(){return Qa(t,"POST","/v1/accounts:signInWithIdp",Mr(t,e))})}function uL(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function lL(t){let e=zo(qo(t)).link,n=e?zo(qo(e)).deep_link_id:null,r=zo(qo(t)).deep_link_id;return(r?zo(qo(r)).link:null)||r||n||e||t}var td=class t{constructor(e){var n,r,i,o,s,c;let u=zo(qo(e)),l=(n=u.apiKey)!==null&&n!==void 0?n:null,f=(r=u.oobCode)!==null&&r!==void 0?r:null,g=uL((i=u.mode)!==null&&i!==void 0?i:null);G(l&&f&&g,"argument-error"),this.apiKey=l,this.operation=g,this.code=f,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(c=u.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let n=lL(e);try{return new t(n)}catch{return null}}};var fD=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Wa._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=td.parseLink(r);return G(i,"argument-error"),Wa._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),nd=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var bm=class extends nd{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function dL(t,e){return I(this,null,function*(){return Qa(t,"POST","/v1/accounts:signUp",Mr(t,e))})}var Zo=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return I(this,null,function*(){let o=yield Yo._fromIdTokenResponse(e,r,i),s=VC(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return I(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=VC(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function VC(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var Cm=class t extends Rt{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function pD(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Cm._fromErrorAndOperation(t,o,e,r):o})}function hL(t,e,n=!1){return I(this,null,function*(){let r=yield za(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Zo._forOperation(t,"link",r)})}function fL(t,e,n=!1){return I(this,null,function*(){let{auth:r}=t;if(Xt(r.app))return Promise.reject(zn(r));let i="reauthenticate";try{let o=yield za(t,pD(r,i,e,t),n);G(o.idToken,r,"internal-error");let s=km(o.idToken);G(s,r,"internal-error");let{sub:c}=s;return G(t.uid===c,r,"user-mismatch"),Zo._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&gn(r,"user-mismatch"),o}})}function gD(t,e,n=!1){return I(this,null,function*(){if(Xt(t.app))return Promise.reject(zn(t));let r="signIn",i=yield pD(t,r,e),o=yield Zo._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function Um(t,e){return I(this,null,function*(){return gD(Si(t),e)})}function mD(t){return I(this,null,function*(){let e=Si(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Bm(t,e,n){return I(this,null,function*(){if(Xt(t.app))return Promise.reject(zn(t));let r=Si(t),s=yield Em(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",dL).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&mD(t),u}),c=yield Zo._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(c.user),c})}function $m(t,e,n){return Xt(t.app)?Promise.reject(zn(t)):Um(wt(t),fD.credential(e,n)).catch(r=>I(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&mD(t),r}))}function Hm(t,e,n,r){return wt(t).onIdTokenChanged(e,n,r)}function zm(t,e,n){return wt(t).beforeAuthStateChanged(e,n)}var rd="__sak";var id=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(rd,"1"),this.storage.removeItem(rd),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var pL=1e3,gL=10,mL=(()=>{class t extends id{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cD(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((c,u,l)=>{this.notifyListeners(c,l)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},s=this.storage.getItem(i);KF()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,gL):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},pL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return I(this,null,function*(){yield nr(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return I(this,null,function*(){let r=yield nr(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return I(this,null,function*(){yield nr(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),yD=mL;var yL=(()=>{class t extends id{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),qm=yL;function vL(t){return Promise.all(t.map(e=>I(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var _L=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return I(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,c=this.handlersMap[o];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(c).map(f=>I(this,null,function*(){return f(r.origin,s)})),l=yield vL(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:l})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function vD(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Dm=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return I(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((c,u)=>{let l=vD("",20);i.port1.start();let f=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===l)switch(_.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(_.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function pn(){return window}function wL(t){pn().location.href=t}function _D(){return typeof pn().WorkerGlobalScope<"u"&&typeof pn().importScripts=="function"}function IL(){return I(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function EL(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bL(){return _D()?self:null}var wD="firebaseLocalStorageDb",CL=1,od="firebaseLocalStorage",ID="fbase_key",Ti=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function cd(t,e){return t.transaction([od],e?"readwrite":"readonly").objectStore(od)}function DL(){let t=indexedDB.deleteDatabase(wD);return new Ti(t).toPromise()}function Tm(){let t=indexedDB.open(wD,CL);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(od,{keyPath:ID})}catch(i){n(i)}}),t.addEventListener("success",()=>I(this,null,function*(){let r=t.result;r.objectStoreNames.contains(od)?e(r):(r.close(),yield DL(),e(yield Tm()))}))})}function jC(t,e,n){return I(this,null,function*(){let r=cd(t,!0).put({[ID]:e,value:n});return new Ti(r).toPromise()})}function TL(t,e){return I(this,null,function*(){let n=cd(t,!1).get(e),r=yield new Ti(n).toPromise();return r===void 0?null:r.value})}function UC(t,e){let n=cd(t,!0).delete(e);return new Ti(n).toPromise()}var SL=800,AL=3,ML=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return I(this,null,function*(){return this.db?this.db:(this.db=yield Tm(),this.db)})}_withRetries(n){return I(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>AL)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return I(this,null,function*(){return _D()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return I(this,null,function*(){this.receiver=_L._getInstance(bL()),this.receiver._subscribe("keyChanged",(n,r)=>I(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>I(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return I(this,null,function*(){var n,r;if(this.activeServiceWorker=yield IL(),!this.activeServiceWorker)return;this.sender=new Dm(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return I(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||EL()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return I(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Tm();return yield jC(n,rd,"1"),yield UC(n,rd),!0}catch{}return!1})}_withPendingWrite(n){return I(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(i=>jC(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return I(this,null,function*(){let r=yield this._withRetries(i=>TL(i,n));return this.localCache[n]=r,r})}_remove(n){return I(this,null,function*(){return this._withPendingWrite(()=>I(this,null,function*(){return yield this._withRetries(r=>UC(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return I(this,null,function*(){let n=yield this._withRetries(o=>{let s=cd(o,!1).getAll();return new Ti(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>I(this,null,function*(){return this._poll()}),SL)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),ED=ML;var v5=dD("rcb"),_5=new Di(3e4,6e4);function xL(t,e){return e?Hn(e):(G(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Ka=class extends Ga{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return dm(e,this._buildIdpRequest())}_linkToIdToken(e,n){return dm(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return dm(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function RL(t){return gD(t.auth,new Ka(t),t.bypassAuthState)}function NL(t){let{auth:e,user:n}=t;return G(n,e,"internal-error"),fL(n,new Ka(t),t.bypassAuthState)}function PL(t){return I(this,null,function*(){let{auth:e,user:n}=t;return G(n,e,"internal-error"),hL(n,new Ka(t),t.bypassAuthState)})}var Sm=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>I(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return I(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:c}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(u))}catch(l){this.reject(l)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return RL;case"linkViaPopup":case"linkViaRedirect":return PL;case"reauthViaPopup":case"reauthViaRedirect":return NL;default:gn(this.auth,"internal-error")}}resolve(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ar(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var w5=new Di(2e3,1e4);var OL="pendingRedirect",Kl=new Map,Am=class t extends Sm{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return I(this,null,function*(){let e=Kl.get(this.auth._key());if(!e){try{let r=(yield kL(this.resolver,this.auth))?yield nr(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Kl.set(this.auth._key(),e)}return this.bypassAuthState||Kl.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return I(this,null,function*(){if(e.type==="signInViaRedirect")return nr(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,nr(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return I(this,null,function*(){})}cleanUp(){}};function kL(t,e){return I(this,null,function*(){let n=VL(e),r=LL(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function FL(t,e){Kl.set(t._key(),e)}function LL(t){return Hn(t._redirectPersistence)}function VL(t){return Wl(OL,t.config.apiKey,t.name)}function jL(t,e,n=!1){return I(this,null,function*(){if(Xt(t.app))return Promise.reject(zn(t));let r=Si(t),i=xL(r,e),s=yield new Am(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var UL=10*60*1e3,Mm=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BL(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!bD(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ci(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=UL&&this.cachedEventUids.clear(),this.cachedEventUids.has(BC(e))}saveEventToCache(e){this.cachedEventUids.add(BC(e)),this.lastProcessedEventTime=Date.now()}};function BC(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function bD({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function BL(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return bD(t);default:return!1}}function $L(n){return I(this,arguments,function*(t,e={}){return xr(t,"GET","/v1/projects",e)})}var HL=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,zL=/^https?/;function qL(t){return I(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield $L(t);for(let n of e)try{if(GL(n))return}catch{}gn(t,"unauthorized-domain")})}function GL(t){let e=fm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!zL.test(n))return!1;if(HL.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var WL=new Di(3e4,6e4);function $C(){let t=pn().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KL(t){return new Promise((e,n)=>{var r,i,o;function s(){$C(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{$C(),n(Ci(t,"network-request-failed"))},timeout:WL.get()})}if(!((i=(r=pn().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=pn().gapi)===null||o===void 0)&&o.load)s();else{let c=dD("iframefcb");return pn()[c]=()=>{gapi.load?s():n(Ci(t,"network-request-failed"))},lD(`${XF()}?onload=${c}`).catch(u=>n(u))}}).catch(e=>{throw Ql=null,e})}var Ql=null;function QL(t){return Ql=Ql||KL(t),Ql}var YL=new Di(5e3,15e3),ZL="__/auth/iframe",JL="emulator/auth/iframe",XL={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},eV=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function tV(t){let e=t.config;G(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Pm(e,JL):`https://${t.config.authDomain}/${ZL}`,r={apiKey:e.apiKey,appName:t.name,v:Tr},i=eV.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${La(r).slice(1)}`}function nV(t){return I(this,null,function*(){let e=yield QL(t),n=pn().gapi;return G(n,t,"internal-error"),e.open({where:document.body,url:tV(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XL,dontclear:!0},r=>new Promise((i,o)=>I(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=Ci(t,"network-request-failed"),c=pn().setTimeout(()=>{o(s)},YL.get());function u(){pn().clearTimeout(c),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var rV={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},iV=500,oV=600,sV="_blank",aV="http://localhost",sd=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function cV(t,e,n,r=iV,i=oV){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",u=Object.assign(Object.assign({},rV),{width:r.toString(),height:i.toString(),top:o,left:s}),l=Ke().toLowerCase();n&&(c=rD(l)?sV:n),tD(l)&&(e=e||aV,u.scrollbars="yes");let f=Object.entries(u).reduce((_,[w,A])=>`${_}${w}=${A},`,"");if(WF(l)&&c!=="_self")return uV(e||"",c),new sd(null);let g=window.open(e||"",c,f);G(g,t,"popup-blocked");try{g.focus()}catch{}return new sd(g)}function uV(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var lV="__/auth/handler",dV="emulator/auth/handler",hV=encodeURIComponent("fac");function HC(t,e,n,r,i,o){return I(this,null,function*(){G(t.config.authDomain,t,"auth-domain-config-required"),G(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Tr,eventId:i};if(e instanceof nd){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",fC(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[f,g]of Object.entries(o||{}))s[f]=g}if(e instanceof bm){let f=e.getScopes().filter(g=>g!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);let c=s;for(let f of Object.keys(c))c[f]===void 0&&delete c[f];let u=yield t._getAppCheckToken(),l=u?`#${hV}=${encodeURIComponent(u)}`:"";return`${fV(t)}?${La(c).slice(1)}${l}`})}function fV({config:t}){return t.emulator?Pm(t,dV):`https://${t.authDomain}/${lV}`}var hm="webStorageSupport",xm=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=qm,this._completeRedirectFn=jL,this._overrideRedirectResult=FL}_openPopup(e,n,r,i){return I(this,null,function*(){var o;Ar((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield HC(e,n,r,fm(),i);return cV(e,s,vD())})}_openRedirect(e,n,r,i){return I(this,null,function*(){yield this._originValidation(e);let o=yield HC(e,n,r,fm(),i);return wL(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(Ar(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return I(this,null,function*(){let n=yield nV(e),r=new Mm(e);return n.register("authEvent",i=>(G(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(hm,{type:hm},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[hm];s!==void 0&&n(!!s),gn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=qL(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return cD()||nD()||Lm()}},CD=xm;var zC="@firebase/auth",qC="1.7.9";var Rm=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return I(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){G(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function pV(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function gV(t){Dr(new $t("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:c}=r.options;G(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:c,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:uD(t)},l=new wm(r,i,o,u);return nL(l,n),l},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Dr(new $t("auth-internal",e=>{let n=Si(e.getProvider("auth").getImmediate());return(r=>new Rm(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),He(zC,qC,pV(t)),He(zC,qC,"esm2017")}var mV=5*60,yV=qg("authIdTokenMaxAge")||mV,GC=null,vV=t=>e=>I(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>yV)return;let i=n?.token;GC!==i&&(GC=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Gm(t=Go()){let e=Ua(t,"auth");if(e.isInitialized())return e.getImmediate();let n=Vm(t,{popupRedirectResolver:CD,persistence:[ED,yD,qm]}),r=qg("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=vV(o.toString());zm(n,s,()=>s(n.currentUser)),Hm(n,c=>s(c))}}let i=Hg("auth");return i&&jm(n,`http://${i}`),n}function _V(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}ZF({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=Ci("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",_V().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});gV("Browser");var DD="auth",qn=class{constructor(e){return e}},Ya=class{constructor(){return Ba(DD)}};var Wm=new $("angularfire2.auth-instances");function l2(t,e){let n=Hl(DD,t,e);return n&&new qn(n)}function d2(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new qn(r)}}var h2={provide:Ya,deps:[[new pt,Wm]]},f2={provide:qn,useFactory:l2,deps:[[new pt,Wm],Bn]};function TD(t,...e){return He("angularfire",Ei.full,"auth"),cn([f2,h2,{provide:Wm,useFactory:d2(t),multi:!0,deps:[we,_t,Qo,bi,[new pt,Ko],...e]}])}var SD=fn(Bm,!0);var AD=fn(Gm,!0);var MD=fn($m,!0);var RD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ND={};var Km,PD;(function(){var t;function e(b,m){function y(){}y.prototype=m.prototype,b.D=m.prototype,b.prototype=new y,b.prototype.constructor=b,b.C=function(E,C,T){for(var v=Array(arguments.length-2),In=2;In<arguments.length;In++)v[In-2]=arguments[In];return m.prototype[C].apply(E,v)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(b,m,y){y||(y=0);var E=Array(16);if(typeof m=="string")for(var C=0;16>C;++C)E[C]=m.charCodeAt(y++)|m.charCodeAt(y++)<<8|m.charCodeAt(y++)<<16|m.charCodeAt(y++)<<24;else for(C=0;16>C;++C)E[C]=m[y++]|m[y++]<<8|m[y++]<<16|m[y++]<<24;m=b.g[0],y=b.g[1],C=b.g[2];var T=b.g[3],v=m+(T^y&(C^T))+E[0]+3614090360&4294967295;m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[1]+3905402710&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[2]+606105819&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[3]+3250441966&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[4]+4118548399&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[5]+1200080426&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[6]+2821735955&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[7]+4249261313&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[8]+1770035416&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[9]+2336552879&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[10]+4294925233&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[11]+2304563134&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(T^y&(C^T))+E[12]+1804603682&4294967295,m=y+(v<<7&4294967295|v>>>25),v=T+(C^m&(y^C))+E[13]+4254626195&4294967295,T=m+(v<<12&4294967295|v>>>20),v=C+(y^T&(m^y))+E[14]+2792965006&4294967295,C=T+(v<<17&4294967295|v>>>15),v=y+(m^C&(T^m))+E[15]+1236535329&4294967295,y=C+(v<<22&4294967295|v>>>10),v=m+(C^T&(y^C))+E[1]+4129170786&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[6]+3225465664&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[11]+643717713&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[0]+3921069994&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[5]+3593408605&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[10]+38016083&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[15]+3634488961&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[4]+3889429448&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[9]+568446438&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[14]+3275163606&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[3]+4107603335&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[8]+1163531501&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(C^T&(y^C))+E[13]+2850285829&4294967295,m=y+(v<<5&4294967295|v>>>27),v=T+(y^C&(m^y))+E[2]+4243563512&4294967295,T=m+(v<<9&4294967295|v>>>23),v=C+(m^y&(T^m))+E[7]+1735328473&4294967295,C=T+(v<<14&4294967295|v>>>18),v=y+(T^m&(C^T))+E[12]+2368359562&4294967295,y=C+(v<<20&4294967295|v>>>12),v=m+(y^C^T)+E[5]+4294588738&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[8]+2272392833&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[11]+1839030562&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[14]+4259657740&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[1]+2763975236&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[4]+1272893353&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[7]+4139469664&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[10]+3200236656&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[13]+681279174&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[0]+3936430074&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[3]+3572445317&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[6]+76029189&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(y^C^T)+E[9]+3654602809&4294967295,m=y+(v<<4&4294967295|v>>>28),v=T+(m^y^C)+E[12]+3873151461&4294967295,T=m+(v<<11&4294967295|v>>>21),v=C+(T^m^y)+E[15]+530742520&4294967295,C=T+(v<<16&4294967295|v>>>16),v=y+(C^T^m)+E[2]+3299628645&4294967295,y=C+(v<<23&4294967295|v>>>9),v=m+(C^(y|~T))+E[0]+4096336452&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[7]+1126891415&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[14]+2878612391&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[5]+4237533241&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[12]+1700485571&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[3]+2399980690&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[10]+4293915773&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[1]+2240044497&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[8]+1873313359&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[15]+4264355552&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[6]+2734768916&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[13]+1309151649&4294967295,y=C+(v<<21&4294967295|v>>>11),v=m+(C^(y|~T))+E[4]+4149444226&4294967295,m=y+(v<<6&4294967295|v>>>26),v=T+(y^(m|~C))+E[11]+3174756917&4294967295,T=m+(v<<10&4294967295|v>>>22),v=C+(m^(T|~y))+E[2]+718787259&4294967295,C=T+(v<<15&4294967295|v>>>17),v=y+(T^(C|~m))+E[9]+3951481745&4294967295,b.g[0]=b.g[0]+m&4294967295,b.g[1]=b.g[1]+(C+(v<<21&4294967295|v>>>11))&4294967295,b.g[2]=b.g[2]+C&4294967295,b.g[3]=b.g[3]+T&4294967295}r.prototype.u=function(b,m){m===void 0&&(m=b.length);for(var y=m-this.blockSize,E=this.B,C=this.h,T=0;T<m;){if(C==0)for(;T<=y;)i(this,b,T),T+=this.blockSize;if(typeof b=="string"){for(;T<m;)if(E[C++]=b.charCodeAt(T++),C==this.blockSize){i(this,E),C=0;break}}else for(;T<m;)if(E[C++]=b[T++],C==this.blockSize){i(this,E),C=0;break}}this.h=C,this.o+=m},r.prototype.v=function(){var b=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);b[0]=128;for(var m=1;m<b.length-8;++m)b[m]=0;var y=8*this.o;for(m=b.length-8;m<b.length;++m)b[m]=y&255,y/=256;for(this.u(b),b=Array(16),m=y=0;4>m;++m)for(var E=0;32>E;E+=8)b[y++]=this.g[m]>>>E&255;return b};function o(b,m){var y=c;return Object.prototype.hasOwnProperty.call(y,b)?y[b]:y[b]=m(b)}function s(b,m){this.h=m;for(var y=[],E=!0,C=b.length-1;0<=C;C--){var T=b[C]|0;E&&T==m||(y[C]=T,E=!1)}this.g=y}var c={};function u(b){return-128<=b&&128>b?o(b,function(m){return new s([m|0],0>m?-1:0)}):new s([b|0],0>b?-1:0)}function l(b){if(isNaN(b)||!isFinite(b))return g;if(0>b)return P(l(-b));for(var m=[],y=1,E=0;b>=y;E++)m[E]=b/y|0,y*=4294967296;return new s(m,0)}function f(b,m){if(b.length==0)throw Error("number format error: empty string");if(m=m||10,2>m||36<m)throw Error("radix out of range: "+m);if(b.charAt(0)=="-")return P(f(b.substring(1),m));if(0<=b.indexOf("-"))throw Error('number format error: interior "-" character');for(var y=l(Math.pow(m,8)),E=g,C=0;C<b.length;C+=8){var T=Math.min(8,b.length-C),v=parseInt(b.substring(C,C+T),m);8>T?(T=l(Math.pow(m,T)),E=E.j(T).add(l(v))):(E=E.j(y),E=E.add(l(v)))}return E}var g=u(0),_=u(1),w=u(16777216);t=s.prototype,t.m=function(){if(O(this))return-P(this).m();for(var b=0,m=1,y=0;y<this.g.length;y++){var E=this.i(y);b+=(0<=E?E:4294967296+E)*m,m*=4294967296}return b},t.toString=function(b){if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(A(this))return"0";if(O(this))return"-"+P(this).toString(b);for(var m=l(Math.pow(b,6)),y=this,E="";;){var C=ve(y,m).g;y=j(y,C.j(m));var T=((0<y.g.length?y.g[0]:y.h)>>>0).toString(b);if(y=C,A(y))return T+E;for(;6>T.length;)T="0"+T;E=T+E}},t.i=function(b){return 0>b?0:b<this.g.length?this.g[b]:this.h};function A(b){if(b.h!=0)return!1;for(var m=0;m<b.g.length;m++)if(b.g[m]!=0)return!1;return!0}function O(b){return b.h==-1}t.l=function(b){return b=j(this,b),O(b)?-1:A(b)?0:1};function P(b){for(var m=b.g.length,y=[],E=0;E<m;E++)y[E]=~b.g[E];return new s(y,~b.h).add(_)}t.abs=function(){return O(this)?P(this):this},t.add=function(b){for(var m=Math.max(this.g.length,b.g.length),y=[],E=0,C=0;C<=m;C++){var T=E+(this.i(C)&65535)+(b.i(C)&65535),v=(T>>>16)+(this.i(C)>>>16)+(b.i(C)>>>16);E=v>>>16,T&=65535,v&=65535,y[C]=v<<16|T}return new s(y,y[y.length-1]&-2147483648?-1:0)};function j(b,m){return b.add(P(m))}t.j=function(b){if(A(this)||A(b))return g;if(O(this))return O(b)?P(this).j(P(b)):P(P(this).j(b));if(O(b))return P(this.j(P(b)));if(0>this.l(w)&&0>b.l(w))return l(this.m()*b.m());for(var m=this.g.length+b.g.length,y=[],E=0;E<2*m;E++)y[E]=0;for(E=0;E<this.g.length;E++)for(var C=0;C<b.g.length;C++){var T=this.i(E)>>>16,v=this.i(E)&65535,In=b.i(C)>>>16,ys=b.i(C)&65535;y[2*E+2*C]+=v*ys,K(y,2*E+2*C),y[2*E+2*C+1]+=T*ys,K(y,2*E+2*C+1),y[2*E+2*C+1]+=v*In,K(y,2*E+2*C+1),y[2*E+2*C+2]+=T*In,K(y,2*E+2*C+2)}for(E=0;E<m;E++)y[E]=y[2*E+1]<<16|y[2*E];for(E=m;E<2*m;E++)y[E]=0;return new s(y,0)};function K(b,m){for(;(b[m]&65535)!=b[m];)b[m+1]+=b[m]>>>16,b[m]&=65535,m++}function X(b,m){this.g=b,this.h=m}function ve(b,m){if(A(m))throw Error("division by zero");if(A(b))return new X(g,g);if(O(b))return m=ve(P(b),m),new X(P(m.g),P(m.h));if(O(m))return m=ve(b,P(m)),new X(P(m.g),m.h);if(30<b.g.length){if(O(b)||O(m))throw Error("slowDivide_ only works with positive integers.");for(var y=_,E=m;0>=E.l(b);)y=Ze(y),E=Ze(E);var C=me(y,1),T=me(E,1);for(E=me(E,2),y=me(y,2);!A(E);){var v=T.add(E);0>=v.l(b)&&(C=C.add(y),T=v),E=me(E,1),y=me(y,1)}return m=j(b,C.j(m)),new X(C,m)}for(C=g;0<=b.l(m);){for(y=Math.max(1,Math.floor(b.m()/m.m())),E=Math.ceil(Math.log(y)/Math.LN2),E=48>=E?1:Math.pow(2,E-48),T=l(y),v=T.j(m);O(v)||0<v.l(b);)y-=E,T=l(y),v=T.j(m);A(T)&&(T=_),C=C.add(T),b=j(b,v)}return new X(C,b)}t.A=function(b){return ve(this,b).h},t.and=function(b){for(var m=Math.max(this.g.length,b.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)&b.i(E);return new s(y,this.h&b.h)},t.or=function(b){for(var m=Math.max(this.g.length,b.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)|b.i(E);return new s(y,this.h|b.h)},t.xor=function(b){for(var m=Math.max(this.g.length,b.g.length),y=[],E=0;E<m;E++)y[E]=this.i(E)^b.i(E);return new s(y,this.h^b.h)};function Ze(b){for(var m=b.g.length+1,y=[],E=0;E<m;E++)y[E]=b.i(E)<<1|b.i(E-1)>>>31;return new s(y,b.h)}function me(b,m){var y=m>>5;m%=32;for(var E=b.g.length-y,C=[],T=0;T<E;T++)C[T]=0<m?b.i(T+y)>>>m|b.i(T+y+1)<<32-m:b.i(T+y);return new s(C,b.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,PD=ND.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=l,s.fromString=f,Km=ND.Integer=s}).apply(typeof RD<"u"?RD:typeof self<"u"?self:typeof window<"u"?window:{});var ud=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Gn={};var Qm,Ym,Jo,Zm,Za,ld,Jm,Xm,ey;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,d,h){return a==Array.prototype||a==Object.prototype||(a[d]=h.value),a};function n(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof ud=="object"&&ud];for(var d=0;d<a.length;++d){var h=a[d];if(h&&h.Math==Math)return h}throw Error("Cannot find global object")}var r=n(this);function i(a,d){if(d)e:{var h=r;a=a.split(".");for(var p=0;p<a.length-1;p++){var D=a[p];if(!(D in h))break e;h=h[D]}a=a[a.length-1],p=h[a],d=d(p),d!=p&&d!=null&&e(h,a,{configurable:!0,writable:!0,value:d})}}function o(a,d){a instanceof String&&(a+="");var h=0,p=!1,D={next:function(){if(!p&&h<a.length){var S=h++;return{value:d(S,a[S]),done:!1}}return p=!0,{done:!0,value:void 0}}};return D[Symbol.iterator]=function(){return D},D}i("Array.prototype.values",function(a){return a||function(){return o(this,function(d,h){return h})}});var s=s||{},c=this||self;function u(a){var d=typeof a;return d=d!="object"?d:a?Array.isArray(a)?"array":d:"null",d=="array"||d=="object"&&typeof a.length=="number"}function l(a){var d=typeof a;return d=="object"&&a!=null||d=="function"}function f(a,d,h){return a.call.apply(a.bind,arguments)}function g(a,d,h){if(!a)throw Error();if(2<arguments.length){var p=Array.prototype.slice.call(arguments,2);return function(){var D=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(D,p),a.apply(d,D)}}return function(){return a.apply(d,arguments)}}function _(a,d,h){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?f:g,_.apply(null,arguments)}function w(a,d){var h=Array.prototype.slice.call(arguments,1);return function(){var p=h.slice();return p.push.apply(p,arguments),a.apply(this,p)}}function A(a,d){function h(){}h.prototype=d.prototype,a.aa=d.prototype,a.prototype=new h,a.prototype.constructor=a,a.Qb=function(p,D,S){for(var k=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)k[Ie-2]=arguments[Ie];return d.prototype[D].apply(p,k)}}function O(a){let d=a.length;if(0<d){let h=Array(d);for(let p=0;p<d;p++)h[p]=a[p];return h}return[]}function P(a,d){for(let h=1;h<arguments.length;h++){let p=arguments[h];if(u(p)){let D=a.length||0,S=p.length||0;a.length=D+S;for(let k=0;k<S;k++)a[D+k]=p[k]}else a.push(p)}}class j{constructor(d,h){this.i=d,this.j=h,this.h=0,this.g=null}get(){let d;return 0<this.h?(this.h--,d=this.g,this.g=d.next,d.next=null):d=this.i(),d}}function K(a){return/^[\s\xa0]*$/.test(a)}function X(){var a=c.navigator;return a&&(a=a.userAgent)?a:""}function ve(a){return ve[" "](a),a}ve[" "]=function(){};var Ze=X().indexOf("Gecko")!=-1&&!(X().toLowerCase().indexOf("webkit")!=-1&&X().indexOf("Edge")==-1)&&!(X().indexOf("Trident")!=-1||X().indexOf("MSIE")!=-1)&&X().indexOf("Edge")==-1;function me(a,d,h){for(let p in a)d.call(h,a[p],p,a)}function b(a,d){for(let h in a)d.call(void 0,a[h],h,a)}function m(a){let d={};for(let h in a)d[h]=a[h];return d}let y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function E(a,d){let h,p;for(let D=1;D<arguments.length;D++){p=arguments[D];for(h in p)a[h]=p[h];for(let S=0;S<y.length;S++)h=y[S],Object.prototype.hasOwnProperty.call(p,h)&&(a[h]=p[h])}}function C(a){var d=1;a=a.split(":");let h=[];for(;0<d&&a.length;)h.push(a.shift()),d--;return a.length&&h.push(a.join(":")),h}function T(a){c.setTimeout(()=>{throw a},0)}function v(){var a=Jd;let d=null;return a.g&&(d=a.g,a.g=a.g.next,a.g||(a.h=null),d.next=null),d}class In{constructor(){this.h=this.g=null}add(d,h){let p=ys.get();p.set(d,h),this.h?this.h.next=p:this.g=p,this.h=p}}var ys=new j(()=>new nS,a=>a.reset());class nS{constructor(){this.next=this.g=this.h=null}set(d,h){this.h=d,this.g=h,this.next=null}reset(){this.next=this.g=this.h=null}}let vs,_s=!1,Jd=new In,Pv=()=>{let a=c.Promise.resolve(void 0);vs=()=>{a.then(rS)}};var rS=()=>{for(var a;a=v();){try{a.h.call(a.g)}catch(h){T(h)}var d=ys;d.j(a),100>d.h&&(d.h++,a.next=d.g,d.g=a)}_s=!1};function Jn(){this.s=this.s,this.C=this.C}Jn.prototype.s=!1,Jn.prototype.ma=function(){this.s||(this.s=!0,this.N())},Jn.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function tt(a,d){this.type=a,this.g=this.target=d,this.defaultPrevented=!1}tt.prototype.h=function(){this.defaultPrevented=!0};var iS=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var a=!1,d=Object.defineProperty({},"passive",{get:function(){a=!0}});try{let h=()=>{};c.addEventListener("test",h,d),c.removeEventListener("test",h,d)}catch{}return a}();function ws(a,d){if(tt.call(this,a?a.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,a){var h=this.type=a.type,p=a.changedTouches&&a.changedTouches.length?a.changedTouches[0]:null;if(this.target=a.target||a.srcElement,this.g=d,d=a.relatedTarget){if(Ze){e:{try{ve(d.nodeName);var D=!0;break e}catch{}D=!1}D||(d=null)}}else h=="mouseover"?d=a.fromElement:h=="mouseout"&&(d=a.toElement);this.relatedTarget=d,p?(this.clientX=p.clientX!==void 0?p.clientX:p.pageX,this.clientY=p.clientY!==void 0?p.clientY:p.pageY,this.screenX=p.screenX||0,this.screenY=p.screenY||0):(this.clientX=a.clientX!==void 0?a.clientX:a.pageX,this.clientY=a.clientY!==void 0?a.clientY:a.pageY,this.screenX=a.screenX||0,this.screenY=a.screenY||0),this.button=a.button,this.key=a.key||"",this.ctrlKey=a.ctrlKey,this.altKey=a.altKey,this.shiftKey=a.shiftKey,this.metaKey=a.metaKey,this.pointerId=a.pointerId||0,this.pointerType=typeof a.pointerType=="string"?a.pointerType:oS[a.pointerType]||"",this.state=a.state,this.i=a,a.defaultPrevented&&ws.aa.h.call(this)}}A(ws,tt);var oS={2:"touch",3:"pen",4:"mouse"};ws.prototype.h=function(){ws.aa.h.call(this);var a=this.i;a.preventDefault?a.preventDefault():a.returnValue=!1};var Is="closure_listenable_"+(1e6*Math.random()|0),sS=0;function aS(a,d,h,p,D){this.listener=a,this.proxy=null,this.src=d,this.type=h,this.capture=!!p,this.ha=D,this.key=++sS,this.da=this.fa=!1}function dc(a){a.da=!0,a.listener=null,a.proxy=null,a.src=null,a.ha=null}function hc(a){this.src=a,this.g={},this.h=0}hc.prototype.add=function(a,d,h,p,D){var S=a.toString();a=this.g[S],a||(a=this.g[S]=[],this.h++);var k=eh(a,d,p,D);return-1<k?(d=a[k],h||(d.fa=!1)):(d=new aS(d,this.src,S,!!p,D),d.fa=h,a.push(d)),d};function Xd(a,d){var h=d.type;if(h in a.g){var p=a.g[h],D=Array.prototype.indexOf.call(p,d,void 0),S;(S=0<=D)&&Array.prototype.splice.call(p,D,1),S&&(dc(d),a.g[h].length==0&&(delete a.g[h],a.h--))}}function eh(a,d,h,p){for(var D=0;D<a.length;++D){var S=a[D];if(!S.da&&S.listener==d&&S.capture==!!h&&S.ha==p)return D}return-1}var th="closure_lm_"+(1e6*Math.random()|0),nh={};function Ov(a,d,h,p,D){if(p&&p.once)return Fv(a,d,h,p,D);if(Array.isArray(d)){for(var S=0;S<d.length;S++)Ov(a,d[S],h,p,D);return null}return h=sh(h),a&&a[Is]?a.K(d,h,l(p)?!!p.capture:!!p,D):kv(a,d,h,!1,p,D)}function kv(a,d,h,p,D,S){if(!d)throw Error("Invalid event type");var k=l(D)?!!D.capture:!!D,Ie=ih(a);if(Ie||(a[th]=Ie=new hc(a)),h=Ie.add(d,h,p,k,S),h.proxy)return h;if(p=cS(),h.proxy=p,p.src=a,p.listener=h,a.addEventListener)iS||(D=k),D===void 0&&(D=!1),a.addEventListener(d.toString(),p,D);else if(a.attachEvent)a.attachEvent(Vv(d.toString()),p);else if(a.addListener&&a.removeListener)a.addListener(p);else throw Error("addEventListener and attachEvent are unavailable.");return h}function cS(){function a(h){return d.call(a.src,a.listener,h)}let d=uS;return a}function Fv(a,d,h,p,D){if(Array.isArray(d)){for(var S=0;S<d.length;S++)Fv(a,d[S],h,p,D);return null}return h=sh(h),a&&a[Is]?a.L(d,h,l(p)?!!p.capture:!!p,D):kv(a,d,h,!0,p,D)}function Lv(a,d,h,p,D){if(Array.isArray(d))for(var S=0;S<d.length;S++)Lv(a,d[S],h,p,D);else p=l(p)?!!p.capture:!!p,h=sh(h),a&&a[Is]?(a=a.i,d=String(d).toString(),d in a.g&&(S=a.g[d],h=eh(S,h,p,D),-1<h&&(dc(S[h]),Array.prototype.splice.call(S,h,1),S.length==0&&(delete a.g[d],a.h--)))):a&&(a=ih(a))&&(d=a.g[d.toString()],a=-1,d&&(a=eh(d,h,p,D)),(h=-1<a?d[a]:null)&&rh(h))}function rh(a){if(typeof a!="number"&&a&&!a.da){var d=a.src;if(d&&d[Is])Xd(d.i,a);else{var h=a.type,p=a.proxy;d.removeEventListener?d.removeEventListener(h,p,a.capture):d.detachEvent?d.detachEvent(Vv(h),p):d.addListener&&d.removeListener&&d.removeListener(p),(h=ih(d))?(Xd(h,a),h.h==0&&(h.src=null,d[th]=null)):dc(a)}}}function Vv(a){return a in nh?nh[a]:nh[a]="on"+a}function uS(a,d){if(a.da)a=!0;else{d=new ws(d,this);var h=a.listener,p=a.ha||a.src;a.fa&&rh(a),a=h.call(p,d)}return a}function ih(a){return a=a[th],a instanceof hc?a:null}var oh="__closure_events_fn_"+(1e9*Math.random()>>>0);function sh(a){return typeof a=="function"?a:(a[oh]||(a[oh]=function(d){return a.handleEvent(d)}),a[oh])}function nt(){Jn.call(this),this.i=new hc(this),this.M=this,this.F=null}A(nt,Jn),nt.prototype[Is]=!0,nt.prototype.removeEventListener=function(a,d,h,p){Lv(this,a,d,h,p)};function ut(a,d){var h,p=a.F;if(p)for(h=[];p;p=p.F)h.push(p);if(a=a.M,p=d.type||d,typeof d=="string")d=new tt(d,a);else if(d instanceof tt)d.target=d.target||a;else{var D=d;d=new tt(p,a),E(d,D)}if(D=!0,h)for(var S=h.length-1;0<=S;S--){var k=d.g=h[S];D=fc(k,p,!0,d)&&D}if(k=d.g=a,D=fc(k,p,!0,d)&&D,D=fc(k,p,!1,d)&&D,h)for(S=0;S<h.length;S++)k=d.g=h[S],D=fc(k,p,!1,d)&&D}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var a=this.i,d;for(d in a.g){for(var h=a.g[d],p=0;p<h.length;p++)dc(h[p]);delete a.g[d],a.h--}}this.F=null},nt.prototype.K=function(a,d,h,p){return this.i.add(String(a),d,!1,h,p)},nt.prototype.L=function(a,d,h,p){return this.i.add(String(a),d,!0,h,p)};function fc(a,d,h,p){if(d=a.i.g[String(d)],!d)return!0;d=d.concat();for(var D=!0,S=0;S<d.length;++S){var k=d[S];if(k&&!k.da&&k.capture==h){var Ie=k.listener,Je=k.ha||k.src;k.fa&&Xd(a.i,k),D=Ie.call(Je,p)!==!1&&D}}return D&&!p.defaultPrevented}function jv(a,d,h){if(typeof a=="function")h&&(a=_(a,h));else if(a&&typeof a.handleEvent=="function")a=_(a.handleEvent,a);else throw Error("Invalid listener argument");return 2147483647<Number(d)?-1:c.setTimeout(a,d||0)}function Uv(a){a.g=jv(()=>{a.g=null,a.i&&(a.i=!1,Uv(a))},a.l);let d=a.h;a.h=null,a.m.apply(null,d)}class lS extends Jn{constructor(d,h){super(),this.m=d,this.l=h,this.h=null,this.i=!1,this.g=null}j(d){this.h=arguments,this.g?this.i=!0:Uv(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Es(a){Jn.call(this),this.h=a,this.g={}}A(Es,Jn);var Bv=[];function $v(a){me(a.g,function(d,h){this.g.hasOwnProperty(h)&&rh(d)},a),a.g={}}Es.prototype.N=function(){Es.aa.N.call(this),$v(this)},Es.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ah=c.JSON.stringify,dS=c.JSON.parse,hS=class{stringify(a){return c.JSON.stringify(a,void 0)}parse(a){return c.JSON.parse(a,void 0)}};function ch(){}ch.prototype.h=null;function Hv(a){return a.h||(a.h=a.i())}function zv(){}var bs={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function uh(){tt.call(this,"d")}A(uh,tt);function lh(){tt.call(this,"c")}A(lh,tt);var Fr={},qv=null;function pc(){return qv=qv||new nt}Fr.La="serverreachability";function Gv(a){tt.call(this,Fr.La,a)}A(Gv,tt);function Cs(a){let d=pc();ut(d,new Gv(d))}Fr.STAT_EVENT="statevent";function Wv(a,d){tt.call(this,Fr.STAT_EVENT,a),this.stat=d}A(Wv,tt);function lt(a){let d=pc();ut(d,new Wv(d,a))}Fr.Ma="timingevent";function Kv(a,d){tt.call(this,Fr.Ma,a),this.size=d}A(Kv,tt);function Ds(a,d){if(typeof a!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){a()},d)}function Ts(){this.g=!0}Ts.prototype.xa=function(){this.g=!1};function fS(a,d,h,p,D,S){a.info(function(){if(a.g)if(S)for(var k="",Ie=S.split("&"),Je=0;Je<Ie.length;Je++){var ye=Ie[Je].split("=");if(1<ye.length){var rt=ye[0];ye=ye[1];var it=rt.split("_");k=2<=it.length&&it[1]=="type"?k+(rt+"="+ye+"&"):k+(rt+"=redacted&")}}else k=null;else k=S;return"XMLHTTP REQ ("+p+") [attempt "+D+"]: "+d+`
`+h+`
`+k})}function pS(a,d,h,p,D,S,k){a.info(function(){return"XMLHTTP RESP ("+p+") [ attempt "+D+"]: "+d+`
`+h+`
`+S+" "+k})}function Li(a,d,h,p){a.info(function(){return"XMLHTTP TEXT ("+d+"): "+mS(a,h)+(p?" "+p:"")})}function gS(a,d){a.info(function(){return"TIMEOUT: "+d})}Ts.prototype.info=function(){};function mS(a,d){if(!a.g)return d;if(!d)return null;try{var h=JSON.parse(d);if(h){for(a=0;a<h.length;a++)if(Array.isArray(h[a])){var p=h[a];if(!(2>p.length)){var D=p[1];if(Array.isArray(D)&&!(1>D.length)){var S=D[0];if(S!="noop"&&S!="stop"&&S!="close")for(var k=1;k<D.length;k++)D[k]=""}}}}return ah(h)}catch{return d}}var gc={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Qv={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},dh;function mc(){}A(mc,ch),mc.prototype.g=function(){return new XMLHttpRequest},mc.prototype.i=function(){return{}},dh=new mc;function Xn(a,d,h,p){this.j=a,this.i=d,this.l=h,this.R=p||1,this.U=new Es(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Yv}function Yv(){this.i=null,this.g="",this.h=!1}var Zv={},hh={};function fh(a,d,h){a.L=1,a.v=wc(En(d)),a.m=h,a.P=!0,Jv(a,null)}function Jv(a,d){a.F=Date.now(),yc(a),a.A=En(a.v);var h=a.A,p=a.R;Array.isArray(p)||(p=[String(p)]),h_(h.i,"t",p),a.C=0,h=a.j.J,a.h=new Yv,a.g=x_(a.j,h?d:null,!a.m),0<a.O&&(a.M=new lS(_(a.Y,a,a.g),a.O)),d=a.U,h=a.g,p=a.ca;var D="readystatechange";Array.isArray(D)||(D&&(Bv[0]=D.toString()),D=Bv);for(var S=0;S<D.length;S++){var k=Ov(h,D[S],p||d.handleEvent,!1,d.h||d);if(!k)break;d.g[k.key]=k}d=a.H?m(a.H):{},a.m?(a.u||(a.u="POST"),d["Content-Type"]="application/x-www-form-urlencoded",a.g.ea(a.A,a.u,a.m,d)):(a.u="GET",a.g.ea(a.A,a.u,null,d)),Cs(),fS(a.i,a.u,a.A,a.l,a.R,a.m)}Xn.prototype.ca=function(a){a=a.target;let d=this.M;d&&bn(a)==3?d.j():this.Y(a)},Xn.prototype.Y=function(a){try{if(a==this.g)e:{let it=bn(this.g);var d=this.g.Ba();let Ui=this.g.Z();if(!(3>it)&&(it!=3||this.g&&(this.h.h||this.g.oa()||__(this.g)))){this.J||it!=4||d==7||(d==8||0>=Ui?Cs(3):Cs(2)),ph(this);var h=this.g.Z();this.X=h;t:if(Xv(this)){var p=__(this.g);a="";var D=p.length,S=bn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lr(this),Ss(this);var k="";break t}this.h.i=new c.TextDecoder}for(d=0;d<D;d++)this.h.h=!0,a+=this.h.i.decode(p[d],{stream:!(S&&d==D-1)});p.length=0,this.h.g+=a,this.C=0,k=this.h.g}else k=this.g.oa();if(this.o=h==200,pS(this.i,this.u,this.A,this.l,this.R,it,h),this.o){if(this.T&&!this.K){t:{if(this.g){var Ie,Je=this.g;if((Ie=Je.g?Je.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Ie)){var ye=Ie;break t}}ye=null}if(h=ye)Li(this.i,this.l,h,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,gh(this,h);else{this.o=!1,this.s=3,lt(12),Lr(this),Ss(this);break e}}if(this.P){h=!0;let Ht;for(;!this.J&&this.C<k.length;)if(Ht=yS(this,k),Ht==hh){it==4&&(this.s=4,lt(14),h=!1),Li(this.i,this.l,null,"[Incomplete Response]");break}else if(Ht==Zv){this.s=4,lt(15),Li(this.i,this.l,k,"[Invalid Chunk]"),h=!1;break}else Li(this.i,this.l,Ht,null),gh(this,Ht);if(Xv(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),it!=4||k.length!=0||this.h.h||(this.s=1,lt(16),h=!1),this.o=this.o&&h,!h)Li(this.i,this.l,k,"[Invalid Chunked Response]"),Lr(this),Ss(this);else if(0<k.length&&!this.W){this.W=!0;var rt=this.j;rt.g==this&&rt.ba&&!rt.M&&(rt.j.info("Great, no buffering proxy detected. Bytes received: "+k.length),Ih(rt),rt.M=!0,lt(11))}}else Li(this.i,this.l,k,null),gh(this,k);it==4&&Lr(this),this.o&&!this.J&&(it==4?T_(this.j,this):(this.o=!1,yc(this)))}else OS(this.g),h==400&&0<k.indexOf("Unknown SID")?(this.s=3,lt(12)):(this.s=0,lt(13)),Lr(this),Ss(this)}}}catch{}finally{}};function Xv(a){return a.g?a.u=="GET"&&a.L!=2&&a.j.Ca:!1}function yS(a,d){var h=a.C,p=d.indexOf(`
`,h);return p==-1?hh:(h=Number(d.substring(h,p)),isNaN(h)?Zv:(p+=1,p+h>d.length?hh:(d=d.slice(p,p+h),a.C=p+h,d)))}Xn.prototype.cancel=function(){this.J=!0,Lr(this)};function yc(a){a.S=Date.now()+a.I,e_(a,a.I)}function e_(a,d){if(a.B!=null)throw Error("WatchDog timer not null");a.B=Ds(_(a.ba,a),d)}function ph(a){a.B&&(c.clearTimeout(a.B),a.B=null)}Xn.prototype.ba=function(){this.B=null;let a=Date.now();0<=a-this.S?(gS(this.i,this.A),this.L!=2&&(Cs(),lt(17)),Lr(this),this.s=2,Ss(this)):e_(this,this.S-a)};function Ss(a){a.j.G==0||a.J||T_(a.j,a)}function Lr(a){ph(a);var d=a.M;d&&typeof d.ma=="function"&&d.ma(),a.M=null,$v(a.U),a.g&&(d=a.g,a.g=null,d.abort(),d.ma())}function gh(a,d){try{var h=a.j;if(h.G!=0&&(h.g==a||mh(h.h,a))){if(!a.K&&mh(h.h,a)&&h.G==3){try{var p=h.Da.g.parse(d)}catch{p=null}if(Array.isArray(p)&&p.length==3){var D=p;if(D[0]==0){e:if(!h.u){if(h.g)if(h.g.F+3e3<a.F)Dc(h),bc(h);else break e;wh(h),lt(18)}}else h.za=D[1],0<h.za-h.T&&37500>D[2]&&h.F&&h.v==0&&!h.C&&(h.C=Ds(_(h.Za,h),6e3));if(1>=r_(h.h)&&h.ca){try{h.ca()}catch{}h.ca=void 0}}else jr(h,11)}else if((a.K||h.g==a)&&Dc(h),!K(d))for(D=h.Da.g.parse(d),d=0;d<D.length;d++){let ye=D[d];if(h.T=ye[0],ye=ye[1],h.G==2)if(ye[0]=="c"){h.K=ye[1],h.ia=ye[2];let rt=ye[3];rt!=null&&(h.la=rt,h.j.info("VER="+h.la));let it=ye[4];it!=null&&(h.Aa=it,h.j.info("SVER="+h.Aa));let Ui=ye[5];Ui!=null&&typeof Ui=="number"&&0<Ui&&(p=1.5*Ui,h.L=p,h.j.info("backChannelRequestTimeoutMs_="+p)),p=h;let Ht=a.g;if(Ht){let Sc=Ht.g?Ht.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Sc){var S=p.h;S.g||Sc.indexOf("spdy")==-1&&Sc.indexOf("quic")==-1&&Sc.indexOf("h2")==-1||(S.j=S.l,S.g=new Set,S.h&&(yh(S,S.h),S.h=null))}if(p.D){let Eh=Ht.g?Ht.g.getResponseHeader("X-HTTP-Session-Id"):null;Eh&&(p.ya=Eh,Te(p.I,p.D,Eh))}}h.G=3,h.l&&h.l.ua(),h.ba&&(h.R=Date.now()-a.F,h.j.info("Handshake RTT: "+h.R+"ms")),p=h;var k=a;if(p.qa=M_(p,p.J?p.ia:null,p.W),k.K){i_(p.h,k);var Ie=k,Je=p.L;Je&&(Ie.I=Je),Ie.B&&(ph(Ie),yc(Ie)),p.g=k}else C_(p);0<h.i.length&&Cc(h)}else ye[0]!="stop"&&ye[0]!="close"||jr(h,7);else h.G==3&&(ye[0]=="stop"||ye[0]=="close"?ye[0]=="stop"?jr(h,7):_h(h):ye[0]!="noop"&&h.l&&h.l.ta(ye),h.v=0)}}Cs(4)}catch{}}var vS=class{constructor(a,d){this.g=a,this.map=d}};function t_(a){this.l=a||10,c.PerformanceNavigationTiming?(a=c.performance.getEntriesByType("navigation"),a=0<a.length&&(a[0].nextHopProtocol=="hq"||a[0].nextHopProtocol=="h2")):a=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=a?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function n_(a){return a.h?!0:a.g?a.g.size>=a.j:!1}function r_(a){return a.h?1:a.g?a.g.size:0}function mh(a,d){return a.h?a.h==d:a.g?a.g.has(d):!1}function yh(a,d){a.g?a.g.add(d):a.h=d}function i_(a,d){a.h&&a.h==d?a.h=null:a.g&&a.g.has(d)&&a.g.delete(d)}t_.prototype.cancel=function(){if(this.i=o_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let a of this.g.values())a.cancel();this.g.clear()}};function o_(a){if(a.h!=null)return a.i.concat(a.h.D);if(a.g!=null&&a.g.size!==0){let d=a.i;for(let h of a.g.values())d=d.concat(h.D);return d}return O(a.i)}function _S(a){if(a.V&&typeof a.V=="function")return a.V();if(typeof Map<"u"&&a instanceof Map||typeof Set<"u"&&a instanceof Set)return Array.from(a.values());if(typeof a=="string")return a.split("");if(u(a)){for(var d=[],h=a.length,p=0;p<h;p++)d.push(a[p]);return d}d=[],h=0;for(p in a)d[h++]=a[p];return d}function wS(a){if(a.na&&typeof a.na=="function")return a.na();if(!a.V||typeof a.V!="function"){if(typeof Map<"u"&&a instanceof Map)return Array.from(a.keys());if(!(typeof Set<"u"&&a instanceof Set)){if(u(a)||typeof a=="string"){var d=[];a=a.length;for(var h=0;h<a;h++)d.push(h);return d}d=[],h=0;for(let p in a)d[h++]=p;return d}}}function s_(a,d){if(a.forEach&&typeof a.forEach=="function")a.forEach(d,void 0);else if(u(a)||typeof a=="string")Array.prototype.forEach.call(a,d,void 0);else for(var h=wS(a),p=_S(a),D=p.length,S=0;S<D;S++)d.call(void 0,p[S],h&&h[S],a)}var a_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function IS(a,d){if(a){a=a.split("&");for(var h=0;h<a.length;h++){var p=a[h].indexOf("="),D=null;if(0<=p){var S=a[h].substring(0,p);D=a[h].substring(p+1)}else S=a[h];d(S,D?decodeURIComponent(D.replace(/\+/g," ")):"")}}}function Vr(a){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,a instanceof Vr){this.h=a.h,vc(this,a.j),this.o=a.o,this.g=a.g,_c(this,a.s),this.l=a.l;var d=a.i,h=new xs;h.i=d.i,d.g&&(h.g=new Map(d.g),h.h=d.h),c_(this,h),this.m=a.m}else a&&(d=String(a).match(a_))?(this.h=!1,vc(this,d[1]||"",!0),this.o=As(d[2]||""),this.g=As(d[3]||"",!0),_c(this,d[4]),this.l=As(d[5]||"",!0),c_(this,d[6]||"",!0),this.m=As(d[7]||"")):(this.h=!1,this.i=new xs(null,this.h))}Vr.prototype.toString=function(){var a=[],d=this.j;d&&a.push(Ms(d,u_,!0),":");var h=this.g;return(h||d=="file")&&(a.push("//"),(d=this.o)&&a.push(Ms(d,u_,!0),"@"),a.push(encodeURIComponent(String(h)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h=this.s,h!=null&&a.push(":",String(h))),(h=this.l)&&(this.g&&h.charAt(0)!="/"&&a.push("/"),a.push(Ms(h,h.charAt(0)=="/"?CS:bS,!0))),(h=this.i.toString())&&a.push("?",h),(h=this.m)&&a.push("#",Ms(h,TS)),a.join("")};function En(a){return new Vr(a)}function vc(a,d,h){a.j=h?As(d,!0):d,a.j&&(a.j=a.j.replace(/:$/,""))}function _c(a,d){if(d){if(d=Number(d),isNaN(d)||0>d)throw Error("Bad port number "+d);a.s=d}else a.s=null}function c_(a,d,h){d instanceof xs?(a.i=d,SS(a.i,a.h)):(h||(d=Ms(d,DS)),a.i=new xs(d,a.h))}function Te(a,d,h){a.i.set(d,h)}function wc(a){return Te(a,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),a}function As(a,d){return a?d?decodeURI(a.replace(/%25/g,"%2525")):decodeURIComponent(a):""}function Ms(a,d,h){return typeof a=="string"?(a=encodeURI(a).replace(d,ES),h&&(a=a.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),a):null}function ES(a){return a=a.charCodeAt(0),"%"+(a>>4&15).toString(16)+(a&15).toString(16)}var u_=/[#\/\?@]/g,bS=/[#\?:]/g,CS=/[#\?]/g,DS=/[#\?@]/g,TS=/#/g;function xs(a,d){this.h=this.g=null,this.i=a||null,this.j=!!d}function er(a){a.g||(a.g=new Map,a.h=0,a.i&&IS(a.i,function(d,h){a.add(decodeURIComponent(d.replace(/\+/g," ")),h)}))}t=xs.prototype,t.add=function(a,d){er(this),this.i=null,a=Vi(this,a);var h=this.g.get(a);return h||this.g.set(a,h=[]),h.push(d),this.h+=1,this};function l_(a,d){er(a),d=Vi(a,d),a.g.has(d)&&(a.i=null,a.h-=a.g.get(d).length,a.g.delete(d))}function d_(a,d){return er(a),d=Vi(a,d),a.g.has(d)}t.forEach=function(a,d){er(this),this.g.forEach(function(h,p){h.forEach(function(D){a.call(d,D,p,this)},this)},this)},t.na=function(){er(this);let a=Array.from(this.g.values()),d=Array.from(this.g.keys()),h=[];for(let p=0;p<d.length;p++){let D=a[p];for(let S=0;S<D.length;S++)h.push(d[p])}return h},t.V=function(a){er(this);let d=[];if(typeof a=="string")d_(this,a)&&(d=d.concat(this.g.get(Vi(this,a))));else{a=Array.from(this.g.values());for(let h=0;h<a.length;h++)d=d.concat(a[h])}return d},t.set=function(a,d){return er(this),this.i=null,a=Vi(this,a),d_(this,a)&&(this.h-=this.g.get(a).length),this.g.set(a,[d]),this.h+=1,this},t.get=function(a,d){return a?(a=this.V(a),0<a.length?String(a[0]):d):d};function h_(a,d,h){l_(a,d),0<h.length&&(a.i=null,a.g.set(Vi(a,d),O(h)),a.h+=h.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let a=[],d=Array.from(this.g.keys());for(var h=0;h<d.length;h++){var p=d[h];let S=encodeURIComponent(String(p)),k=this.V(p);for(p=0;p<k.length;p++){var D=S;k[p]!==""&&(D+="="+encodeURIComponent(String(k[p]))),a.push(D)}}return this.i=a.join("&")};function Vi(a,d){return d=String(d),a.j&&(d=d.toLowerCase()),d}function SS(a,d){d&&!a.j&&(er(a),a.i=null,a.g.forEach(function(h,p){var D=p.toLowerCase();p!=D&&(l_(this,p),h_(this,D,h))},a)),a.j=d}function AS(a,d){let h=new Ts;if(c.Image){let p=new Image;p.onload=w(tr,h,"TestLoadImage: loaded",!0,d,p),p.onerror=w(tr,h,"TestLoadImage: error",!1,d,p),p.onabort=w(tr,h,"TestLoadImage: abort",!1,d,p),p.ontimeout=w(tr,h,"TestLoadImage: timeout",!1,d,p),c.setTimeout(function(){p.ontimeout&&p.ontimeout()},1e4),p.src=a}else d(!1)}function MS(a,d){let h=new Ts,p=new AbortController,D=setTimeout(()=>{p.abort(),tr(h,"TestPingServer: timeout",!1,d)},1e4);fetch(a,{signal:p.signal}).then(S=>{clearTimeout(D),S.ok?tr(h,"TestPingServer: ok",!0,d):tr(h,"TestPingServer: server error",!1,d)}).catch(()=>{clearTimeout(D),tr(h,"TestPingServer: error",!1,d)})}function tr(a,d,h,p,D){try{D&&(D.onload=null,D.onerror=null,D.onabort=null,D.ontimeout=null),p(h)}catch{}}function xS(){this.g=new hS}function RS(a,d,h){let p=h||"";try{s_(a,function(D,S){let k=D;l(D)&&(k=ah(D)),d.push(p+S+"="+encodeURIComponent(k))})}catch(D){throw d.push(p+"type="+encodeURIComponent("_badmap")),D}}function Rs(a){this.l=a.Ub||null,this.j=a.eb||!1}A(Rs,ch),Rs.prototype.g=function(){return new Ic(this.l,this.j)},Rs.prototype.i=function(a){return function(){return a}}({});function Ic(a,d){nt.call(this),this.D=a,this.o=d,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(Ic,nt),t=Ic.prototype,t.open=function(a,d){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=a,this.A=d,this.readyState=1,Ps(this)},t.send=function(a){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let d={headers:this.u,method:this.B,credentials:this.m,cache:void 0};a&&(d.body=a),(this.D||c).fetch(new Request(this.A,d)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Ns(this)),this.readyState=0},t.Sa=function(a){if(this.g&&(this.l=a,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=a.headers,this.readyState=2,Ps(this)),this.g&&(this.readyState=3,Ps(this),this.g)))if(this.responseType==="arraybuffer")a.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in a){if(this.j=a.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;f_(this)}else a.text().then(this.Ra.bind(this),this.ga.bind(this))};function f_(a){a.j.read().then(a.Pa.bind(a)).catch(a.ga.bind(a))}t.Pa=function(a){if(this.g){if(this.o&&a.value)this.response.push(a.value);else if(!this.o){var d=a.value?a.value:new Uint8Array(0);(d=this.v.decode(d,{stream:!a.done}))&&(this.response=this.responseText+=d)}a.done?Ns(this):Ps(this),this.readyState==3&&f_(this)}},t.Ra=function(a){this.g&&(this.response=this.responseText=a,Ns(this))},t.Qa=function(a){this.g&&(this.response=a,Ns(this))},t.ga=function(){this.g&&Ns(this)};function Ns(a){a.readyState=4,a.l=null,a.j=null,a.v=null,Ps(a)}t.setRequestHeader=function(a,d){this.u.append(a,d)},t.getResponseHeader=function(a){return this.h&&this.h.get(a.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let a=[],d=this.h.entries();for(var h=d.next();!h.done;)h=h.value,a.push(h[0]+": "+h[1]),h=d.next();return a.join(`\r
`)};function Ps(a){a.onreadystatechange&&a.onreadystatechange.call(a)}Object.defineProperty(Ic.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(a){this.m=a?"include":"same-origin"}});function p_(a){let d="";return me(a,function(h,p){d+=p,d+=":",d+=h,d+=`\r
`}),d}function vh(a,d,h){e:{for(p in h){var p=!1;break e}p=!0}p||(h=p_(h),typeof a=="string"?h!=null&&encodeURIComponent(String(h)):Te(a,d,h))}function Se(a){nt.call(this),this.headers=new Map,this.o=a||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(Se,nt);var NS=/^https?$/i,PS=["POST","PUT"];t=Se.prototype,t.Ha=function(a){this.J=a},t.ea=function(a,d,h,p){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+a);d=d?d.toUpperCase():"GET",this.D=a,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():dh.g(),this.v=this.o?Hv(this.o):Hv(dh),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(d,String(a),!0),this.B=!1}catch(S){g_(this,S);return}if(a=h||"",h=new Map(this.headers),p)if(Object.getPrototypeOf(p)===Object.prototype)for(var D in p)h.set(D,p[D]);else if(typeof p.keys=="function"&&typeof p.get=="function")for(let S of p.keys())h.set(S,p.get(S));else throw Error("Unknown input type for opt_headers: "+String(p));p=Array.from(h.keys()).find(S=>S.toLowerCase()=="content-type"),D=c.FormData&&a instanceof c.FormData,!(0<=Array.prototype.indexOf.call(PS,d,void 0))||p||D||h.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[S,k]of h)this.g.setRequestHeader(S,k);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{v_(this),this.u=!0,this.g.send(a),this.u=!1}catch(S){g_(this,S)}};function g_(a,d){a.h=!1,a.g&&(a.j=!0,a.g.abort(),a.j=!1),a.l=d,a.m=5,m_(a),Ec(a)}function m_(a){a.A||(a.A=!0,ut(a,"complete"),ut(a,"error"))}t.abort=function(a){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=a||7,ut(this,"complete"),ut(this,"abort"),Ec(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ec(this,!0)),Se.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?y_(this):this.bb())},t.bb=function(){y_(this)};function y_(a){if(a.h&&typeof s<"u"&&(!a.v[1]||bn(a)!=4||a.Z()!=2)){if(a.u&&bn(a)==4)jv(a.Ea,0,a);else if(ut(a,"readystatechange"),bn(a)==4){a.h=!1;try{let k=a.Z();e:switch(k){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var d=!0;break e;default:d=!1}var h;if(!(h=d)){var p;if(p=k===0){var D=String(a.D).match(a_)[1]||null;!D&&c.self&&c.self.location&&(D=c.self.location.protocol.slice(0,-1)),p=!NS.test(D?D.toLowerCase():"")}h=p}if(h)ut(a,"complete"),ut(a,"success");else{a.m=6;try{var S=2<bn(a)?a.g.statusText:""}catch{S=""}a.l=S+" ["+a.Z()+"]",m_(a)}}finally{Ec(a)}}}}function Ec(a,d){if(a.g){v_(a);let h=a.g,p=a.v[0]?()=>{}:null;a.g=null,a.v=null,d||ut(a,"ready");try{h.onreadystatechange=p}catch{}}}function v_(a){a.I&&(c.clearTimeout(a.I),a.I=null)}t.isActive=function(){return!!this.g};function bn(a){return a.g?a.g.readyState:0}t.Z=function(){try{return 2<bn(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(a){if(this.g){var d=this.g.responseText;return a&&d.indexOf(a)==0&&(d=d.substring(a.length)),dS(d)}};function __(a){try{if(!a.g)return null;if("response"in a.g)return a.g.response;switch(a.H){case"":case"text":return a.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in a.g)return a.g.mozResponseArrayBuffer}return null}catch{return null}}function OS(a){let d={};a=(a.g&&2<=bn(a)&&a.g.getAllResponseHeaders()||"").split(`\r
`);for(let p=0;p<a.length;p++){if(K(a[p]))continue;var h=C(a[p]);let D=h[0];if(h=h[1],typeof h!="string")continue;h=h.trim();let S=d[D]||[];d[D]=S,S.push(h)}b(d,function(p){return p.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Os(a,d,h){return h&&h.internalChannelParams&&h.internalChannelParams[a]||d}function w_(a){this.Aa=0,this.i=[],this.j=new Ts,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Os("failFast",!1,a),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Os("baseRetryDelayMs",5e3,a),this.cb=Os("retryDelaySeedMs",1e4,a),this.Wa=Os("forwardChannelMaxRetries",2,a),this.wa=Os("forwardChannelRequestTimeoutMs",2e4,a),this.pa=a&&a.xmlHttpFactory||void 0,this.Xa=a&&a.Tb||void 0,this.Ca=a&&a.useFetchStreams||!1,this.L=void 0,this.J=a&&a.supportsCrossDomainXhr||!1,this.K="",this.h=new t_(a&&a.concurrentRequestLimit),this.Da=new xS,this.P=a&&a.fastHandshake||!1,this.O=a&&a.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=a&&a.Rb||!1,a&&a.xa&&this.j.xa(),a&&a.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&a&&a.detectBufferingProxy||!1,this.ja=void 0,a&&a.longPollingTimeout&&0<a.longPollingTimeout&&(this.ja=a.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=w_.prototype,t.la=8,t.G=1,t.connect=function(a,d,h,p){lt(0),this.W=a,this.H=d||{},h&&p!==void 0&&(this.H.OSID=h,this.H.OAID=p),this.F=this.X,this.I=M_(this,null,this.W),Cc(this)};function _h(a){if(I_(a),a.G==3){var d=a.U++,h=En(a.I);if(Te(h,"SID",a.K),Te(h,"RID",d),Te(h,"TYPE","terminate"),ks(a,h),d=new Xn(a,a.j,d),d.L=2,d.v=wc(En(h)),h=!1,c.navigator&&c.navigator.sendBeacon)try{h=c.navigator.sendBeacon(d.v.toString(),"")}catch{}!h&&c.Image&&(new Image().src=d.v,h=!0),h||(d.g=x_(d.j,null),d.g.ea(d.v)),d.F=Date.now(),yc(d)}A_(a)}function bc(a){a.g&&(Ih(a),a.g.cancel(),a.g=null)}function I_(a){bc(a),a.u&&(c.clearTimeout(a.u),a.u=null),Dc(a),a.h.cancel(),a.s&&(typeof a.s=="number"&&c.clearTimeout(a.s),a.s=null)}function Cc(a){if(!n_(a.h)&&!a.s){a.s=!0;var d=a.Ga;vs||Pv(),_s||(vs(),_s=!0),Jd.add(d,a),a.B=0}}function kS(a,d){return r_(a.h)>=a.h.j-(a.s?1:0)?!1:a.s?(a.i=d.D.concat(a.i),!0):a.G==1||a.G==2||a.B>=(a.Va?0:a.Wa)?!1:(a.s=Ds(_(a.Ga,a,d),S_(a,a.B)),a.B++,!0)}t.Ga=function(a){if(this.s)if(this.s=null,this.G==1){if(!a){this.U=Math.floor(1e5*Math.random()),a=this.U++;let D=new Xn(this,this.j,a),S=this.o;if(this.S&&(S?(S=m(S),E(S,this.S)):S=this.S),this.m!==null||this.O||(D.H=S,S=null),this.P)e:{for(var d=0,h=0;h<this.i.length;h++){t:{var p=this.i[h];if("__data__"in p.map&&(p=p.map.__data__,typeof p=="string")){p=p.length;break t}p=void 0}if(p===void 0)break;if(d+=p,4096<d){d=h;break e}if(d===4096||h===this.i.length-1){d=h+1;break e}}d=1e3}else d=1e3;d=b_(this,D,d),h=En(this.I),Te(h,"RID",a),Te(h,"CVER",22),this.D&&Te(h,"X-HTTP-Session-Id",this.D),ks(this,h),S&&(this.O?d="headers="+encodeURIComponent(String(p_(S)))+"&"+d:this.m&&vh(h,this.m,S)),yh(this.h,D),this.Ua&&Te(h,"TYPE","init"),this.P?(Te(h,"$req",d),Te(h,"SID","null"),D.T=!0,fh(D,h,null)):fh(D,h,d),this.G=2}}else this.G==3&&(a?E_(this,a):this.i.length==0||n_(this.h)||E_(this))};function E_(a,d){var h;d?h=d.l:h=a.U++;let p=En(a.I);Te(p,"SID",a.K),Te(p,"RID",h),Te(p,"AID",a.T),ks(a,p),a.m&&a.o&&vh(p,a.m,a.o),h=new Xn(a,a.j,h,a.B+1),a.m===null&&(h.H=a.o),d&&(a.i=d.D.concat(a.i)),d=b_(a,h,1e3),h.I=Math.round(.5*a.wa)+Math.round(.5*a.wa*Math.random()),yh(a.h,h),fh(h,p,d)}function ks(a,d){a.H&&me(a.H,function(h,p){Te(d,p,h)}),a.l&&s_({},function(h,p){Te(d,p,h)})}function b_(a,d,h){h=Math.min(a.i.length,h);var p=a.l?_(a.l.Na,a.l,a):null;e:{var D=a.i;let S=-1;for(;;){let k=["count="+h];S==-1?0<h?(S=D[0].g,k.push("ofs="+S)):S=0:k.push("ofs="+S);let Ie=!0;for(let Je=0;Je<h;Je++){let ye=D[Je].g,rt=D[Je].map;if(ye-=S,0>ye)S=Math.max(0,D[Je].g-100),Ie=!1;else try{RS(rt,k,"req"+ye+"_")}catch{p&&p(rt)}}if(Ie){p=k.join("&");break e}}}return a=a.i.splice(0,h),d.D=a,p}function C_(a){if(!a.g&&!a.u){a.Y=1;var d=a.Fa;vs||Pv(),_s||(vs(),_s=!0),Jd.add(d,a),a.v=0}}function wh(a){return a.g||a.u||3<=a.v?!1:(a.Y++,a.u=Ds(_(a.Fa,a),S_(a,a.v)),a.v++,!0)}t.Fa=function(){if(this.u=null,D_(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var a=2*this.R;this.j.info("BP detection timer enabled: "+a),this.A=Ds(_(this.ab,this),a)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,lt(10),bc(this),D_(this))};function Ih(a){a.A!=null&&(c.clearTimeout(a.A),a.A=null)}function D_(a){a.g=new Xn(a,a.j,"rpc",a.Y),a.m===null&&(a.g.H=a.o),a.g.O=0;var d=En(a.qa);Te(d,"RID","rpc"),Te(d,"SID",a.K),Te(d,"AID",a.T),Te(d,"CI",a.F?"0":"1"),!a.F&&a.ja&&Te(d,"TO",a.ja),Te(d,"TYPE","xmlhttp"),ks(a,d),a.m&&a.o&&vh(d,a.m,a.o),a.L&&(a.g.I=a.L);var h=a.g;a=a.ia,h.L=1,h.v=wc(En(d)),h.m=null,h.P=!0,Jv(h,a)}t.Za=function(){this.C!=null&&(this.C=null,bc(this),wh(this),lt(19))};function Dc(a){a.C!=null&&(c.clearTimeout(a.C),a.C=null)}function T_(a,d){var h=null;if(a.g==d){Dc(a),Ih(a),a.g=null;var p=2}else if(mh(a.h,d))h=d.D,i_(a.h,d),p=1;else return;if(a.G!=0){if(d.o)if(p==1){h=d.m?d.m.length:0,d=Date.now()-d.F;var D=a.B;p=pc(),ut(p,new Kv(p,h)),Cc(a)}else C_(a);else if(D=d.s,D==3||D==0&&0<d.X||!(p==1&&kS(a,d)||p==2&&wh(a)))switch(h&&0<h.length&&(d=a.h,d.i=d.i.concat(h)),D){case 1:jr(a,5);break;case 4:jr(a,10);break;case 3:jr(a,6);break;default:jr(a,2)}}}function S_(a,d){let h=a.Ta+Math.floor(Math.random()*a.cb);return a.isActive()||(h*=2),h*d}function jr(a,d){if(a.j.info("Error code "+d),d==2){var h=_(a.fb,a),p=a.Xa;let D=!p;p=new Vr(p||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||vc(p,"https"),wc(p),D?AS(p.toString(),h):MS(p.toString(),h)}else lt(2);a.G=0,a.l&&a.l.sa(d),A_(a),I_(a)}t.fb=function(a){a?(this.j.info("Successfully pinged google.com"),lt(2)):(this.j.info("Failed to ping google.com"),lt(1))};function A_(a){if(a.G=0,a.ka=[],a.l){let d=o_(a.h);(d.length!=0||a.i.length!=0)&&(P(a.ka,d),P(a.ka,a.i),a.h.i.length=0,O(a.i),a.i.length=0),a.l.ra()}}function M_(a,d,h){var p=h instanceof Vr?En(h):new Vr(h);if(p.g!="")d&&(p.g=d+"."+p.g),_c(p,p.s);else{var D=c.location;p=D.protocol,d=d?d+"."+D.hostname:D.hostname,D=+D.port;var S=new Vr(null);p&&vc(S,p),d&&(S.g=d),D&&_c(S,D),h&&(S.l=h),p=S}return h=a.D,d=a.ya,h&&d&&Te(p,h,d),Te(p,"VER",a.la),ks(a,p),p}function x_(a,d,h){if(d&&!a.J)throw Error("Can't create secondary domain capable XhrIo object.");return d=a.Ca&&!a.pa?new Se(new Rs({eb:h})):new Se(a.pa),d.Ha(a.J),d}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function R_(){}t=R_.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Tc(){}Tc.prototype.g=function(a,d){return new It(a,d)};function It(a,d){nt.call(this),this.g=new w_(d),this.l=a,this.h=d&&d.messageUrlParams||null,a=d&&d.messageHeaders||null,d&&d.clientProtocolHeaderRequired&&(a?a["X-Client-Protocol"]="webchannel":a={"X-Client-Protocol":"webchannel"}),this.g.o=a,a=d&&d.initMessageHeaders||null,d&&d.messageContentType&&(a?a["X-WebChannel-Content-Type"]=d.messageContentType:a={"X-WebChannel-Content-Type":d.messageContentType}),d&&d.va&&(a?a["X-WebChannel-Client-Profile"]=d.va:a={"X-WebChannel-Client-Profile":d.va}),this.g.S=a,(a=d&&d.Sb)&&!K(a)&&(this.g.m=a),this.v=d&&d.supportsCrossDomainXhr||!1,this.u=d&&d.sendRawJson||!1,(d=d&&d.httpSessionIdParam)&&!K(d)&&(this.g.D=d,a=this.h,a!==null&&d in a&&(a=this.h,d in a&&delete a[d])),this.j=new ji(this)}A(It,nt),It.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},It.prototype.close=function(){_h(this.g)},It.prototype.o=function(a){var d=this.g;if(typeof a=="string"){var h={};h.__data__=a,a=h}else this.u&&(h={},h.__data__=ah(a),a=h);d.i.push(new vS(d.Ya++,a)),d.G==3&&Cc(d)},It.prototype.N=function(){this.g.l=null,delete this.j,_h(this.g),delete this.g,It.aa.N.call(this)};function N_(a){uh.call(this),a.__headers__&&(this.headers=a.__headers__,this.statusCode=a.__status__,delete a.__headers__,delete a.__status__);var d=a.__sm__;if(d){e:{for(let h in d){a=h;break e}a=void 0}(this.i=a)&&(a=this.i,d=d!==null&&a in d?d[a]:void 0),this.data=d}else this.data=a}A(N_,uh);function P_(){lh.call(this),this.status=1}A(P_,lh);function ji(a){this.g=a}A(ji,R_),ji.prototype.ua=function(){ut(this.g,"a")},ji.prototype.ta=function(a){ut(this.g,new N_(a))},ji.prototype.sa=function(a){ut(this.g,new P_)},ji.prototype.ra=function(){ut(this.g,"b")},Tc.prototype.createWebChannel=Tc.prototype.g,It.prototype.send=It.prototype.o,It.prototype.open=It.prototype.m,It.prototype.close=It.prototype.close,ey=Gn.createWebChannelTransport=function(){return new Tc},Xm=Gn.getStatEventTarget=function(){return pc()},Jm=Gn.Event=Fr,ld=Gn.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},gc.NO_ERROR=0,gc.TIMEOUT=8,gc.HTTP_ERROR=6,Za=Gn.ErrorCode=gc,Qv.COMPLETE="complete",Zm=Gn.EventType=Qv,zv.EventType=bs,bs.OPEN="a",bs.CLOSE="b",bs.ERROR="c",bs.MESSAGE="d",nt.prototype.listen=nt.prototype.K,Jo=Gn.WebChannel=zv,Ym=Gn.FetchXmlHttpFactory=Rs,Se.prototype.listenOnce=Se.prototype.L,Se.prototype.getLastError=Se.prototype.Ka,Se.prototype.getLastErrorCode=Se.prototype.Ba,Se.prototype.getStatus=Se.prototype.Z,Se.prototype.getResponseJson=Se.prototype.Oa,Se.prototype.getResponseText=Se.prototype.oa,Se.prototype.send=Se.prototype.ea,Se.prototype.setWithCredentials=Se.prototype.Ha,Qm=Gn.XhrIo=Se}).apply(typeof ud<"u"?ud:typeof self<"u"?self:typeof window<"u"?window:{});var OD="@firebase/firestore";var Qe=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Qe.UNAUTHENTICATED=new Qe(null),Qe.GOOGLE_CREDENTIALS=new Qe("google-credentials-uid"),Qe.FIRST_PARTY=new Qe("first-party-uid"),Qe.MOCK_USER=new Qe("mock-user");var ms="10.13.2";var Ri=new br("@firebase/firestore");function Ja(){return Ri.logLevel}function U(t,...e){if(Ri.logLevel<=ue.DEBUG){let n=e.map(Ev);Ri.debug(`Firestore (${ms}): ${t}`,...n)}}function Ni(t,...e){if(Ri.logLevel<=ue.ERROR){let n=e.map(Ev);Ri.error(`Firestore (${ms}): ${t}`,...n)}}function md(t,...e){if(Ri.logLevel<=ue.WARN){let n=e.map(Ev);Ri.warn(`Firestore (${ms}): ${t}`,...n)}}function Ev(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function le(t="Unexpected state"){let e=`FIRESTORE (${ms}) INTERNAL ASSERTION FAILED: `+t;throw Ni(e),new Error(e)}function ze(t,e){t||le()}function De(t,e){return t}var R={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},z=class extends Rt{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Wn=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var yd=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},iy=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Qe.UNAUTHENTICATED))}shutdown(){}},oy=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},sy=class{constructor(e){this.t=e,this.currentUser=Qe.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Wn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Wn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>I(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},c=u=>{U("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?c(u):(U("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Wn)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(U("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string"),new yd(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){let e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string"),new Qe(e)}},ay=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Qe.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},cy=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new ay(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Qe.FIRST_PARTY))}shutdown(){}invalidateToken(){}},uy=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},ly=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){let r=o=>{o.error!=null&&U("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,U("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{U("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):U("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ze(typeof n.token=="string"),this.R=n.token,new uy(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};function p2(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var vd=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=p2(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function be(t,e){return t<e?-1:t>e?1:0}function ns(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var ct=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new z(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new z(R.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new z(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new z(R.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?be(this.nanoseconds,e.nanoseconds):be(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var Re=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new ct(0,0))}static max(){return new t(new ct(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var _d=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&le(),r===void 0?r=e.length-n:r>e.length-n&&le(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},Le=class t extends _d{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new z(R.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},g2=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Nt=class t extends _d{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return g2.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new z(R.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let c=e[i];if(c==="\\"){if(i+1===e.length)throw new z(R.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new z(R.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else c==="`"?(s=!s,i++):c!=="."||s?(r+=c,i++):(o(),i++)}if(o(),s)throw new z(R.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var ie=class t{constructor(e){this.path=e}static fromPath(e){return new t(Le.fromString(e))}static fromName(e){return new t(Le.fromString(e).popFirst(5))}static empty(){return new t(Le.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Le.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Le.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new Le(e.slice()))}};var dy=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};dy.UNKNOWN_ID=-1;function m2(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=Re.fromTimestamp(r===1e9?new ct(n+1,0):new ct(n,r));return new Pi(i,ie.empty(),e)}function y2(t){return new Pi(t.readTime,t.key,-1)}var Pi=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(Re.min(),ie.empty(),-1)}static max(){return new t(Re.max(),ie.empty(),-1)}};function v2(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ie.comparator(t.documentKey,e.documentKey),n!==0?n:be(t.largestBatchId,e.largestBatchId))}var _2="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",hy=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function nT(t){return I(this,null,function*(){if(t.code!==R.FAILED_PRECONDITION||t.message!==_2)throw t;U("LocalStore","Unexpectedly lost primary lease")})}var N=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&le(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(c=>{++i,c.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),c=0;for(let u=0;u<o;u++){let l=u;n(e[l]).next(f=>{s[l]=f,++c,c===o&&r(s)},f=>i(f))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function w2(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Vd(t){return t.name==="IndexedDbTransactionError"}var I2=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function bv(t){return t==null}function ic(t){return t===0&&1/t==-1/0}function E2(t){return typeof t=="number"&&Number.isInteger(t)&&!ic(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var b2=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],g9=[...b2,"documentOverlays"],C2=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],D2=C2,T2=[...D2,"indexConfiguration","indexState","indexEntries"];var m9=[...T2,"globals"];function kD(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function cc(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function rT(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Pt=class t{constructor(e,n){this.comparator=e,this.root=n||_n.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,_n.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,_n.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new es(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new es(this.root,e,this.comparator,!1)}getReverseIterator(){return new es(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new es(this.root,e,this.comparator,!0)}},es=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},_n=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw le();let e=this.left.check();if(e!==this.right.check())throw le();return e+(this.isRed()?0:1)}};_n.EMPTY=null,_n.RED=!0,_n.BLACK=!1;_n.EMPTY=new class{constructor(){this.size=0}get key(){throw le()}get value(){throw le()}get color(){throw le()}get left(){throw le()}get right(){throw le()}copy(e,n,r,i,o){return this}insert(e,n,r){return new _n(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var yt=class t{constructor(e){this.comparator=e,this.data=new Pt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new wd(this.data.getIterator())}getIteratorFrom(e){return new wd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},wd=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var vn=class t{constructor(e){this.fields=e,e.sort(Nt.comparator)}static empty(){return new t([])}unionWith(e){let n=new yt(Nt.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return ns(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var fy=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Qn=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new fy("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return be(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Qn.EMPTY_BYTE_STRING=new Qn("");var S2=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Nr(t){if(ze(!!t),typeof t=="string"){let e=0,n=S2.exec(t);if(ze(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function rs(t){return typeof t=="string"?Qn.fromBase64String(t):Qn.fromUint8Array(t)}function Cv(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function iT(t){let e=t.mapValue.fields.__previous_value__;return Cv(e)?iT(e):e}function Id(t){let e=Nr(t.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}var py=class{constructor(e,n,r,i,o,s,c,u,l){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=c,this.longPollingOptions=u,this.useFetchStreams=l}},gy=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var dd={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Cv(t)?4:sT(t)?9007199254740991:oT(t)?10:11:le()}function wn(t,e){if(t===e)return!0;let n=is(t);if(n!==is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Id(t).isEqual(Id(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Nr(i.timestampValue),c=Nr(o.timestampValue);return s.seconds===c.seconds&&s.nanos===c.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return rs(i.bytesValue).isEqual(rs(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return Fe(i.geoPointValue.latitude)===Fe(o.geoPointValue.latitude)&&Fe(i.geoPointValue.longitude)===Fe(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return Fe(i.integerValue)===Fe(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=Fe(i.doubleValue),c=Fe(o.doubleValue);return s===c?ic(s)===ic(c):isNaN(s)&&isNaN(c)}return!1}(t,e);case 9:return ns(t.arrayValue.values||[],e.arrayValue.values||[],wn);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},c=o.mapValue.fields||{};if(kD(s)!==kD(c))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(c[u]===void 0||!wn(s[u],c[u])))return!1;return!0}(t,e);default:return le()}}function oc(t,e){return(t.values||[]).find(n=>wn(n,e))!==void 0}function os(t,e){if(t===e)return 0;let n=is(t),r=is(e);if(n!==r)return be(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return be(t.booleanValue,e.booleanValue);case 2:return function(o,s){let c=Fe(o.integerValue||o.doubleValue),u=Fe(s.integerValue||s.doubleValue);return c<u?-1:c>u?1:c===u?0:isNaN(c)?isNaN(u)?0:-1:1}(t,e);case 3:return FD(t.timestampValue,e.timestampValue);case 4:return FD(Id(t),Id(e));case 5:return be(t.stringValue,e.stringValue);case 6:return function(o,s){let c=rs(o),u=rs(s);return c.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let c=o.split("/"),u=s.split("/");for(let l=0;l<c.length&&l<u.length;l++){let f=be(c[l],u[l]);if(f!==0)return f}return be(c.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let c=be(Fe(o.latitude),Fe(s.latitude));return c!==0?c:be(Fe(o.longitude),Fe(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return LD(t.arrayValue,e.arrayValue);case 10:return function(o,s){var c,u,l,f;let g=o.fields||{},_=s.fields||{},w=(c=g.value)===null||c===void 0?void 0:c.arrayValue,A=(u=_.value)===null||u===void 0?void 0:u.arrayValue,O=be(((l=w?.values)===null||l===void 0?void 0:l.length)||0,((f=A?.values)===null||f===void 0?void 0:f.length)||0);return O!==0?O:LD(w,A)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===dd.mapValue&&s===dd.mapValue)return 0;if(o===dd.mapValue)return 1;if(s===dd.mapValue)return-1;let c=o.fields||{},u=Object.keys(c),l=s.fields||{},f=Object.keys(l);u.sort(),f.sort();for(let g=0;g<u.length&&g<f.length;++g){let _=be(u[g],f[g]);if(_!==0)return _;let w=os(c[u[g]],l[f[g]]);if(w!==0)return w}return be(u.length,f.length)}(t.mapValue,e.mapValue);default:throw le()}}function FD(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return be(t,e);let n=Nr(t),r=Nr(e),i=be(n.seconds,r.seconds);return i!==0?i:be(n.nanos,r.nanos)}function LD(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=os(n[i],r[i]);if(o)return o}return be(n.length,r.length)}function ss(t){return my(t)}function my(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Nr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return rs(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ie.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=my(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${my(n.fields[s])}`;return i+"}"}(t.mapValue):le()}function yy(t){return!!t&&"integerValue"in t}function Dv(t){return!!t&&"arrayValue"in t}function pd(t){return!!t&&"mapValue"in t}function oT(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function ec(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return cc(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=ec(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ec(t.arrayValue.values[n]);return e}return Object.assign({},t)}function sT(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var yn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!pd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ec(n)}setAll(e){let n=Nt.emptyPath(),r={},i=[];e.forEach((s,c)=>{if(!n.isImmediateParentOf(c)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=c.popLast()}s?r[c.lastSegment()]=ec(s):i.push(c.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());pd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return wn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];pd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){cc(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(ec(this.value))}};function aT(t){let e=[];return cc(t.fields,(n,r)=>{let i=new Nt([n]);if(pd(r)){let o=aT(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new vn(e)}var as=class t{constructor(e,n,r,i,o,s,c){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=c}static newInvalidDocument(e){return new t(e,0,Re.min(),Re.min(),Re.min(),yn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,Re.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,Re.min(),Re.min(),yn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,Re.min(),Re.min(),yn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Re.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Re.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var cs=class{constructor(e,n){this.position=e,this.inclusive=n}};function VD(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=ie.comparator(ie.fromName(s.referenceValue),n.key):r=os(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function jD(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!wn(t.position[n],e.position[n]))return!1;return!0}var us=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function A2(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var Ed=class{},Ye=class t extends Ed{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new _y(e,n,r):n==="array-contains"?new Ey(e,r):n==="in"?new by(e,r):n==="not-in"?new Cy(e,r):n==="array-contains-any"?new Dy(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new wy(e,r):new Iy(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(os(n,this.value)):n!==null&&is(this.value)===is(n)&&this.matchesComparison(os(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return le()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Pr=class t extends Ed{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return cT(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function cT(t){return t.op==="and"}function uT(t){return M2(t)&&cT(t)}function M2(t){for(let e of t.filters)if(e instanceof Pr)return!1;return!0}function vy(t){if(t instanceof Ye)return t.field.canonicalString()+t.op.toString()+ss(t.value);if(uT(t))return t.filters.map(e=>vy(e)).join(",");{let e=t.filters.map(n=>vy(n)).join(",");return`${t.op}(${e})`}}function lT(t,e){return t instanceof Ye?function(r,i){return i instanceof Ye&&r.op===i.op&&r.field.isEqual(i.field)&&wn(r.value,i.value)}(t,e):t instanceof Pr?function(r,i){return i instanceof Pr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,c)=>o&&lT(s,i.filters[c]),!0):!1}(t,e):void le()}function dT(t){return t instanceof Ye?function(n){return`${n.field.canonicalString()} ${n.op} ${ss(n.value)}`}(t):t instanceof Pr?function(n){return n.op.toString()+" {"+n.getFilters().map(dT).join(" ,")+"}"}(t):"Filter"}var _y=class extends Ye{constructor(e,n,r){super(e,n,r),this.key=ie.fromName(r.referenceValue)}matches(e){let n=ie.comparator(e.key,this.key);return this.matchesComparison(n)}},wy=class extends Ye{constructor(e,n){super(e,"in",n),this.keys=hT("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},Iy=class extends Ye{constructor(e,n){super(e,"not-in",n),this.keys=hT("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function hT(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>ie.fromName(r.referenceValue))}var Ey=class extends Ye{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return Dv(n)&&oc(n.arrayValue,this.value)}},by=class extends Ye{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&oc(this.value.arrayValue,n)}},Cy=class extends Ye{constructor(e,n){super(e,"not-in",n)}matches(e){if(oc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!oc(this.value.arrayValue,n)}},Dy=class extends Ye{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!Dv(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>oc(this.value.arrayValue,r))}};var Ty=class{constructor(e,n=null,r=[],i=[],o=null,s=null,c=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=c,this.ue=null}};function UD(t,e=null,n=[],r=[],i=null,o=null,s=null){return new Ty(t,e,n,r,i,o,s)}function Tv(t){let e=De(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>vy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),bv(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ss(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ss(r)).join(",")),e.ue=n}return e.ue}function Sv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!A2(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lT(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!jD(t.startAt,e.startAt)&&jD(t.endAt,e.endAt)}var ls=class{constructor(e,n=null,r=[],i=[],o=null,s="F",c=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=c,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function x2(t,e,n,r,i,o,s,c){return new ls(t,e,n,r,i,o,s,c)}function R2(t){return new ls(t)}function BD(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function N2(t){return t.collectionGroup!==null}function tc(t){let e=De(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let c=new yt(Nt.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(l=>{l.isInequality()&&(c=c.add(l.field))})}),c})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new us(o,r))}),n.has(Nt.keyField().canonicalString())||e.ce.push(new us(Nt.keyField(),r))}return e.ce}function Mi(t){let e=De(t);return e.le||(e.le=P2(e,tc(t))),e.le}function P2(t,e){if(t.limitType==="F")return UD(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new us(i.field,o)});let n=t.endAt?new cs(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new cs(t.startAt.position,t.startAt.inclusive):null;return UD(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Sy(t,e,n){return new ls(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function fT(t,e){return Sv(Mi(t),Mi(e))&&t.limitType===e.limitType}function pT(t){return`${Tv(Mi(t))}|lt:${t.limitType}`}function Xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>dT(i)).join(", ")}]`),bv(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>ss(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>ss(i)).join(",")),`Target(${r})`}(Mi(t))}; limitType=${t.limitType})`}function Av(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):ie.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of tc(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,c,u){let l=VD(s,c,u);return s.inclusive?l<=0:l<0}(r.startAt,tc(r),i)||r.endAt&&!function(s,c,u){let l=VD(s,c,u);return s.inclusive?l>=0:l>0}(r.endAt,tc(r),i))}(t,e)}function O2(t){return(e,n)=>{let r=!1;for(let i of tc(t)){let o=k2(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function k2(t,e,n){let r=t.field.isKeyField()?ie.comparator(e.key,n.key):function(o,s,c){let u=s.data.field(o),l=c.data.field(o);return u!==null&&l!==null?os(u,l):le()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return le()}}var Or=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){cc(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return rT(this.inner)}size(){return this.innerSize}};var F2=new Pt(ie.comparator);function bd(){return F2}var gT=new Pt(ie.comparator);function hd(...t){let e=gT;for(let n of t)e=e.insert(n.key,n);return e}function mT(t){let e=gT;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ai(){return nc()}function yT(){return nc()}function nc(){return new Or(t=>t.toString(),(t,e)=>t.isEqual(e))}var L2=new Pt(ie.comparator),V2=new yt(ie.comparator);function at(...t){let e=V2;for(let n of t)e=e.add(n);return e}var j2=new yt(be);function U2(){return j2}function Mv(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ic(e)?"-0":e}}function vT(t){return{integerValue:""+t}}function B2(t,e){return E2(e)?vT(e):Mv(t,e)}var ds=class{constructor(){this._=void 0}};function $2(t,e,n){return t instanceof hs?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&Cv(o)&&(o=iT(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof Oi?wT(t,e):t instanceof ki?IT(t,e):function(i,o){let s=_T(i,o),c=$D(s)+$D(i.Pe);return yy(s)&&yy(i.Pe)?vT(c):Mv(i.serializer,c)}(t,e)}function H2(t,e,n){return t instanceof Oi?wT(t,e):t instanceof ki?IT(t,e):n}function _T(t,e){return t instanceof fs?function(r){return yy(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var hs=class extends ds{},Oi=class extends ds{constructor(e){super(),this.elements=e}};function wT(t,e){let n=ET(e);for(let r of t.elements)n.some(i=>wn(i,r))||n.push(r);return{arrayValue:{values:n}}}var ki=class extends ds{constructor(e){super(),this.elements=e}};function IT(t,e){let n=ET(e);for(let r of t.elements)n=n.filter(i=>!wn(i,r));return{arrayValue:{values:n}}}var fs=class extends ds{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function $D(t){return Fe(t.integerValue||t.doubleValue)}function ET(t){return Dv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function z2(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof Oi&&i instanceof Oi||r instanceof ki&&i instanceof ki?ns(r.elements,i.elements,wn):r instanceof fs&&i instanceof fs?wn(r.Pe,i.Pe):r instanceof hs&&i instanceof hs}(t.transform,e.transform)}var Ay=class{constructor(e,n){this.version=e,this.transformResults=n}},xi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function gd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ps=class{};function bT(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Cd(t.key,xi.none()):new Fi(t.key,t.data,xi.none());{let n=t.data,r=yn.empty(),i=new yt(Nt.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new Yn(t.key,r,new vn(i.toArray()),xi.none())}}function q2(t,e,n){t instanceof Fi?function(i,o,s){let c=i.value.clone(),u=zD(i.fieldTransforms,o,s.transformResults);c.setAll(u),o.convertToFoundDocument(s.version,c).setHasCommittedMutations()}(t,e,n):t instanceof Yn?function(i,o,s){if(!gd(i.precondition,o))return void o.convertToUnknownDocument(s.version);let c=zD(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(CT(i)),u.setAll(c),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function rc(t,e,n,r){return t instanceof Fi?function(o,s,c,u){if(!gd(o.precondition,s))return c;let l=o.value.clone(),f=qD(o.fieldTransforms,u,s);return l.setAll(f),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yn?function(o,s,c,u){if(!gd(o.precondition,s))return c;let l=qD(o.fieldTransforms,u,s),f=s.data;return f.setAll(CT(o)),f.setAll(l),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),c===null?null:c.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,s,c){return gd(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):c}(t,e,n)}function G2(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=_T(r.transform,i||null);o!=null&&(n===null&&(n=yn.empty()),n.set(r.field,o))}return n||null}function HD(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ns(r,i,(o,s)=>z2(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var Fi=class extends ps{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},Yn=class extends ps{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function CT(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function zD(t,e,n){let r=new Map;ze(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,c=e.data.field(o.field);r.set(o.field,H2(s,c,n[i]))}return r}function qD(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,$2(o,s,e))}return r}var Cd=class extends ps{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},My=class extends ps{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var xy=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&q2(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=rc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=yT();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,c=this.applyToLocalView(s,o.mutatedFields);c=n.has(i.key)?null:c;let u=bT(s,c);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(Re.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),at())}isEqual(e){return this.batchId===e.batchId&&ns(this.mutations,e.mutations,(n,r)=>HD(n,r))&&ns(this.baseMutations,e.baseMutations,(n,r)=>HD(n,r))}},Ry=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ze(e.mutations.length===r.length);let i=function(){return L2}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var Ny=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var Oe,fe;function W2(t){switch(t){default:return le();case R.CANCELLED:case R.UNKNOWN:case R.DEADLINE_EXCEEDED:case R.RESOURCE_EXHAUSTED:case R.INTERNAL:case R.UNAVAILABLE:case R.UNAUTHENTICATED:return!1;case R.INVALID_ARGUMENT:case R.NOT_FOUND:case R.ALREADY_EXISTS:case R.PERMISSION_DENIED:case R.FAILED_PRECONDITION:case R.ABORTED:case R.OUT_OF_RANGE:case R.UNIMPLEMENTED:case R.DATA_LOSS:return!0}}function K2(t){if(t===void 0)return Ni("GRPC error has no .code"),R.UNKNOWN;switch(t){case Oe.OK:return R.OK;case Oe.CANCELLED:return R.CANCELLED;case Oe.UNKNOWN:return R.UNKNOWN;case Oe.DEADLINE_EXCEEDED:return R.DEADLINE_EXCEEDED;case Oe.RESOURCE_EXHAUSTED:return R.RESOURCE_EXHAUSTED;case Oe.INTERNAL:return R.INTERNAL;case Oe.UNAVAILABLE:return R.UNAVAILABLE;case Oe.UNAUTHENTICATED:return R.UNAUTHENTICATED;case Oe.INVALID_ARGUMENT:return R.INVALID_ARGUMENT;case Oe.NOT_FOUND:return R.NOT_FOUND;case Oe.ALREADY_EXISTS:return R.ALREADY_EXISTS;case Oe.PERMISSION_DENIED:return R.PERMISSION_DENIED;case Oe.FAILED_PRECONDITION:return R.FAILED_PRECONDITION;case Oe.ABORTED:return R.ABORTED;case Oe.OUT_OF_RANGE:return R.OUT_OF_RANGE;case Oe.UNIMPLEMENTED:return R.UNIMPLEMENTED;case Oe.DATA_LOSS:return R.DATA_LOSS;default:return le()}}(fe=Oe||(Oe={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";var v9=new Km([4294967295,4294967295],0);var Py=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function Oy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Q2(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Y2(t,e){return Oy(t,e.toTimestamp())}function ts(t){return ze(!!t),Re.fromTimestamp(function(n){let r=Nr(n);return new ct(r.seconds,r.nanos)}(t))}function DT(t,e){return ky(t,e).canonicalString()}function ky(t,e){let n=function(i){return new Le(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Z2(t){let e=Le.fromString(t);return ze(oj(e)),e}function Fy(t,e){return DT(t.databaseId,e.path)}function J2(t){let e=Z2(t);return e.length===4?Le.emptyPath():ej(e)}function X2(t){return new Le(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ej(t){return ze(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function GD(t,e,n){return{name:Fy(t,e),fields:n.value.mapValue.fields}}function tj(t,e){let n;if(e instanceof Fi)n={update:GD(t,e.key,e.value)};else if(e instanceof Cd)n={delete:Fy(t,e.key)};else if(e instanceof Yn)n={update:GD(t,e.key,e.data),updateMask:ij(e.fieldMask)};else{if(!(e instanceof My))return le();n={verify:Fy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let c=s.transform;if(c instanceof hs)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Oi)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ki)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof fs)return{fieldPath:s.field.canonicalString(),increment:c.Pe};throw le()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Y2(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:le()}(t,e.precondition)),n}function nj(t,e){return t&&t.length>0?(ze(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?ts(i.updateTime):ts(o);return s.isEqual(Re.min())&&(s=ts(o)),new Ay(s,i.transformResults||[])}(n,e))):[]}function rj(t){let e=J2(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ze(r===1);let f=n.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let o=[];n.where&&(o=function(g){let _=TT(g);return _ instanceof Pr&&uT(_)?_.getFilters():[_]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(_=>function(A){return new us(Xo(A.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction))}(_))}(n.orderBy));let c=null;n.limit&&(c=function(g){let _;return _=typeof g=="object"?g.value:g,bv(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,w=g.values||[];return new cs(w,_)}(n.startAt));let l=null;return n.endAt&&(l=function(g){let _=!g.before,w=g.values||[];return new cs(w,_)}(n.endAt)),x2(e,i,s,o,c,"F",u,l)}function TT(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Xo(n.unaryFilter.field);return Ye.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Xo(n.unaryFilter.field);return Ye.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Xo(n.unaryFilter.field);return Ye.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Xo(n.unaryFilter.field);return Ye.create(s,"!=",{nullValue:"NULL_VALUE"});default:return le()}}(t):t.fieldFilter!==void 0?function(n){return Ye.create(Xo(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return le()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Pr.create(n.compositeFilter.filters.map(r=>TT(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return le()}}(n.compositeFilter.op))}(t):le()}function Xo(t){return Nt.fromServerFormat(t.fieldPath)}function ij(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function oj(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Ly=class{constructor(e){this.ct=e}};function sj(t){let e=rj({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Sy(e,e.limit,"L"):e}var Dd=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(Fe(e.integerValue));else if("doubleValue"in e){let r=Fe(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),ic(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Nr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(rs(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?sT(e)?this.dt(n,Number.MAX_SAFE_INTEGER):oT(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):le()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",c=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(Fe(c)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),ie.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Dd.vt=new Dd;var Vy=class{constructor(){this.un=new jy}addToCollectionParentIndex(e,n){return this.un.add(n),N.resolve()}getCollectionParents(e,n){return N.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return N.resolve()}deleteFieldIndex(e,n){return N.resolve()}deleteAllFieldIndexes(e){return N.resolve()}createTargetIndexes(e,n){return N.resolve()}getDocumentsMatchingTarget(e,n){return N.resolve(null)}getIndexType(e,n){return N.resolve(0)}getFieldIndexes(e,n){return N.resolve([])}getNextCollectionGroupToUpdate(e){return N.resolve(null)}getMinOffset(e,n){return N.resolve(Pi.min())}getMinOffsetFromCollectionGroup(e,n){return N.resolve(Pi.min())}updateCollectionGroup(e,n,r){return N.resolve()}updateIndexEntries(e,n){return N.resolve()}},jy=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new yt(Le.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new yt(Le.comparator)).toArray()}};var _9=new Uint8Array(0);var mn=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};mn.DEFAULT_COLLECTION_PERCENTILE=10,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,mn.DEFAULT=new mn(41943040,mn.DEFAULT_COLLECTION_PERCENTILE,mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),mn.DISABLED=new mn(-1,0,0);var sc=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Uy=class{constructor(){this.changes=new Or(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,as.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?N.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var By=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var $y=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&rc(r.mutation,i,vn.empty(),ct.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,at()).next(()=>r))}getLocalViewOfDocuments(e,n,r=at()){let i=Ai();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=hd();return o.forEach((c,u)=>{s=s.insert(c,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=Ai();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,at()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,c)=>{n.set(s,c)})})}computeViews(e,n,r,i){let o=bd(),s=nc(),c=function(){return nc()}();return n.forEach((u,l)=>{let f=r.get(l.key);i.has(l.key)&&(f===void 0||f.mutation instanceof Yn)?o=o.insert(l.key,l):f!==void 0?(s.set(l.key,f.mutation.getFieldMask()),rc(f.mutation,l,f.mutation.getFieldMask(),ct.now())):s.set(l.key,vn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((l,f)=>s.set(l,f)),n.forEach((l,f)=>{var g;return c.set(l,new By(f,(g=s.get(l))!==null&&g!==void 0?g:null))}),c))}recalculateAndSaveOverlays(e,n){let r=nc(),i=new Pt((s,c)=>s-c),o=at();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let c of s)c.keys().forEach(u=>{let l=n.get(u);if(l===null)return;let f=r.get(u)||vn.empty();f=c.applyToLocalView(l,f),r.set(u,f);let g=(i.get(c.batchId)||at()).add(u);i=i.insert(c.batchId,g)})}).next(()=>{let s=[],c=i.getReverseIterator();for(;c.hasNext();){let u=c.getNext(),l=u.key,f=u.value,g=yT();f.forEach(_=>{if(!o.has(_)){let w=bT(n.get(_),r.get(_));w!==null&&g.set(_,w),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,l,g))}return N.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return ie.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):N2(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):N.resolve(Ai()),c=-1,u=o;return s.next(l=>N.forEach(l,(f,g)=>(c<g.largestBatchId&&(c=g.largestBatchId),o.get(f)?N.resolve():this.remoteDocumentCache.getEntry(e,f).next(_=>{u=u.insert(f,_)}))).next(()=>this.populateOverlays(e,l,o)).next(()=>this.computeViews(e,u,l,at())).next(f=>({batchId:c,changes:mT(f)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ie(n)).next(r=>{let i=hd();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=hd();return this.indexManager.getCollectionParents(e,o).next(c=>N.forEach(c,u=>{let l=function(g,_){return new ls(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,l,r,i).next(f=>{f.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,l)=>{let f=l.getKey();s.get(f)===null&&(s=s.insert(f,as.newInvalidDocument(f)))});let c=hd();return s.forEach((u,l)=>{let f=o.get(u);f!==void 0&&rc(f.mutation,l,vn.empty(),ct.now()),Av(n,l)&&(c=c.insert(u,l))}),c})}};var Hy=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return N.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:ts(i.createTime)}}(n)),N.resolve()}getNamedQuery(e,n){return N.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:sj(i.bundledQuery),readTime:ts(i.readTime)}}(n)),N.resolve()}};var zy=class{constructor(){this.overlays=new Pt(ie.comparator),this.Ir=new Map}getOverlay(e,n){return N.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ai();return N.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),N.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),N.resolve()}getOverlaysForCollection(e,n,r){let i=Ai(),o=n.length+1,s=new ie(n.child("")),c=this.overlays.getIteratorFrom(s);for(;c.hasNext();){let u=c.getNext().value,l=u.getKey();if(!n.isPrefixOf(l.path))break;l.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return N.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Pt((l,f)=>l-f),s=this.overlays.getIterator();for(;s.hasNext();){let l=s.getNext().value;if(l.getKey().getCollectionGroup()===n&&l.largestBatchId>r){let f=o.get(l.largestBatchId);f===null&&(f=Ai(),o=o.insert(l.largestBatchId,f)),f.set(l.getKey(),l)}}let c=Ai(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((l,f)=>c.set(l,f)),!(c.size()>=i)););return N.resolve(c)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new Ny(n,r));let o=this.Ir.get(n);o===void 0&&(o=at(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var qy=class{constructor(){this.sessionToken=Qn.EMPTY_BYTE_STRING}getSessionToken(e){return N.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,N.resolve()}};var ac=class{constructor(){this.Tr=new yt(ke.Er),this.dr=new yt(ke.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new ke(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new ke(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new ie(new Le([])),r=new ke(n,e),i=new ke(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new ie(new Le([])),r=new ke(n,e),i=new ke(n,e+1),o=at();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new ke(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},ke=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return ie.comparator(e.key,n.key)||be(e.wr,n.wr)}static Ar(e,n){return be(e.wr,n.wr)||ie.comparator(e.key,n.key)}};var Gy=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new yt(ke.Er)}checkEmpty(e){return N.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new xy(o,n,r,i);this.mutationQueue.push(s);for(let c of i)this.br=this.br.add(new ke(c.key,o)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return N.resolve(s)}lookupMutationBatch(e,n){return N.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return N.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return N.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return N.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new ke(n,0),i=new ke(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let c=this.Dr(s.wr);o.push(c)}),N.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new yt(be);return n.forEach(i=>{let o=new ke(i,0),s=new ke(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],c=>{r=r.add(c.wr)})}),N.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;ie.isDocumentKey(o)||(o=o.child(""));let s=new ke(new ie(o),0),c=new yt(be);return this.br.forEachWhile(u=>{let l=u.key.path;return!!r.isPrefixOf(l)&&(l.length===i&&(c=c.add(u.wr)),!0)},s),N.resolve(this.Cr(c))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ze(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return N.forEach(n.mutations,i=>{let o=new ke(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new ke(n,0),i=this.br.firstAfterOrEqual(r);return N.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,N.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var Wy=class{constructor(e){this.Mr=e,this.docs=function(){return new Pt(ie.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return N.resolve(r?r.document.mutableCopy():as.newInvalidDocument(n))}getEntries(e,n){let r=bd();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():as.newInvalidDocument(i))}),N.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=bd(),s=n.path,c=new ie(s.child("")),u=this.docs.getIteratorFrom(c);for(;u.hasNext();){let{key:l,value:{document:f}}=u.getNext();if(!s.isPrefixOf(l.path))break;l.path.length>s.length+1||v2(y2(f),r)<=0||(i.has(f.key)||Av(n,f))&&(o=o.insert(f.key,f.mutableCopy()))}return N.resolve(o)}getAllFromCollectionGroup(e,n,r,i){le()}Or(e,n){return N.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new Ky(this)}getSize(e){return N.resolve(this.size)}},Ky=class extends Uy{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),N.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var Qy=class{constructor(e){this.persistence=e,this.Nr=new Or(n=>Tv(n),Sv),this.lastRemoteSnapshotVersion=Re.min(),this.highestTargetId=0,this.Lr=0,this.Br=new ac,this.targetCount=0,this.kr=sc.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),N.resolve()}getLastRemoteSnapshotVersion(e){return N.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return N.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),N.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),N.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new sc(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,N.resolve()}updateTargetData(e,n){return this.Kn(n),N.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,N.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,c)=>{c.sequenceNumber<=n&&r.get(c.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),N.waitFor(o).next(()=>i)}getTargetCount(e){return N.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return N.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),N.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),N.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),N.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return N.resolve(r)}containsKey(e,n){return N.resolve(this.Br.containsKey(n))}};var Yy=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new I2(0),this.Kr=!1,this.Kr=!0,this.$r=new qy,this.referenceDelegate=e(this),this.Ur=new Qy(this),this.indexManager=new Vy,this.remoteDocumentCache=function(i){return new Wy(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new Ly(n),this.Gr=new Hy(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new zy,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new Gy(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){U("MemoryPersistence","Starting transaction:",e);let i=new Zy(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return N.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},Zy=class extends hy{constructor(e){super(),this.currentSequenceNumber=e}},Jy=class t{constructor(e){this.persistence=e,this.Jr=new ac,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw le()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),N.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),N.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),N.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return N.forEach(this.Xr,r=>{let i=ie.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,Re.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return N.or([()=>N.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var Xy=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=at(),i=at();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var ev=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var tv=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return dC()?8:w2(Ke())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new ev;return this.Xi(e,n,s).next(c=>{if(o.result=c,this.zi)return this.es(e,n,s,c.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Ja()<=ue.DEBUG&&U("QueryEngine","SDK will not create cache indexes for query:",Xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),N.resolve()):(Ja()<=ue.DEBUG&&U("QueryEngine","Query:",Xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Ja()<=ue.DEBUG&&U("QueryEngine","The SDK decides to create cache indexes for query:",Xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Mi(n))):N.resolve())}Yi(e,n){if(BD(n))return N.resolve(null);let r=Mi(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Sy(n,null,"F"),r=Mi(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=at(...o);return this.Ji.getDocuments(e,s).next(c=>this.indexManager.getMinOffset(e,r).next(u=>{let l=this.ts(n,c);return this.ns(n,l,s,u.readTime)?this.Yi(e,Sy(n,null,"F")):this.rs(e,l,n,u)}))})))}Zi(e,n,r,i){return BD(n)||i.isEqual(Re.min())?N.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?N.resolve(null):(Ja()<=ue.DEBUG&&U("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Xa(n)),this.rs(e,s,n,m2(i,-1)).next(c=>c))})}ts(e,n){let r=new yt(O2(e));return n.forEach((i,o)=>{Av(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return Ja()<=ue.DEBUG&&U("QueryEngine","Using full collection scan to execute query:",Xa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Pi.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var nv=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Pt(be),this._s=new Or(o=>Tv(o),Sv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new $y(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function aj(t,e,n,r){return new nv(t,e,n,r)}function ST(t,e){return I(this,null,function*(){let n=De(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],c=[],u=at();for(let l of i){s.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}for(let l of o){c.push(l.batchId);for(let f of l.mutations)u=u.add(f.key)}return n.localDocuments.getDocuments(r,u).next(l=>({hs:l,removedBatchIds:s,addedBatchIds:c}))})})})}function cj(t,e){let n=De(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(c,u,l,f){let g=l.batch,_=g.keys(),w=N.resolve();return _.forEach(A=>{w=w.next(()=>f.getEntry(u,A)).next(O=>{let P=l.docVersions.get(A);ze(P!==null),O.version.compareTo(P)<0&&(g.applyToRemoteDocument(O,l),O.isValidDocument()&&(O.setReadTime(l.commitVersion),f.addEntry(O)))})}),w.next(()=>c.mutationQueue.removeMutationBatch(u,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let u=at();for(let l=0;l<c.mutationResults.length;++l)c.mutationResults[l].transformResults.length>0&&(u=u.add(c.batch.mutations[l].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function uj(t){let e=De(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function lj(t,e){let n=De(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}var Td=class{constructor(){this.activeTargetIds=U2()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var rv=class{constructor(){this.so=new Td,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Td,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var iv=class{_o(e){}shutdown(){}};var Sd=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){U("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){U("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var fd=null;function ty(){return fd===null?fd=function(){return 268435456+Math.round(2147483648*Math.random())}():fd++,"0x"+fd.toString(16)}var dj={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var ov=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var st="WebChannelConnection",sv=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let c=ty(),u=this.xo(n,r.toUriEncodedString());U("RestConnection",`Sending RPC '${n}' ${c}:`,u,i);let l={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(l,o,s),this.No(n,u,l,i).then(f=>(U("RestConnection",`Received RPC '${n}' ${c}: `,f),f),f=>{throw md("RestConnection",`RPC '${n}' ${c} failed with error: `,f,"url: ",u,"request:",i),f})}Lo(n,r,i,o,s,c){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ms}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=dj[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=ty();return new Promise((s,c)=>{let u=new Qm;u.setWithCredentials(!0),u.listenOnce(Zm.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Za.NO_ERROR:let f=u.getResponseJson();U(st,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),s(f);break;case Za.TIMEOUT:U(st,`RPC '${e}' ${o} timed out`),c(new z(R.DEADLINE_EXCEEDED,"Request time out"));break;case Za.HTTP_ERROR:let g=u.getStatus();if(U(st,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let w=_?.error;if(w&&w.status&&w.message){let A=function(P){let j=P.toLowerCase().replace(/_/g,"-");return Object.values(R).indexOf(j)>=0?j:R.UNKNOWN}(w.status);c(new z(A,w.message))}else c(new z(R.UNKNOWN,"Server responded with status "+u.getStatus()))}else c(new z(R.UNAVAILABLE,"Connection failed."));break;default:le()}}finally{U(st,`RPC '${e}' ${o} completed.`)}});let l=JSON.stringify(i);U(st,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",l,r,15)})}Bo(e,n,r){let i=ty(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=ey(),c=Xm(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(u.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(u.xmlHttpFactory=new Ym({})),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let f=o.join("");U(st,`Creating RPC '${e}' stream ${i}: ${f}`,u);let g=s.createWebChannel(f,u),_=!1,w=!1,A=new ov({Io:P=>{w?U(st,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(_||(U(st,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),U(st,`RPC '${e}' stream ${i} sending:`,P),g.send(P))},To:()=>g.close()}),O=(P,j,K)=>{P.listen(j,X=>{try{K(X)}catch(ve){setTimeout(()=>{throw ve},0)}})};return O(g,Jo.EventType.OPEN,()=>{w||(U(st,`RPC '${e}' stream ${i} transport opened.`),A.yo())}),O(g,Jo.EventType.CLOSE,()=>{w||(w=!0,U(st,`RPC '${e}' stream ${i} transport closed`),A.So())}),O(g,Jo.EventType.ERROR,P=>{w||(w=!0,md(st,`RPC '${e}' stream ${i} transport errored:`,P),A.So(new z(R.UNAVAILABLE,"The operation could not be completed")))}),O(g,Jo.EventType.MESSAGE,P=>{var j;if(!w){let K=P.data[0];ze(!!K);let X=K,ve=X.error||((j=X[0])===null||j===void 0?void 0:j.error);if(ve){U(st,`RPC '${e}' stream ${i} received error:`,ve);let Ze=ve.status,me=function(y){let E=Oe[y];if(E!==void 0)return K2(E)}(Ze),b=ve.message;me===void 0&&(me=R.INTERNAL,b="Unknown error status: "+Ze+" with message "+ve.message),w=!0,A.So(new z(me,b)),g.close()}else U(st,`RPC '${e}' stream ${i} received:`,K),A.bo(K)}}),O(c,Jm.STAT_EVENT,P=>{P.stat===ld.PROXY?U(st,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===ld.NOPROXY&&U(st,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{A.wo()},0),A}};function ny(){return typeof document<"u"?document:null}function jd(t){return new Py(t,!0)}var Ad=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&U("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var av=class{constructor(e,n,r,i,o,s,c,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=c,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Ad(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return I(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return I(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return I(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===R.RESOURCE_EXHAUSTED?(Ni(n.toString()),Ni("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===R.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new z(R.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>I(this,null,function*(){this.state=0,this.start()}))}I_(e){return U("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(U("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}};var cv=class extends av{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ze(!!e.streamToken),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ze(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=nj(e.writeResults,e.commitTime),r=ts(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=X2(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>tj(this.serializer,r))};this.a_(n)}};var uv=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new z(R.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,ky(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new z(R.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,c])=>this.connection.Lo(e,ky(n,r),i,s,c,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===R.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new z(R.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},lv=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Ni(n),this.D_=!1):U("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var dv=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>I(this,null,function*(){lc(this)&&(U("RemoteStore","Restarting streams for network reachability change."),yield function(u){return I(this,null,function*(){let l=De(u);l.L_.add(4),yield uc(l),l.q_.set("Unknown"),l.L_.delete(4),yield Ud(l)})}(this))}))}),this.q_=new lv(r,i)}};function Ud(t){return I(this,null,function*(){if(lc(t))for(let e of t.B_)yield e(!0)})}function uc(t){return I(this,null,function*(){for(let e of t.B_)yield e(!1)})}function lc(t){return De(t).L_.size===0}function AT(t,e,n){return I(this,null,function*(){if(!Vd(e))throw e;t.L_.add(1),yield uc(t),t.q_.set("Offline"),n||(n=()=>uj(t.localStore)),t.asyncQueue.enqueueRetryable(()=>I(this,null,function*(){U("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Ud(t)}))})}function MT(t,e){return e().catch(n=>AT(t,n,e))}function Bd(t){return I(this,null,function*(){let e=De(t),n=kr(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;hj(e);)try{let i=yield lj(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,fj(e,i)}catch(i){yield AT(e,i)}xT(e)&&RT(e)})}function hj(t){return lc(t)&&t.O_.length<10}function fj(t,e){t.O_.push(e);let n=kr(t);n.r_()&&n.V_&&n.m_(e.mutations)}function xT(t){return lc(t)&&!kr(t).n_()&&t.O_.length>0}function RT(t){kr(t).start()}function pj(t){return I(this,null,function*(){kr(t).p_()})}function gj(t){return I(this,null,function*(){let e=kr(t);for(let n of t.O_)e.m_(n.mutations)})}function mj(t,e,n){return I(this,null,function*(){let r=t.O_.shift(),i=Ry.from(r,e,n);yield MT(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Bd(t)})}function yj(t,e){return I(this,null,function*(){e&&kr(t).V_&&(yield function(r,i){return I(this,null,function*(){if(function(s){return W2(s)&&s!==R.ABORTED}(i.code)){let o=r.O_.shift();kr(r).s_(),yield MT(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Bd(r)}})}(t,e)),xT(t)&&RT(t)})}function WD(t,e){return I(this,null,function*(){let n=De(t);n.asyncQueue.verifyOperationInProgress(),U("RemoteStore","RemoteStore received new credentials");let r=lc(n);n.L_.add(3),yield uc(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Ud(n)})}function vj(t,e){return I(this,null,function*(){let n=De(t);e?(n.L_.delete(2),yield Ud(n)):e||(n.L_.add(2),yield uc(n),n.q_.set("Unknown"))})}function kr(t){return t.U_||(t.U_=function(n,r,i){let o=De(n);return o.w_(),new cv(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:pj.bind(null,t),mo:yj.bind(null,t),f_:gj.bind(null,t),g_:mj.bind(null,t)}),t.B_.push(e=>I(this,null,function*(){e?(t.U_.s_(),yield Bd(t)):(yield t.U_.stop(),t.O_.length>0&&(U("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var hv=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Wn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,c=new t(e,n,s,i,o);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new z(R.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function NT(t,e){if(Ni("AsyncQueue",`${e}: ${t}`),Vd(t))return new z(R.UNAVAILABLE,`${e}: ${t}`);throw t}var fv=class{constructor(){this.queries=KD(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=De(n),o=i.queries;i.queries=KD(),o.forEach((s,c)=>{for(let u of c.j_)u.onError(r)})})(this,new z(R.ABORTED,"Firestore shutting down"))}};function KD(){return new Or(t=>pT(t),fT)}function _j(t){t.Y_.forEach(e=>{e.next()})}var QD,YD;(YD=QD||(QD={})).ea="default",YD.Cache="cache";var pv=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Or(c=>pT(c),fT),this.Ma=new Map,this.xa=new Set,this.Oa=new Pt(ie.comparator),this.Na=new Map,this.La=new ac,this.Ba={},this.ka=new Map,this.qa=sc.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function wj(t,e,n){return I(this,null,function*(){let r=Cj(t);try{let i=yield function(s,c){let u=De(s),l=ct.now(),f=c.reduce((w,A)=>w.add(A.key),at()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",w=>{let A=bd(),O=at();return u.cs.getEntries(w,f).next(P=>{A=P,A.forEach((j,K)=>{K.isValidDocument()||(O=O.add(j))})}).next(()=>u.localDocuments.getOverlayedDocuments(w,A)).next(P=>{g=P;let j=[];for(let K of c){let X=G2(K,g.get(K.key).overlayedDocument);X!=null&&j.push(new Yn(K.key,X,aT(X.value.mapValue),xi.exists(!0)))}return u.mutationQueue.addMutationBatch(w,l,j,c)}).next(P=>{_=P;let j=P.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(w,P.batchId,j)})}).then(()=>({batchId:_.batchId,changes:mT(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,c,u){let l=s.Ba[s.currentUser.toKey()];l||(l=new Pt(be)),l=l.insert(c,u),s.Ba[s.currentUser.toKey()]=l}(r,i.batchId,n),yield $d(r,i.changes),yield Bd(r.remoteStore)}catch(i){let o=NT(i,"Failed to persist write");n.reject(o)}})}function ZD(t,e,n){let r=De(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let c=s.view.Z_(e);c.snapshot&&i.push(c.snapshot)}),function(s,c){let u=De(s);u.onlineState=c;let l=!1;u.queries.forEach((f,g)=>{for(let _ of g.j_)_.Z_(c)&&(l=!0)}),l&&_j(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Ij(t,e){return I(this,null,function*(){let n=De(t),r=e.batch.batchId;try{let i=yield cj(n.localStore,e);OT(n,r,null),PT(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield $d(n,i)}catch(i){yield nT(i)}})}function Ej(t,e,n){return I(this,null,function*(){let r=De(t);try{let i=yield function(s,c){let u=De(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let f;return u.mutationQueue.lookupMutationBatch(l,c).next(g=>(ze(g!==null),f=g.keys(),u.mutationQueue.removeMutationBatch(l,g))).next(()=>u.mutationQueue.performConsistencyCheck(l)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(l,f,c)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,f)).next(()=>u.localDocuments.getDocuments(l,f))})}(r.localStore,e);OT(r,e,n),PT(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield $d(r,i)}catch(i){yield nT(i)}})}function PT(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function OT(t,e,n){let r=De(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function $d(t,e,n){return I(this,null,function*(){let r=De(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((c,u)=>{s.push(r.Ka(u,e,n).then(l=>{var f;if((l||n)&&r.isPrimaryClient){let g=l?!l.fromCache:(f=n?.targetChanges.get(u.targetId))===null||f===void 0?void 0:f.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(l){i.push(l);let g=Xy.Wi(u.targetId,l);o.push(g)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,l){return I(this,null,function*(){let f=De(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>N.forEach(l,_=>N.forEach(_.$i,w=>f.persistence.referenceDelegate.addReference(g,_.targetId,w)).next(()=>N.forEach(_.Ui,w=>f.persistence.referenceDelegate.removeReference(g,_.targetId,w)))))}catch(g){if(!Vd(g))throw g;U("LocalStore","Failed to update sequence numbers: "+g)}for(let g of l){let _=g.targetId;if(!g.fromCache){let w=f.os.get(_),A=w.snapshotVersion,O=w.withLastLimboFreeSnapshotVersion(A);f.os=f.os.insert(_,O)}}})}(r.localStore,o))})}function bj(t,e){return I(this,null,function*(){let n=De(t);if(!n.currentUser.isEqual(e)){U("SyncEngine","User change. New user:",e.toKey());let r=yield ST(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(c=>{c.forEach(u=>{u.reject(new z(R.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield $d(n,r.hs)}})}function Cj(t){let e=De(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ij.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ej.bind(null,e),e}var Md=class{constructor(){this.synchronizeTabs=!1}initialize(e){return I(this,null,function*(){this.serializer=jd(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),yield this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)})}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return aj(this.persistence,new tv,e.initialUser,this.serializer)}createPersistence(e){return new Yy(Jy.Zr,this.serializer)}createSharedClientState(e){return new rv}terminate(){return I(this,null,function*(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}};var gv=class{initialize(e,n){return I(this,null,function*(){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>ZD(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=bj.bind(null,this.syncEngine),yield vj(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(e){return function(){return new fv}()}createDatastore(e){let n=jd(e.databaseInfo.databaseId),r=function(o){return new sv(o)}(e.databaseInfo);return function(o,s,c,u){return new uv(o,s,c,u)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,i,o,s,c){return new dv(r,i,o,s,c)}(this.localStore,this.datastore,e.asyncQueue,n=>ZD(this.syncEngine,n,0),function(){return Sd.D()?new Sd:new iv}())}createSyncEngine(e,n){return function(i,o,s,c,u,l,f){let g=new pv(i,o,s,c,u,l);return f&&(g.Qa=!0),g}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return I(this,null,function*(){var e,n;yield function(i){return I(this,null,function*(){let o=De(i);U("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield uc(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()})}};var mv=class{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qe.UNAUTHENTICATED,this.clientId=vd.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,o=>I(this,null,function*(){U("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(U("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new z(R.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Wn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>I(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=NT(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function ry(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),U("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>I(this,null,function*(){r.isEqual(i)||(yield ST(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function JD(t,e){return I(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Tj(t);U("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>WD(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>WD(e.remoteStore,i)),t._onlineComponents=e})}function Dj(t){return t.name==="FirebaseError"?t.code===R.FAILED_PRECONDITION||t.code===R.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}function Tj(t){return I(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){U("FirestoreClient","Using user provided OfflineComponentProvider");try{yield ry(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!Dj(n))throw n;md("Error using user provided cache. Falling back to memory cache: "+n),yield ry(t,new Md)}}else U("FirestoreClient","Using default OfflineComponentProvider"),yield ry(t,new Md);return t._offlineComponents})}function Sj(t){return I(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(U("FirestoreClient","Using user provided OnlineComponentProvider"),yield JD(t,t._uninitializedComponentsProvider._online)):(U("FirestoreClient","Using default OnlineComponentProvider"),yield JD(t,new gv))),t._onlineComponents})}function Aj(t){return Sj(t).then(e=>e.syncEngine)}function kT(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var XD=new Map;function FT(t,e,n){if(!n)throw new z(R.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Mj(t,e,n,r){if(e===!0&&r===!0)throw new z(R.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function eT(t){if(!ie.isDocumentKey(t))throw new z(R.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function tT(t){if(ie.isDocumentKey(t))throw new z(R.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function xv(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":le()}function LT(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new z(R.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=xv(t);throw new z(R.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var xd=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new z(R.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new z(R.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Mj("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=kT((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new z(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new z(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new z(R.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},gs=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xd({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new z(R.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new z(R.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xd(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new iy;switch(r.type){case"firstParty":return new cy(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new z(R.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=XD.get(n);r&&(U("ComponentProvider","Removing Datastore"),XD.delete(n),r.terminate())}(this),Promise.resolve()}};function VT(t,e,n,r={}){var i;let o=(t=LT(t,gs))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&md("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let c,u;if(typeof r.mockUserToken=="string")c=r.mockUserToken,u=Qe.MOCK_USER;else{c=oC(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new z(R.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qe(l)}t._authCredentials=new oy(new yd(c,u))}}var yv=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Kn=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Rr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},Rr=class t extends yv{constructor(e,n,r){super(e,n,R2(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Kn(this.firestore,null,new ie(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function jT(t,e,...n){if(t=wt(t),FT("collection","path",e),t instanceof gs){let r=Le.fromString(e,...n);return tT(r),new Rr(t,null,r)}{if(!(t instanceof Kn||t instanceof Rr))throw new z(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Le.fromString(e,...n));return tT(r),new Rr(t.firestore,null,r)}}function UT(t,e,...n){if(t=wt(t),arguments.length===1&&(e=vd.newId()),FT("doc","path",e),t instanceof gs){let r=Le.fromString(e,...n);return eT(r),new Kn(t,null,new ie(r))}{if(!(t instanceof Kn||t instanceof Rr))throw new z(R.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(Le.fromString(e,...n));return eT(r),new Kn(t.firestore,t instanceof Rr?t.converter:null,new ie(r))}}var vv=class{constructor(){this.au=Promise.resolve(),this.uu=[],this.cu=!1,this.lu=[],this.hu=null,this.Pu=!1,this.Iu=!1,this.Tu=[],this.t_=new Ad(this,"async_queue_retry"),this.Eu=()=>{let n=ny();n&&U("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()};let e=ny();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Eu)}get isShuttingDown(){return this.cu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.du(),this.Au(e)}enterRestrictedMode(e){if(!this.cu){this.cu=!0,this.Iu=e||!1;let n=ny();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Eu)}}enqueue(e){if(this.du(),this.cu)return new Promise(()=>{});let n=new Wn;return this.Au(()=>this.cu&&this.Iu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.uu.push(e),this.Ru()))}Ru(){return I(this,null,function*(){if(this.uu.length!==0){try{yield this.uu[0](),this.uu.shift(),this.t_.reset()}catch(e){if(!Vd(e))throw e;U("AsyncQueue","Operation failed with retryable error: "+e)}this.uu.length>0&&this.t_.Go(()=>this.Ru())}})}Au(e){let n=this.au.then(()=>(this.Pu=!0,e().catch(r=>{this.hu=r,this.Pu=!1;let i=function(s){let c=s.message||"";return s.stack&&(c=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),c}(r);throw Ni("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Pu=!1,r))));return this.au=n,n}enqueueAfterDelay(e,n,r){this.du(),this.Tu.indexOf(e)>-1&&(n=0);let i=hv.createAndSchedule(this,e,n,r,o=>this.Vu(o));return this.lu.push(i),i}du(){this.hu&&le()}verifyOperationInProgress(){}mu(){return I(this,null,function*(){let e;do e=this.au,yield e;while(e!==this.au)})}fu(e){for(let n of this.lu)if(n.timerId===e)return!0;return!1}gu(e){return this.mu().then(()=>{this.lu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.lu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.mu()})}pu(e){this.Tu.push(e)}Vu(e){let n=this.lu.indexOf(e);this.lu.splice(n,1)}};var Rd=class extends gs{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=function(){return new vv}(),this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||$T(this),this._firestoreClient.terminate()}};function BT(t,e){let n=typeof t=="object"?t:Go(),r=typeof t=="string"?t:e||"(default)",i=Ua(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=iC("firestore");o&&VT(i,...o)}return i}function xj(t){return t._firestoreClient||$T(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function $T(t){var e,n,r;let i=t._freezeSettings(),o=function(c,u,l,f){return new py(c,u,l,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,kT(f.experimentalLongPollingOptions),f.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new mv(t._authCredentials,t._appCheckCredentials,t._queue,o),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}var Nd=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Qn.fromBase64String(e))}catch(n){throw new z(R.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Qn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Pd=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new z(R.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Nt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Od=class{constructor(e){this._methodName=e}};var kd=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new z(R.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new z(R.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return be(this._lat,e._lat)||be(this._long,e._long)}};var Fd=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Rj=/^__.*__$/,_v=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yn(e,this.data,this.fieldMask,n,this.fieldTransforms):new Fi(e,this.data,n,this.fieldTransforms)}};function HT(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw le()}}var wv=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.yu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get wu(){return this.settings.wu}Su(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}bu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.vu(e),i}Cu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Su({path:r,Du:!1});return i.yu(),i}Fu(e){return this.Su({path:void 0,Du:!0})}Mu(e){return Ld(e,this.settings.methodName,this.settings.xu||!1,this.path,this.settings.Ou)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}yu(){if(this.path)for(let e=0;e<this.path.length;e++)this.vu(this.path.get(e))}vu(e){if(e.length===0)throw this.Mu("Document fields must not be empty");if(HT(this.wu)&&Rj.test(e))throw this.Mu('Document fields cannot begin and end with "__"')}},Iv=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||jd(e)}Nu(e,n,r,i=!1){return new wv({wu:e,methodName:n,Ou:r,path:Nt.emptyPath(),Du:!1,xu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Nj(t){let e=t._freezeSettings(),n=jd(t._databaseId);return new Iv(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Pj(t,e,n,r,i,o={}){let s=t.Nu(o.merge||o.mergeFields?2:0,e,n,i);WT("Data must be an object, but it was:",s,r);let c=qT(r,s),u,l;if(o.merge)u=new vn(s.fieldMask),l=s.fieldTransforms;else if(o.mergeFields){let f=[];for(let g of o.mergeFields){let _=Oj(e,g,n);if(!s.contains(_))throw new z(R.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Lj(f,_)||f.push(_)}u=new vn(f),l=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,l=s.fieldTransforms;return new _v(new yn(c),u,l)}function zT(t,e){if(GT(t=wt(t)))return WT("Unsupported field value:",e,t),qT(t,e);if(t instanceof Od)return function(r,i){if(!HT(i.wu))throw i.Mu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Mu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.Du&&e.wu!==4)throw e.Mu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let c of r){let u=zT(c,i.Fu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=wt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return B2(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=ct.fromDate(r);return{timestampValue:Oy(i.serializer,o)}}if(r instanceof ct){let o=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Oy(i.serializer,o)}}if(r instanceof kd)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Nd)return{bytesValue:Q2(i.serializer,r._byteString)};if(r instanceof Kn){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Mu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:DT(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fd)return function(s,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw c.Mu("VectorValues must only contain numeric values.");return Mv(c.serializer,u)})}}}}}}(r,i);throw i.Mu(`Unsupported field value: ${xv(r)}`)}(t,e)}function qT(t,e){let n={};return rT(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):cc(t,(r,i)=>{let o=zT(i,e.bu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function GT(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ct||t instanceof kd||t instanceof Nd||t instanceof Kn||t instanceof Od||t instanceof Fd)}function WT(t,e,n){if(!GT(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=xv(n);throw r==="an object"?e.Mu(t+" a custom object"):e.Mu(t+" "+r)}}function Oj(t,e,n){if((e=wt(e))instanceof Pd)return e._internalPath;if(typeof e=="string")return Fj(t,e);throw Ld("Field path arguments must be of type string or ",t,!1,void 0,n)}var kj=new RegExp("[~\\*/\\[\\]]");function Fj(t,e,n){if(e.search(kj)>=0)throw Ld(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Pd(...e.split("."))._internalPath}catch{throw Ld(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Ld(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,c=`Function ${e}() called with invalid data`;n&&(c+=" (via `toFirestore()`)"),c+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new z(R.INVALID_ARGUMENT,c+t+u)}function Lj(t,e){return t.some(n=>n.isEqual(e))}function Vj(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}function KT(t,e){let n=LT(t.firestore,Rd),r=UT(t),i=Vj(t.converter,e);return jj(n,[Pj(Nj(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,xi.exists(!1))]).then(()=>r)}function jj(t,e){return function(r,i){let o=new Wn;return r.asyncQueue.enqueueAndForget(()=>I(this,null,function*(){return wj(yield Aj(r),i,o)})),o.promise}(xj(t),e)}(function(e,n=!0){(function(i){ms=i})(Tr),Dr(new $t("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),c=new Rd(new sy(r.getProvider("auth-internal")),new ly(r.getProvider("app-check-internal")),function(l,f){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new z(R.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new gy(l.options.projectId,f)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),c._setSettings(o),c},"PUBLIC").setMultipleInstances(!0)),He(OD,"4.7.2",e),He(OD,"4.7.2","esm2017")})();var Zn=class{constructor(e){return e}},QT="firestore",Rv=class{constructor(){return Ba(QT)}};var Nv=new $("angularfire2.firestore-instances");function Uj(t,e){let n=Hl(QT,t,e);return n&&new Zn(n)}function Bj(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Zn(r)}}var $j={provide:Rv,deps:[[new pt,Nv]]},Hj={provide:Zn,useFactory:Uj,deps:[[new pt,Nv],Bn]};function YT(t,...e){return He("angularfire",Ei.full,"fst"),cn([Hj,$j,{provide:Nv,useFactory:Bj(t),multi:!0,deps:[we,_t,Qo,bi,[new pt,Ya],[new pt,Ko],...e]}])}var Hd=fn(KT,!0);var zd=fn(jT,!0);var ZT=fn(BT,!0);var zj=()=>["/yo"],qj=()=>["/registro"],qd=class t{constructor(e,n,r){this.firestore=e;this.router=n;this.auth=r}loginsCollection=[];userMail="";userPass="";mensajeError="";loggedUser="";LogIn(){return I(this,null,function*(){if(!this.userMail||!this.userPass){this.mensajeError="Por favor completa los campos.";return}MD(this.auth,this.userMail,this.userPass).then(e=>{this.router.navigate(["/home"]);let n=zd(this.firestore,"logins");return Hd(n,{fecha:new Date,email:this.userMail})}).then(()=>{console.log("Registro de inicio de sesi\xF3n guardado en Firestore.")}).catch(e=>{switch(e.code){case"auth/invalid-email":this.mensajeError="Email inv\xE1lido";break;case"auth/invalid-credential":this.mensajeError="Contrase\xF1a incorrecta";break;case"auth/user-not-found":this.mensajeError="Usuario no encontrado";break;case"auth/missing-password":this.mensajeError="Faltan completar campos";break;default:this.mensajeError="Ocurri\xF3 un error: "+e.message;break}})})}AutoComplete(){this.userMail="sofiadorbe@gmail.com",this.userPass="hola123"}static \u0275fac=function(n){return new(n||t)(Z(Zn),Z(mi),Z(qn))};static \u0275cmp=Ge({type:t,selectors:[["app-login"]],standalone:!0,features:[We],decls:51,vars:7,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","author","content","Yinka Enoch Adedokun"],[1,"container"],[1,"navbar"],["href","#"],[3,"routerLink"],[1,"container-fluid"],[1,"row","main-content","bg-success","text-center"],[1,"col-md-4","text-center","company__info"],[1,"company__logo"],[1,"fa","fa-android"],[1,"col-md-8","col-xs-12","col-sm-12","login_form"],[1,"row"],["control","",1,"form-group"],["type","text","name","username","id","username","placeholder","Username",1,"form__input",3,"ngModelChange","ngModel"],["type","password","name","password","id","password","placeholder","Password",1,"form__input",3,"ngModelChange","ngModel"],[1,"error-mensaje"],["type","button","value","JUGAR!",1,"btn",3,"click"],["type","button","value","Autocompletar",1,"btn",3,"click"],[1,"container-fluid","text-center","footer"]],template:function(n,r){n&1&&(M(0,"head"),ge(1,"meta",0)(2,"meta",1)(3,"meta",2),M(4,"title"),V(5,"Login Page"),x()(),M(6,"body")(7,"div",3)(8,"nav",4)(9,"ul")(10,"li")(11,"a",5),V(12,"Home"),x()(),M(13,"li")(14,"a",5),V(15,"Chat"),x()(),M(16,"li")(17,"a",6),V(18,"Sobre Mi"),x()(),M(19,"li")(20,"a",5),V(21,"Log Out"),x()()()()(),M(22,"div",7)(23,"div",8)(24,"div",9)(25,"span",10)(26,"h2"),ge(27,"span",11),x()()(),M(28,"div",12)(29,"div",7)(30,"div",13)(31,"h2"),V(32,"Log In"),x()(),M(33,"div",13)(34,"form",14)(35,"div",13)(36,"input",15),ln("ngModelChange",function(o){return On(r.userMail,o)||(r.userMail=o),o}),x()(),M(37,"div",13)(38,"input",16),ln("ngModelChange",function(o){return On(r.userPass,o)||(r.userPass=o),o}),x()(),M(39,"div",13)(40,"p",17),V(41),x(),M(42,"input",18),xe("click",function(){return r.LogIn()}),x(),M(43,"input",19),xe("click",function(){return r.AutoComplete()}),x()()()(),M(44,"div",13)(45,"p"),V(46,"No tienes una cuenta? "),M(47,"a",6),V(48,"Reg\xEDstrate aqu\xED"),x()()()()()()(),M(49,"div",20),V(50," Coded with \u2665 by Sofia Dorbessan "),x()()),n&2&&(H(17),ee("routerLink",$e(5,zj)),H(19),un("ngModel",r.userMail),H(2),un("ngModel",r.userPass),H(3),oi(r.mensajeError),H(6),ee("routerLink",$e(6,qj)))},dependencies:[Bt,mt,Ho,Fl,Er,$o,Ol,vi,ka],styles:["html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;background-color:#000;height:100%;overflow:hidden}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.container-fluid[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{margin:0;padding:0}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 300px 10px 20px;position:fixed;width:100%;display:flex;justify-content:center}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.main-content[_ngcontent-%COMP%]{width:50%;border-radius:20px;box-shadow:0 5px 5px #0006;margin:7em auto 2.5em;display:flex;background-color:#fff;overflow:hidden}.company__info[_ngcontent-%COMP%]{background-image:url(https://i.pinimg.com/736x/dc/19/53/dc1953322fa3946096ff13800e2de799.jpg);display:flex;flex-direction:column;justify-content:center;background-size:cover;height:60vh;background-position:center}.fa-android[_ngcontent-%COMP%]{font-size:3em}@media screen and (max-width: 640px){.main-content[_ngcontent-%COMP%]{width:90%}.company__info[_ngcontent-%COMP%]{display:none}.login_form[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px}}@media screen and (min-width: 642px) and (max-width:800px){.main-content[_ngcontent-%COMP%]{width:70%}}.row[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#fff;font-size:60px;font-weight:700;text-shadow:2px 2px 0px #e5ff00,-2px 2px 0px #e5ff00,2px -2px 0px #e5ff00,-2px -2px 0px #e5ff00}.login_form[_ngcontent-%COMP%]{background-color:#fff;border-top-right-radius:20px;border-bottom-right-radius:20px;border-top:1px solid #ccc;border-right:1px solid #ccc}form[_ngcontent-%COMP%]{padding:0 2em}.form__input[_ngcontent-%COMP%]{width:100%;border:0px solid transparent;border-radius:0;border-bottom:1px solid #aaa;padding:1em .5em .5em 2em;outline:none;margin:1.5em auto;transition:all .5s ease}.form__input[_ngcontent-%COMP%]:focus{border-bottom-color:#dee81f;box-shadow:0 0 5px #07070766;border-radius:4px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.btn[_ngcontent-%COMP%]{transition:all .5s ease;width:40%;border-radius:30px;color:#dee81f;font-weight:600;background-color:#fff;border:1px solid #dee81f;margin-top:1.5em;margin-bottom:1em;text-align:center}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{background-color:#dee81f;color:#fff}.footer[_ngcontent-%COMP%]{text-align:center;padding:10px 0;color:#fff;background-color:#000;margin-top:6em}.error-mensaje[_ngcontent-%COMP%]{color:red}"]})};var Gj=()=>["/login"],Wj=()=>["/"],XT="*[_ngcontent-%COMP%]{margin:0;padding:0;box-sizing:border-box}body[_ngcontent-%COMP%]{font-family:Arial,sans-serif;line-height:1.6;margin:0;padding:0;background:#f4f4f4;text-align:center}header[_ngcontent-%COMP%]{display:flex;justify-content:space-around;align-items:flex-start;height:100vh;background:#333;color:#fff;padding-top:100px}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center;z-index:1000}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.header-content[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:flex-start;text-align:left}.bio[_ngcontent-%COMP%]{margin-left:20px;padding:20px;border-radius:8px;max-width:500px;text-align:left;margin-top:110px}.mi-foto[_ngcontent-%COMP%]{width:200px;height:auto;border-radius:10%;margin-top:120px}.bio[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-top:20px;font-size:18px;line-height:1.8}.game-section[_ngcontent-%COMP%]{margin-top:50px;padding:20px;border-radius:8px;max-width:500px;text-align:left}.game-description[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:20px;margin-bottom:10px}.game-description[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style-type:disc;margin-left:20px;text-align:left}.game-description[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:18px;line-height:1.8}footer[_ngcontent-%COMP%]{background:#333;color:#fff;text-align:center;position:fixed;bottom:0;width:100%;display:flex;justify-content:space-between;align-items:center;padding:10px 40px}.social-media-footer[_ngcontent-%COMP%]{display:flex;margin-left:660px}.social-logo[_ngcontent-%COMP%]{width:40px;height:40px;margin-left:20px}",Gd=class t{static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ge({type:t,selectors:[["app-yo"]],standalone:!0,features:[We],decls:51,vars:4,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"header-content"],["src","yo.png","alt","Sofia Dorbessan",1,"mi-foto"],[1,"bio"],[1,"game-section"],[1,"game-description"],[1,"social-media-footer"],["href","https://www.linkedin.com/in/sofia-dorbessan-24a669210/","target","_blank"],["src","linkedin.png","alt","LinkedIn",1,"social-logo"],["href","https://github.com/sofidor","target","_blank"],["src","github.png","alt","GitHub",1,"social-logo"]],template:function(n,r){n&1&&(M(0,"html",0)(1,"head"),ge(2,"meta",1)(3,"meta",2),M(4,"title"),V(5,"Sobre M\xED - Sofia Dorbessan"),x()(),M(6,"body")(7,"div",3)(8,"nav",4)(9,"ul")(10,"li")(11,"a",5),V(12,"Log in"),x()(),M(13,"li")(14,"a",6),V(15,"Chat"),x()(),M(16,"li")(17,"a",5),V(18,"Home"),x()(),M(19,"li")(20,"a",6),V(21,"Log Out"),x()()()()(),M(22,"header")(23,"div",7),ge(24,"img",8),M(25,"div",9)(26,"h2"),V(27,"Sofia Dorbessan"),x(),M(28,"p"),V(29,"Soy estudiante de la Tecnicatura Universitaria en Programacion en la UTN (Universidad Tecnologica Nacional). Donde aprendi diferentes lenguaje como: C , C++ , Java Scrip , Python , PHP ,HTML, CSS, entre otros."),x()()(),M(30,"div",10)(31,"h2"),V(32,"Mi Juego - Pacman"),x(),M(33,"div",11)(34,"p"),V(35,"Pacman es un juego de arcade cl\xE1sico lanzado en 1980. El objetivo del juego es controlar a Pacman, una figura circular amarilla, y moverlo a trav\xE9s de un laberinto comiendo todos los puntos mientras se evitan los fantasmas. Si un fantasma toca a Pacman, perder\xE1s una vida."),x(),M(36,"h3"),V(37,"C\xF3mo jugar Pacman"),x(),M(38,"ul")(39,"li"),V(40,"Usa las teclas de flechas para mover a Pacman por el laberinto."),x(),M(41,"li"),V(42,"Colecciona todos los puntos peque\xF1os para avanzar de nivel."),x(),M(43,"li"),V(44,"Evita a los fantasmas: si te tocan, perder\xE1s una vida."),x()()()()(),M(45,"footer")(46,"div",12)(47,"a",13),ge(48,"img",14),x(),M(49,"a",15),ge(50,"img",16),x()()()()()),n&2&&(H(11),ee("routerLink",$e(2,Gj)),H(6),ee("routerLink",$e(3,Wj)))},dependencies:[Bt,mt],styles:[XT,XT]})};var Kj=()=>["/login"],Qj=()=>["/home"];function Yj(t,e){if(t&1&&ge(0,"div",7),t&2){let n=e.$implicit,r=e.index,i=Tt().index,o=Tt();ee("ngClass",o.getCellClass(n,i,r))}}function Zj(t,e){if(t&1&&(M(0,"div"),Dt(1,Yj,1,1,"div",6),x()),t&2){let n=e.$implicit;H(),ee("ngForOf",n)}}var Wd=class t{board=[];pacmanPosition={x:1,y:1};ghostPositions=[{x:9,y:9},{x:11,y:9},{x:13,y:9}];ngOnInit(){this.initializeBoard()}initializeBoard(){this.board=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,1,1,1,1,1,2,1,1,1,1,1,1,1,2,2,1],[1,2,1,2,2,2,2,2,1,2,1,2,2,2,2,2,1,2,2,1],[1,2,1,2,1,1,1,2,1,2,1,2,1,1,1,2,1,2,2,1],[1,2,1,2,1,2,1,2,2,2,2,2,1,2,1,2,1,2,2,1],[1,2,1,2,1,2,1,2,1,1,1,2,1,2,1,2,1,2,2,1],[1,2,2,2,2,2,1,2,1,2,2,2,1,2,2,2,2,2,2,1],[1,2,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,1,1,1,1,1,1,2,1,1,1,2,1,1,1,1,1,1,1,1],[1,2,2,2,2,2,1,2,2,2,2,2,1,2,2,2,2,2,2,1],[1,2,1,1,1,2,1,2,1,1,1,2,1,2,1,1,1,2,1,1],[1,2,2,2,1,2,2,2,2,2,2,2,2,2,1,2,2,2,2,1],[1,1,1,2,1,1,1,1,1,2,1,1,1,1,1,2,1,1,1,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,2,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,2,1],[1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]]}movePacman(e,n){let r=this.pacmanPosition.x+e,i=this.pacmanPosition.y+n;r>=0&&r<this.board[0].length&&i>=0&&i<this.board.length&&this.board[i][r]!==1&&(this.pacmanPosition={x:r,y:i},this.board[i][r]===2&&(this.board[i][r]=0))}handleKeyDown(e){switch(e.key){case"ArrowUp":this.movePacman(-1,0);break;case"ArrowDown":this.movePacman(1,0);break;case"ArrowLeft":this.movePacman(0,-1);break;case"ArrowRight":this.movePacman(0,1);break}}getCellClass(e,n,r){if(n===this.pacmanPosition.y&&r===this.pacmanPosition.x)return"pacman";for(let i of this.ghostPositions)if(n===i.y&&r===i.x)return"ghost";return e===0?"coin":e===1?"wall":"path"}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ge({type:t,selectors:[["app-pacman"]],hostBindings:function(n,r){n&1&&xe("keydown",function(o){return r.handleKeyDown(o)},!1,RE)},standalone:!0,features:[We],decls:18,vars:5,consts:[[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"game-board"],[4,"ngFor","ngForOf"],["class","cell",3,"ngClass",4,"ngFor","ngForOf"],[1,"cell",3,"ngClass"]],template:function(n,r){n&1&&(M(0,"body")(1,"div",0)(2,"nav",1)(3,"ul")(4,"li")(5,"a",2),V(6,"Log in"),x()(),M(7,"li")(8,"a",3),V(9,"Chat"),x()(),M(10,"li")(11,"a",2),V(12,"Home"),x()(),M(13,"li")(14,"a",3),V(15,"Log Out"),x()()()()(),M(16,"div",4),Dt(17,Zj,2,1,"div",5),x()()),n&2&&(H(5),ee("routerLink",$e(3,Kj)),H(6),ee("routerLink",$e(4,Qj)),H(6),ee("ngForOf",r.board))},dependencies:[Bt,mt,V0,Ao],styles:['body[_ngcontent-%COMP%], html[_ngcontent-%COMP%]{margin:0;padding:0;height:100%;width:100%;display:flex;justify-content:center;align-items:center;background-color:#000;overflow:hidden}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center;z-index:1000}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.game-board[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(20,1fr);grid-template-rows:repeat(20,1fr);width:min(100vw,100vh);height:min(100vw,100vh);gap:2px;background-color:#000;margin-top:70px}.cell[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;width:100%;height:100%}.wall[_ngcontent-%COMP%]{background-color:#00f}.path[_ngcontent-%COMP%]{background-color:#000;position:relative}.path[_ngcontent-%COMP%]:after{content:"";display:block;background-color:gold;width:30%;height:30%;border-radius:50%;position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.pacman[_ngcontent-%COMP%]{background-color:#ff0;border-radius:50%}.ghost[_ngcontent-%COMP%]{background-color:red;border-radius:50%}']})};var Jj=()=>["/login"],Xj=()=>["/yo"],Kd=class t{constructor(e,n,r){this.auth=e;this.firestore=n;this.router=r}newUserMail="";newUsername="";newUserPass="";newUserRepeatPass="";msjError="";Register(){if(this.newUserPass.length<6){this.msjError="La contrase\xF1a debe tener al menos 6 caracteres";return}this.newUserPass===this.newUserRepeatPass?SD(this.auth,this.newUserMail,this.newUserPass).then(e=>{console.log("Usuario creado correctamente");let n=zd(this.firestore,"users");Hd(n,{fecha:new Date,email:this.newUserMail}).then(()=>{this.router.navigate(["/home"])}).catch(r=>{this.msjError="Error al agregar usuario a la base de datos",console.error("Error al agregar documento:",r)})}).catch(e=>{switch(e.code){case"auth/invalid-email":this.msjError="Email inv\xE1lido";break;case"auth/email-already-in-use":this.msjError="Email ya en uso";break;case"auth/missing-password":this.msjError="Faltan completar campos";break;case"auth/weak-password":this.msjError="La contrase\xF1a es demasiado d\xE9bil";break;default:this.msjError="Ocurri\xF3 un error";break}}):this.msjError="Las contrase\xF1as no coinciden"}static \u0275fac=function(n){return new(n||t)(Z(qn),Z(Zn),Z(mi))};static \u0275cmp=Ge({type:t,selectors:[["app-registro"]],standalone:!0,features:[We],decls:48,vars:8,consts:[["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","author","content","Yinka Enoch Adedokun"],[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"container-fluid"],[1,"row","main-content","bg-success","text-center"],[1,"col-md-4","text-center","company__info"],[1,"company__logo"],[1,"fa","fa-android"],[1,"col-md-8","col-xs-12","col-sm-12","login_form"],[1,"row"],["control","",1,"form-group"],["type","text","name","username","id","username","placeholder","Email",1,"form__input",3,"ngModelChange","ngModel"],["type","password","name","password","id","password","placeholder","Contrase\xF1a",1,"form__input",3,"ngModelChange","ngModel"],["type","password","name","repeatpassword","id","repeatpassword","placeholder","Repita la contrase\xF1a",1,"form__input",3,"ngModelChange","ngModel"],["type","button",1,"btn",3,"click"],[1,"error-mensaje"],[1,"container-fluid","text-center","footer"]],template:function(n,r){n&1&&(M(0,"head"),ge(1,"meta",0)(2,"meta",1)(3,"meta",2),M(4,"title"),V(5,"Registrarme"),x()(),M(6,"body")(7,"div",3)(8,"nav",4)(9,"ul")(10,"li")(11,"a",5),V(12,"Log in"),x()(),M(13,"li")(14,"a",6),V(15,"Chat"),x()(),M(16,"li")(17,"a",5),V(18,"Sobre Mi"),x()(),M(19,"li")(20,"a",6),V(21,"Log Out"),x()()()()(),M(22,"div",7)(23,"div",8)(24,"div",9)(25,"span",10)(26,"h2"),ge(27,"span",11),x()()(),M(28,"div",12)(29,"div",7)(30,"div",13)(31,"h2"),V(32,"Registrate"),x()(),M(33,"div",13)(34,"form",14)(35,"div",13)(36,"input",15),ln("ngModelChange",function(o){return On(r.newUserMail,o)||(r.newUserMail=o),o}),x()(),M(37,"div",13)(38,"input",16),ln("ngModelChange",function(o){return On(r.newUserPass,o)||(r.newUserPass=o),o}),x()(),M(39,"div",13)(40,"input",17),ln("ngModelChange",function(o){return On(r.newUserRepeatPass,o)||(r.newUserRepeatPass=o),o}),x()(),M(41,"div",13)(42,"button",18),xe("click",function(){return r.Register()}),V(43,"Registrarme!"),x(),M(44,"p",19),V(45),x()()()()()()()(),M(46,"div",20),V(47," Coded with \u2665 by Sofia Dorbessan "),x()()),n&2&&(H(11),ee("routerLink",$e(6,Jj)),H(6),ee("routerLink",$e(7,Xj)),H(19),un("ngModel",r.newUserMail),H(2),un("ngModel",r.newUserPass),H(2),un("ngModel",r.newUserRepeatPass),H(5),oi(r.msjError))},dependencies:[Bt,mt,Ho,Fl,Er,$o,Ol,vi,ka],styles:[".container-fluid[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{margin:0;padding:0}html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{margin:0;padding:0;background-color:#000;height:100%;overflow:hidden}body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.main-content[_ngcontent-%COMP%]{width:50%;border-radius:20px;box-shadow:0 5px 5px #0006;margin:7em auto 2.5em;display:flex;background-color:#fff;overflow:hidden}.company__info[_ngcontent-%COMP%]{background-image:url(https://i.pinimg.com/736x/dc/19/53/dc1953322fa3946096ff13800e2de799.jpg);display:flex;flex-direction:column;justify-content:center;background-size:cover;height:60vh;background-position:center}.fa-android[_ngcontent-%COMP%]{font-size:3em}@media screen and (max-width: 640px){.main-content[_ngcontent-%COMP%]{width:90%}.company__info[_ngcontent-%COMP%]{display:none}.login_form[_ngcontent-%COMP%]{border-top-left-radius:20px;border-bottom-left-radius:20px}}@media screen and (min-width: 642px) and (max-width:800px){.main-content[_ngcontent-%COMP%]{width:70%}}.row[_ngcontent-%COMP%] > h2[_ngcontent-%COMP%]{color:#fff;font-size:60px;font-weight:700;text-shadow:2px 2px 0px #e5ff00,-2px 2px 0px #e5ff00,2px -2px 0px #e5ff00,-2px -2px 0px #e5ff00}.login_form[_ngcontent-%COMP%]{background-color:#fff;border-top-right-radius:20px;border-bottom-right-radius:20px;border-top:1px solid #ccc;border-right:1px solid #ccc}form[_ngcontent-%COMP%]{padding:0 2em}.form__input[_ngcontent-%COMP%]{width:100%;border:0px solid transparent;border-radius:0;border-bottom:1px solid #aaa;padding:1em .5em .5em 2em;outline:none;margin:1.5em auto;transition:all .5s ease}.form__input[_ngcontent-%COMP%]:focus{border-bottom-color:#dee81f;box-shadow:0 0 5px #07070766;border-radius:4px}.row[_ngcontent-%COMP%]{display:flex;justify-content:space-around}.btn[_ngcontent-%COMP%]{transition:all .5s ease;width:40%;border-radius:30px;color:#dee81f;font-weight:600;background-color:#fff;border:1px solid #dee81f;text-align:center}.btn[_ngcontent-%COMP%]:hover, .btn[_ngcontent-%COMP%]:focus{background-color:#dee81f;color:#fff}.footer[_ngcontent-%COMP%]{text-align:center;padding:10px 0;color:#fff;background-color:#000;margin-top:6em}.error-mensaje[_ngcontent-%COMP%]{color:red}"]})};var eU=()=>["/login"],tU=()=>["/home"];function nU(t,e){if(t&1&&(M(0,"span",30),V(1),x()),t&2){let n=e.$implicit;H(),Zt(" ",n," ")}}function rU(t,e){t&1&&(mr(),ge(0,"circle",31))}function iU(t,e){t&1&&(mr(),ge(0,"line",32))}function oU(t,e){t&1&&(mr(),ge(0,"line",33))}function sU(t,e){t&1&&(mr(),ge(0,"line",34))}function aU(t,e){t&1&&(mr(),ge(0,"line",35))}function cU(t,e){t&1&&(mr(),ge(0,"line",36))}function uU(t,e){if(t&1){let n=To();M(0,"button",37),xe("click",function(){let i=Io(n).$implicit,o=Tt();return Eo(o.intentarLetra(i))}),V(1),x()}if(t&2){let n=e.$implicit,r=Tt();ee("disabled",r.letrasIntentadas.includes(n)),H(),Zt(" ",n," ")}}function lU(t,e){if(t&1){let n=To();M(0,"button",37),xe("click",function(){let i=Io(n).$implicit,o=Tt();return Eo(o.intentarLetra(i))}),V(1),x()}if(t&2){let n=e.$implicit,r=Tt();ee("disabled",r.letrasIntentadas.includes(n)),H(),Zt(" ",n," ")}}function dU(t,e){if(t&1){let n=To();M(0,"button",37),xe("click",function(){let i=Io(n).$implicit,o=Tt();return Eo(o.intentarLetra(i))}),V(1),x()}if(t&2){let n=e.$implicit,r=Tt();ee("disabled",r.letrasIntentadas.includes(n)),H(),Zt(" ",n," ")}}function hU(t,e){if(t&1){let n=To();M(0,"div")(1,"p",38),V(2,"\xA1Felicitaciones! Has adivinado la palabra."),x(),M(3,"button",39),xe("click",function(){Io(n);let i=Tt();return Eo(i.reiniciarJuego())}),V(4,"Volver a Jugar"),x()()}}function fU(t,e){if(t&1){let n=To();M(0,"div")(1,"p",38),V(2,"Lo siento, has perdido. La palabra era: "),M(3,"strong"),V(4),x()(),M(5,"button",39),xe("click",function(){Io(n);let i=Tt();return Eo(i.reiniciarJuego())}),V(6,"Volver a Jugar"),x()()}if(t&2){let n=Tt();H(4),oi(n.palabra)}}var Qd=class t{palabras=["ANGULAR","PROGRAMACION","ELEFANTE","DESARROLLO","HELADO","MIEDO","DEDOS","CELULAR","BICICLETA","NUMEROS","CARAMELOS","DULCE","COMPUTADORA","AUTOMOVIL","MUSICA","LENGUAJE","TELEVISOR","AVION","PERRO","GATO","VENTANA","LIBRO","ESCALERA","FUTBOL","PLANTA","CAMISA","CAF\xC9","SILLA","MOCHILA"];palabra="";alfabeto="ABCDEFGHIJKLMNOPQRSTUVWXYZ".split("");letrasIntentadas=[];intentosRestantes=6;palabraMostrada=[];ganaste=!1;perdiste=!1;ngOnInit(){this.inicializarJuego()}inicializarJuego(){this.seleccionarPalabraAleatoria(),this.palabraMostrada=Array(this.palabra.length).fill("_"),this.letrasIntentadas=[],this.intentosRestantes=6,this.ganaste=!1,this.perdiste=!1}seleccionarPalabraAleatoria(){let e=Math.floor(Math.random()*this.palabras.length);this.palabra=this.palabras[e]}intentarLetra(e){this.letrasIntentadas.push(e),this.palabra.includes(e)?this.actualizarPalabraMostrada(e):this.intentosRestantes--,this.intentosRestantes===0&&(this.perdiste=!0),this.palabraMostrada.includes("_")||(this.ganaste=!0)}actualizarPalabraMostrada(e){for(let n=0;n<this.palabra.length;n++)this.palabra[n]===e&&(this.palabraMostrada[n]=e)}reiniciarJuego(){this.inicializarJuego()}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ge({type:t,selectors:[["app-ahorcado"]],standalone:!0,features:[We],decls:52,vars:17,consts:[["lang","es"],["charset","UTF-8"],["name","viewport","content","width=device-width, initial-scale=1.0"],["http-equiv","X-UA-Compatible","content","ie=edge"],[1,"container-nav"],[1,"navbar"],[3,"routerLink"],["href","#"],[1,"container"],[1,"palabra-contenedor"],[1,"palabra-titulo"],["class","letra",4,"ngFor","ngForOf"],[1,"ahorcado-dibujo"],["width","200","height","250"],["x1","10","y1","230","x2","150","y2","230","stroke","black","stroke-width","5"],["x1","80","y1","230","x2","80","y2","30","stroke","black","stroke-width","5"],["x1","80","y1","30","x2","150","y2","30","stroke","black","stroke-width","5"],["x1","150","y1","30","x2","150","y2","50","stroke","black","stroke-width","5"],["cx","150","cy","70","r","20","stroke","black","stroke-width","5","fill","none",4,"ngIf"],["x1","150","y1","90","x2","150","y2","150","stroke","black","stroke-width","5",4,"ngIf"],["x1","150","y1","110","x2","120","y2","130","stroke","black","stroke-width","5",4,"ngIf"],["x1","150","y1","110","x2","180","y2","130","stroke","black","stroke-width","5",4,"ngIf"],["x1","150","y1","150","x2","120","y2","180","stroke","black","stroke-width","5",4,"ngIf"],["x1","150","y1","150","x2","180","y2","180","stroke","black","stroke-width","5",4,"ngIf"],[1,"botones-letras"],[1,"fila-teclado"],[3,"disabled","click",4,"ngFor","ngForOf"],[1,"contenedor-oportunidades"],[1,"oportunidades"],[4,"ngIf"],[1,"letra"],["cx","150","cy","70","r","20","stroke","black","stroke-width","5","fill","none"],["x1","150","y1","90","x2","150","y2","150","stroke","black","stroke-width","5"],["x1","150","y1","110","x2","120","y2","130","stroke","black","stroke-width","5"],["x1","150","y1","110","x2","180","y2","130","stroke","black","stroke-width","5"],["x1","150","y1","150","x2","120","y2","180","stroke","black","stroke-width","5"],["x1","150","y1","150","x2","180","y2","180","stroke","black","stroke-width","5"],[3,"click","disabled"],[1,"btn-p"],[1,"btn",3,"click"]],template:function(n,r){n&1&&(M(0,"html",0)(1,"head"),ge(2,"meta",1)(3,"meta",2)(4,"meta",3),M(5,"title"),V(6,"Juego del Ahorcado"),x()(),M(7,"body")(8,"div",4)(9,"nav",5)(10,"ul")(11,"li")(12,"a",6),V(13,"Log in"),x()(),M(14,"li")(15,"a",7),V(16,"Chat"),x()(),M(17,"li")(18,"a",6),V(19,"Home"),x()(),M(20,"li")(21,"a",7),V(22,"Log Out"),x()()()()(),M(23,"div",8)(24,"div",9)(25,"p",10),V(26," Palabra: "),x(),Dt(27,nU,2,1,"span",11),x(),M(28,"div",12),mr(),M(29,"svg",13),ge(30,"line",14)(31,"line",15)(32,"line",16)(33,"line",17),Dt(34,rU,1,0,"circle",18)(35,iU,1,0,"line",19)(36,oU,1,0,"line",20)(37,sU,1,0,"line",21)(38,aU,1,0,"line",22)(39,cU,1,0,"line",23),x()(),iE(),M(40,"div",24)(41,"div",25),Dt(42,uU,2,2,"button",26),x(),M(43,"div",25),Dt(44,lU,2,2,"button",26),x(),M(45,"div",25),Dt(46,dU,2,2,"button",26),x()(),M(47,"div",27)(48,"p",28),V(49),x()(),Dt(50,hU,5,0,"div",29)(51,fU,7,1,"div",29),x()()()),n&2&&(H(12),ee("routerLink",$e(15,eU)),H(6),ee("routerLink",$e(16,tU)),H(9),ee("ngForOf",r.palabraMostrada),H(7),ee("ngIf",r.intentosRestantes<=5),H(),ee("ngIf",r.intentosRestantes<=4),H(),ee("ngIf",r.intentosRestantes<=3),H(),ee("ngIf",r.intentosRestantes<=2),H(),ee("ngIf",r.intentosRestantes<=1),H(),ee("ngIf",r.intentosRestantes===0),H(3),ee("ngForOf",r.alfabeto.slice(0,10)),H(2),ee("ngForOf",r.alfabeto.slice(10,19)),H(2),ee("ngForOf",r.alfabeto.slice(19)),H(3),Zt("Oportunidades restantes: ",r.intentosRestantes,""),H(),ee("ngIf",r.ganaste),H(),ee("ngIf",r.perdiste))},dependencies:[mt,Ao,j0,Bt],styles:["body[_ngcontent-%COMP%]{background-image:url(https://www.creativefabrica.com/wp-content/uploads/2022/11/28/Hangmans-Noose-Tree-Background-49132024-1.png);background-size:cover;background-position:center;background-repeat:no-repeat;min-height:100vh;margin:0}.container[_ngcontent-%COMP%]{text-align:center;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif;margin-top:20px;padding:20px}.container-nav[_ngcontent-%COMP%]{text-align:center}.navbar[_ngcontent-%COMP%]{background-color:#000;padding:10px 20px;position:fixed;top:0;left:0;right:0;width:100%;display:flex;justify-content:center;z-index:1000}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0;display:flex}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-left:30px}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;font-size:20px;padding:10px;display:inline-block}.navbar[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{background-color:#a3ae3a;border-radius:4px}.palabra-contenedor[_ngcontent-%COMP%]{background-color:#000000a5;padding:15px;border-radius:5px;display:inline-block;margin-top:70px}.palabra-titulo[_ngcontent-%COMP%]{display:inline-block;font-size:24px;font-weight:700;margin-right:10px;border-radius:5px;color:#efef1c}.letra[_ngcontent-%COMP%]{padding:5px;margin:0 5px;font-size:24px;display:inline-block;text-align:center;color:#efef1c}.palabraMostrada[_ngcontent-%COMP%]{font-size:30px;font-weight:700;color:#4caf50;margin-bottom:20px}.ahorcado-dibujo[_ngcontent-%COMP%]{margin:20px auto}svg[_ngcontent-%COMP%]{background-color:#dde81da4;border:1px solid #0b0a0a;border-radius:8px;box-shadow:0 4px 10px #0000001a;padding:10px}.botones-letras[_ngcontent-%COMP%]{margin:20px 0;display:inline-block}.fila-teclado[_ngcontent-%COMP%]{margin-bottom:10px}button[_ngcontent-%COMP%]{margin:5px;padding:10px;font-size:24px;width:50px;height:50px;border-radius:5px;border:1px solid #000000;cursor:pointer;background-color:#ebecb448;transition:background-color .3s ease,box-shadow .3s ease}button[_ngcontent-%COMP%]:hover{background-color:#c6cb289d;box-shadow:0 4px 6px #0000001a}button[_ngcontent-%COMP%]:active{background-color:#d5d5d5;box-shadow:inset 0 4px 6px #0003}button[_ngcontent-%COMP%]:disabled{background-color:#ddd;cursor:not-allowed}.btn[_ngcontent-%COMP%]{margin-top:20px;padding:15px 25px;font-size:24px;width:150px;height:auto;border-radius:8px;border:1px solid #f97272;background-color:#f44336;color:#fff;cursor:pointer;transition:background-color .3s ease,transform .2s ease}.btn[_ngcontent-%COMP%]:hover{background-color:#e53935}.btn[_ngcontent-%COMP%]:active{transform:scale(.98)}.btn-p[_ngcontent-%COMP%]{font-size:28px;color:#333;margin-bottom:20px}p[_ngcontent-%COMP%]{font-size:30px;color:#555}p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#f44336}.contenedor-oportunidades[_ngcontent-%COMP%]{position:relative}.oportunidades[_ngcontent-%COMP%]{position:absolute;transform:translateY(-750%);padding:10px;font-size:20px;color:#000;background-color:#d3e91262}@media (max-width: 768px){button[_ngcontent-%COMP%]{width:50px;height:50px;font-size:18px}.btn[_ngcontent-%COMP%]{width:120px;padding:12px 20px;font-size:20px}h1[_ngcontent-%COMP%]{font-size:28px}}"]})};function pU(t,e){if(t&1&&(M(0,"div",7)(1,"p"),V(2),M(3,"span",8),V(4),x()()()),t&2){let n=e.$implicit;H(2),Zt("",n.text," "),H(2),Zt("(",n.time,")")}}var Yd=class t{message="";messages=[];constructor(){}ngOnInit(){}sendMessage(){if(this.message.trim()){let e=new Date().toLocaleTimeString();this.messages.push({text:this.message,time:e}),this.message=""}}static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ge({type:t,selectors:[["app-chat"]],standalone:!0,features:[We],decls:10,vars:2,consts:[[1,"chat-container"],[1,"chat-header"],[1,"chat-messages"],["class","message-item",4,"ngFor","ngForOf"],[1,"chat-input"],["placeholder","Escribe un mensaje...",3,"ngModelChange","ngModel"],[3,"click"],[1,"message-item"],[1,"time"]],template:function(n,r){n&1&&(M(0,"div",0)(1,"div",1)(2,"h2"),V(3,"Chat en Vivo"),x()(),M(4,"div",2),Dt(5,pU,5,2,"div",3),x(),M(6,"div",4)(7,"input",5),ln("ngModelChange",function(o){return On(r.message,o)||(r.message=o),o}),x(),M(8,"button",6),xe("click",function(){return r.sendMessage()}),V(9,"Enviar"),x()()()),n&2&&(H(5),ee("ngForOf",r.messages),H(2),un("ngModel",r.message))},dependencies:[mt,Ao,Ho,Er,$o,vi],styles:[".chat-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;height:100vh;width:100%;max-width:600px;margin:0 auto;border:1px solid #ccc;background-color:#f9f9f9}.chat-header[_ngcontent-%COMP%]{background-color:#4caf50;padding:10px;color:#fff;text-align:center}.chat-messages[_ngcontent-%COMP%]{flex:1;padding:10px;overflow-y:auto;background-color:#fff}.chat-messages[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{padding:5px 10px;border-radius:10px;background-color:#e4e4e4;margin-bottom:10px;max-width:80%}.chat-input[_ngcontent-%COMP%]{display:flex;padding:10px;border-top:1px solid #ccc}.chat-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{flex:1;padding:10px;border:none;border-radius:5px}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{background-color:#4caf50;color:#fff;padding:10px 15px;border:none;border-radius:5px;cursor:pointer}.chat-input[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{background-color:#45a049}"]})};var eS=[{path:"login",component:qd},{path:"home",component:Tl},{path:"registro",component:Kd},{path:"yo",component:Gd},{path:"pacman",component:Wd},{path:"ahorcado",component:Qd},{path:"chat",component:Yd},{path:"",redirectTo:"/login",pathMatch:"full"}];var tS={providers:[E0({eventCoalescing:!0}),Rb(eS),MC(()=>xC({projectId:"salajuegos-4ae7b",appId:"1:503761293861:web:ab3251c9869b57c5df25cc",storageBucket:"salajuegos-4ae7b.appspot.com",apiKey:"AIzaSyA4ILBSXBbhBV67ikiunUgSE08pFJX5aMc",authDomain:"salajuegos-4ae7b.firebaseapp.com",messagingSenderId:"503761293861"})),TD(()=>AD()),YT(()=>ZT())]};var Zd=class t{title="ejercicio1";static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Ge({type:t,selectors:[["app-root"]],standalone:!0,features:[We],decls:1,vars:0,template:function(n,r){n&1&&ge(0,"router-outlet")},dependencies:[Sg]})};K0(Zd,tS).catch(t=>console.error(t));
